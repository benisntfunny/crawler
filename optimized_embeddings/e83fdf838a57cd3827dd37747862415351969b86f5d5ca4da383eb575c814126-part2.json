{
    "id": "e83fdf838a57cd3827dd37747862415351969b86f5d5ca4da383eb575c814126-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.om_salesforce_payments_exchanges_rma.htm&language=en_US&type=5",
    "content": "nullSalesforce Order Management\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce Order Management\n Order Management Resources\n Salesforce Order Management Licenses and Allocations\n Preconfigured Permission Sets for Salesforce Order Management\n Salesforce Payments and Order Management\n Order Management Lifecycle\n Order Management Objects\n Order Management Shopper and Buyer Records\n Configure Order Management Flows\n Einstein Generative AI for Order Management\n High-Scale Orders\n Deleting Order Management Records\n Order Management Console\n Order Summary\n Order Fulfillment\n Distributed Order Management\n Payments and Invoices\n Process Exceptions\n Order Service Tasks\n Order Management and Service Cloud\n View Order History\n Cancel an Order Item\n Reship an Order Item\n Discount an Order Item\n Process an Exchange (Simple)\n Return an Order Item\n Exchanges with RMA Returns Overview\n Exchanges with RMA Setup\n Users and Permissions Configuration for Exchanges RMA\n Activate the Exchanges with RMA Flow Template\n Configure Flow for Exchanges with RMA\n Add the Exchanges with RMA Flow to an Object Page\n Add Country and State Picklists for Exchanges with RMA\n Connect B2C Commerce and Salesforce for Exchanges RMA\n Add a Web Store Inventory Source for Exchanges with RMA\n Payments for Exchanges with RMA\n Salesforce Payments for Exchanges with RMA\n Configure a Payment Gateway for Exchanges RMA (B2C Only)\n Process an Exchange with an RMA Return\n Order on Behalf Of Overview\n Store Fulfillment Application Overview\n Reports for Order Management\n B2C Commerce Connections\n Troubleshoot the B2C Commerce Integration\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE ORDER MANAGEMENT\nSalesforce Payments for Exchanges with RMA\n\nIf an exchange requires additional funds, use Salesforce Payments to charge and accept those funds seamlessly.\n\nREQUIRED EDITIONS\nAvailable in: Lightning Experience\nAvailable in: Enterprise, Unlimited, and Developer Editions\n\nSalesforce Payments can work with Exchanges RMA using B2C, B2B, or D2C Commerce.\n\nBecause Salesforce Payment Gateways don’t automatically appear as available integrations, there’s an extra step for Exchanges RMA on B2B and D2C stores to work with Salesforce Payments.\n\nSet up an alternative provider on the Payments page. This alternative provider must be a credit card gateway that’s created by Salesforce Payments. To configure the StoreIntegratedService for Salesforce payments, run this script. Use your own web store name and merchant account name for the payment gateway.\n\nEXAMPLE\n// Script to add a connection between the webstore and the payment gateway for stores using\n// Salesforce Payments (SFP) as the payment gateway for SFP does not show in the the Payment \n// Alternate Integration.\n\nString merchantAccountName = 'DemoTest';\nString webStoreName = 'B2B Store';\n\n// obtain webstoreid\nList<WebStore> webstores = [SELECT Id, Name FROM WebStore WHERE Name = :webStoreName];\nSystem.debug('Webstores: ' + webstores);\nif(webstores.isEmpty()){\n    System.debug('Error obtaining webstore with name ' + webStoreName);\n}\nString webStoreId = webstores[0].Id;\nSystem.debug('WebStoreId: ' + webStoreId);\n\n// obtain merchant account \nList<MerchAccPaymentMethodSet> merchAccPaymentMethodSet = [SELECT Id, MerchantAccountId, DeveloperName FROM MerchAccPaymentMethodSet WHERE MerchantAccount.Name = :merchantAccountName];\nSystem.debug('Details: ' + merchAccPaymentMethodSet);\nif(merchAccPaymentMethodSet.isEmpty()){\n    System.debug('Error obtaining MerchAccPaymentMethodSet with name ' + merchantAccountName);\n}\nString merchantAccountId = merchAccPaymentMethodSet[0].MerchantAccountId;\nSystem.debug('merchantAccountId: ' + merchantAccountId);\n\n// obtain payment gateway id from the merchant account\nList<PaymentGateway> paymentGateways = [SELECT Id, PaymentGatewayName FROM PaymentGateway WHERE MerchantAccountId = :merchantAccountId];\nSystem.debug('paymentGateways: ' + paymentGateways);\nif(paymentGateways.isEmpty()){\n    System.debug('Error obtaining payment gateway with merchant account id ' + merchantAccountId);\n}\nString paymentGatewayId = paymentGateways[0].Id;\nSystem.debug('paymentGatewayId: ' + paymentGatewayId);\n\n// If a StoreIntegratedService already exists for Payment on the WebStore then update the Integration field with the paymentGatewayId\nList<StoreIntegratedService> storeServices = [SELECT Id FROM StoreIntegratedService WHERE StoreId = :webStoreId AND ServiceProviderType ='Payment' ];\nSystem.debug('storeServices: ' + storeServices);\nif(storeServices.isEmpty()){\n    StoreIntegratedService storeService = new StoreIntegratedService(\n        StoreId = webStoreId,\n        Integration = paymentGatewayId,\n        ServiceProviderType ='Payment');\n    insert storeService;\n} else {\n    StoreIntegratedService existingStoreService = storeServices[0];\n    existingStoreService.Integration = paymentGatewayId;\n    update existingStoreService;\n}\n\nSEE ALSO\nExchanges with RMA Setup\nExchanges with RMA Returns Overview\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Integrating Salesforce Payments with Exchanges and RMAs",
    "keywords": [
        "salesforce payments",
        "exchanges rma",
        "rma returns",
        "b2c commerce integration",
        "distributed order management"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_lifecycle_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shopper_records.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_configure_om_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_einstein_gen_ai_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_high_scale_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_editable_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_summary.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_fulfillment.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_distributed_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_service.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_order_items_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_return_merchandise_authorization.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_charge_return_fees.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_exchanges_rma.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_overview_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_setup_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_application.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_reports.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_objects_and_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_account_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_billing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_fulfillment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_inventory_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_transaction_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_routing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shipment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_b2c_commerce_connections.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        -0.04626673460006714,
        1.3729091882705688,
        -0.02037040889263153,
        -0.471231609582901,
        -0.047731995582580566,
        0.503255307674408,
        -0.7202277183532715,
        -0.6541868448257446,
        -0.6792305707931519,
        -0.17189744114875793,
        -0.061977237462997437,
        0.37529098987579346,
        0.7580447196960449,
        -0.9353634715080261,
        3.805835723876953,
        0.6740818023681641,
        0.8385348916053772,
        0.022719401866197586,
        0.591979444026947,
        1.4404011964797974,
        -0.2095353603363037,
        -0.04517567157745361,
        0.42657405138015747,
        -1.0830976963043213,
        -0.6651067733764648,
        -0.19101092219352722,
        0.7824985384941101,
        0.7307896018028259,
        -0.9836866855621338,
        -0.24964836239814758,
        -0.7335507869720459,
        0.10540629178285599,
        0.227958083152771,
        -0.5776182413101196,
        -0.8300343155860901,
        -0.14382076263427734,
        -0.4071137607097626,
        0.796507716178894,
        -0.31687498092651367,
        -0.4518647789955139,
        -0.20151127874851227,
        -0.6315048933029175,
        -0.9135931730270386,
        -0.9726179242134094,
        0.3023688793182373,
        0.3259560167789459,
        0.9840543866157532,
        -0.9249824285507202,
        -0.5928564071655273,
        0.4586508870124817,
        1.2346376180648804,
        0.5110555291175842,
        0.11207985132932663,
        -0.7494373917579651,
        0.8295387029647827,
        -0.029283061623573303,
        -0.8459352254867554,
        0.11700394749641418,
        0.03939705714583397,
        0.39629921317100525,
        -0.42307716608047485,
        0.018130842596292496,
        -0.04596714302897453,
        0.11508026719093323,
        1.1637593507766724,
        -0.6569883823394775,
        1.161877989768982,
        -0.5070825219154358,
        -0.08921806514263153,
        -0.08848470449447632,
        0.037311650812625885,
        -0.02817733958363533,
        0.6802791357040405,
        -0.5114790201187134,
        0.3603498339653015,
        0.26432114839553833,
        -0.6194963455200195,
        0.2287549078464508,
        -0.5176103115081787,
        0.2330700308084488,
        0.5005423426628113,
        0.8580845594406128,
        0.2965162694454193,
        -0.4586682915687561,
        -0.41263601183891296,
        -0.44648098945617676,
        -0.3536529242992401,
        -0.8167021870613098,
        -0.7853619456291199,
        0.017885610461235046,
        -0.33269864320755005,
        0.3304724097251892,
        0.7577841877937317,
        -0.6582118272781372,
        0.47931477427482605,
        0.20153288543224335,
        0.05855574086308479,
        0.15097250044345856,
        0.6592486500740051,
        -0.11499002575874329,
        -0.6531195044517517,
        -0.27949410676956177,
        -0.06200387328863144,
        0.06293521821498871,
        0.5280147790908813,
        1.3155022859573364,
        -0.30625247955322266,
        0.37278270721435547,
        0.09116673469543457
    ]
}