{
    "id": "cea02205a76cd3c418330893087a55563ec41afc2dbece0c2a93582ffd8011a5-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_identity_iot.htm&language=en_US&type=5",
    "content": "nullEnhance Salesforce with Code\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Enhance Salesforce with Code\n Salesforce Development Tools\n Replacement Tools for Workbench\n Work With APIs\n Write Code\n Developer Console\n Work with Code\n Custom Metadata Types\n Canvas App Previewer\n Remote Access Application\n Secure Identity for the Internet of Things\n Prerequisites for Implementing Asset Tokens\n Using and Validating Asset Tokens\n Proof-of-Possession for Asset Tokens\n Debug Your Code\n Test Your Changes\n Manage Scratch Orgs\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nENHANCE SALESFORCE WITH CODE\nSecure Identity for the Internet of Things\n\nAsset tokens are an open-standards-based JWT authentication token for verifying and securing requests from connected devices. They identify the device to a backend service that processes the stream of data and events from the device. They allow registration of device data with the Salesforce platform and linking it to Salesforce CRM data about the customer, account, or contact, helping you to act on behalf of the customer. You can even support custom business processes using asset token events. Asset tokens enable more proactive support and more predictive engagement with your customers, on an unprecedented scale.\n\nREQUIRED EDITIONS\nAvailable in: both Salesforce Classic (not available in all orgs) and Lightning Experience\nAvailable in: All Editions\n\nFor example, let’s say that your customer purchases a connected device and registers an account with your support community. Your company offers an app, such as a mobile app or a provisioning gateway, that acts as an agent for device registration. The app allows the user to connect to the device, log in to your support community, and register the device. Your community issues an asset token that identifies the device to your backend cloud service.\n\nAfter registration, the device can operate independently of the app, routinely sending data about its state and operations to your backend service. If the backend proactively detects an abnormal behavior or state, indicating an issue or potential issue, it automatically creates a case. The case is associated with the asset, which is tied directly to the customer’s contact record and your company’s support process. The device can also signal that resources such as ink toner are running low, predicting potential new opportunities to market and sell.\n\nThis diagram shows how asset tokens are issued, verified, and used to secure calls to backend services for a connected device. Detailed steps follow.\n\nRequesting and Issuing Asset Tokens\n(1) The app that interacts with your device requests an access token for API access. The app can be any application, such as a mobile app or a provisioning gateway, that serves as a bridge between the device and Salesforce.\n(2) Salesforce returns the access token.\n(3) The app communicates with your device to request metadata, which can include a name, device ID, serial number, public key, or custom attributes.\n(4) The device returns the requested metadata.\n(5) The app sends its access token and device metadata to Salesforce, requesting an asset token.\n(6) Salesforce verifies the authenticity of the request and the authorization of the app and user.\n(7) Salesforce publishes an asset token event record and attempts to associate the device with an existing or new asset in the Service Cloud. If you’ve subscribed to receive platform events in Apex triggers to support custom business processes, they execute.\n(8) Salesforce returns the asset token to the app.\n(9) The app has now registered the asset and provides the asset token to the device, which can now operate independently from the app.\nAuthorizing Device Access with Asset Tokens\n(1) The device presents its data or event to your backend service along with the asset token. The backend service provides device functionality such as gathering telemetry data, monitoring device performance, and acting on behalf of the user.\n(2) Your backend service requests the public key from Salesforce.\n(3) Salesforce returns the device-specific public key.\n(4) Your backend service validates the asset token and determines whether the device is authorized for the requested operation.\n(5) Optionally, your backend service can use the asset token to identify the Salesforce account or contact who owns the device.\nPrerequisites for Implementing Asset Tokens\nComplete the required and recommended prerequisites for asset tokens.\nUsing and Validating Asset Tokens\nAfter Salesforce issues an asset token, the device presents its data or event to your backend service along with the asset token. Your backend service validates the asset token and determines whether the device is authorized for the requested operation. Common methods for securing communications between the device and your backend service are the bearer token sequence and the JWT bearer token exchange sequence. Use standard open-source libraries to validate asset token JWTs.\nProof-of-Possession for Asset Tokens\nIf you construct an actor token holding the public key of your asset and sign it with your asset’s private key, Salesforce binds that public key into your asset token. This pattern allows for what’s known as Proof-of-Possession or Holder of Key. The asset can prove that it holds the private key corresponding to the public key that Salesforce binds into the cnf claim during issuance. Proof-of-Possession helps provide greater assurance that the token is being presented by the actual asset it was issued to.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Enhance Salesforce with Asset Tokens",
    "keywords": [
        "asset tokens",
        "salesforce authentication",
        "internet of things",
        "device registration",
        "proof-of-possession",
        "jwt authentication"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.extend_code_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.work_with_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.monitor_rate_limit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.writing_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_tab_query_editor.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_menubar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_logs_panel.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.working_with_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_custom_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_static_resources.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.aura_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.securing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_package_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_page_level_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cl_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.dev_scontrol.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_metadata_api.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_relationships.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatype_validation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_package_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.canvas_app_previewer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.action_link_group_template.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_request.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custom_perms_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_identity_iot.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.debugging_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_view_system_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_perspectives.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_debug_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.testing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_test_execution.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_asset_token_prerequisites.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_asset_token_using_validating.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_asset_token_pop.htm&language=en_US&type=5"
    ],
    "embedding": [
        0.5443410873413086,
        0.49846717715263367,
        0.5774606466293335,
        0.17698155343532562,
        -0.27980905771255493,
        0.09181194007396698,
        -0.5979301333427429,
        0.08058706670999527,
        0.04647579789161682,
        -0.47019636631011963,
        -0.5159965753555298,
        -1.080198884010315,
        -0.10938560962677002,
        0.8568161725997925,
        -0.09127849340438843,
        -0.08230271935462952,
        -0.0960690900683403,
        0.12142574042081833,
        -0.17410245537757874,
        -0.26068511605262756,
        -0.974543571472168,
        -0.328988254070282,
        -0.9604729413986206,
        -0.48162469267845154,
        0.9645475149154663,
        -0.4567703902721405,
        4.238771915435791,
        -0.20941150188446045,
        0.5153182744979858,
        0.20880457758903503,
        0.1756603717803955,
        0.8737479448318481,
        0.2153117060661316,
        -0.24555620551109314,
        0.0797339454293251,
        -0.2833293378353119,
        -0.1468334197998047,
        -0.523476243019104,
        -0.30672213435173035,
        -0.28819456696510315,
        -0.6532672643661499,
        0.7522512078285217,
        0.22417056560516357,
        -0.5421724915504456,
        0.6789187788963318,
        -1.0041643381118774,
        -0.5207640528678894,
        -0.15405824780464172,
        0.34447580575942993,
        1.0220328569412231,
        0.1158941388130188,
        -1.0017287731170654,
        -0.2368936836719513,
        0.3507592976093292,
        -0.7313252687454224,
        -0.4357857406139374,
        -0.008733689785003662,
        0.007907811552286148,
        0.46912166476249695,
        -0.5263000726699829,
        -0.282283753156662,
        0.9003481864929199,
        1.3262264728546143,
        0.5037979483604431,
        0.0843828022480011,
        0.07794774323701859,
        0.36095142364501953,
        -0.09981906414031982,
        -0.3917274475097656,
        -0.4022292196750641,
        -0.37103602290153503,
        -0.040502384305000305,
        0.07454854249954224,
        -0.0033107250928878784,
        0.12691733241081238,
        -0.46586108207702637,
        0.7329424023628235,
        -0.08372946083545685,
        0.14905256032943726,
        -0.8759537935256958,
        -0.048845138400793076,
        0.5056825280189514,
        0.025919003412127495,
        -0.24255093932151794,
        0.07332737743854523,
        -0.2648140788078308,
        0.16489923000335693,
        0.29004937410354614,
        0.4713279604911804,
        -0.6243058443069458,
        -0.5152353048324585,
        0.0044105201959609985,
        0.4410232603549957,
        0.7767992615699768,
        -0.11826721578836441,
        -0.43281468749046326,
        -0.6567044854164124,
        -0.24773332476615906,
        -0.6529892086982727,
        -0.48325830698013306,
        -0.1267099678516388,
        0.16208046674728394,
        0.07634959369897842,
        0.8608214855194092,
        0.4003742039203644,
        -0.5175426006317139,
        -0.15684902667999268,
        0.10998737812042236,
        -0.9407374262809753,
        -0.5852287411689758,
        1.0100321769714355,
        0.3213486075401306,
        -0.24496330320835114,
        -0.183318093419075,
        0.47485142946243286,
        -0.06308263540267944,
        0.3706626892089844,
        0.7484603524208069,
        0.20266596972942352,
        0.1999187171459198,
        0.7033101916313171
    ]
}