{
    "id": "34a8568ff73f7a99091004eefd9fed8d993cd95023b4c7153c2404c325a7b9ef-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_package_access.htm&language=en_US&type=5",
    "content": "nullEnhance Salesforce with Code\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Enhance Salesforce with Code\n Salesforce Development Tools\n Replacement Tools for Workbench\n Work With APIs\n Write Code\n Developer Console\n Work with Code\n Custom Metadata Types\n What are Custom Metadata Types?\n Create, Edit, and Delete Custom Metadata Types and Records\n Custom Metadata Relationships\n Custom Metadata Type Validation Rules\n Reference Custom Metadata Type Records in Default Values\n Custom Metadata Types and Advanced Formula Fields\n Create and Manage Custom Metadata Types Using CLI Commands\n Access Custom Metadata Records Programmatically\n Control Read Access to Custom Metadata Types\n Protection and Privacy Options for Custom Metadata Types\n Package Custom Metadata Types and Records\n Add Custom Metadata Type Fields to Existing Packages\n Access Rules When Packaging Custom Metadata Types and Records\n Considerations for Custom Metadata Type Packages\n Custom Metadata Types and Process Builder\n Deploy Custom Metadata Types and Records to Production Orgs Using...\n Custom Metadata Types Limitations\n Custom Metadata Allocations and Usage Calculations\n Canvas App Previewer\n Remote Access Application\n Secure Identity for the Internet of Things\n Debug Your Code\n Test Your Changes\n Manage Scratch Orgs\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nENHANCE SALESFORCE WITH CODE\nAccess Rules When Packaging Custom Metadata Types and Records\n\nUnderstand the access rules when you develop a managed package that contains or reads custom metadata types and records.\n\nREQUIRED EDITIONS\nAvailable in: Salesforce Classic and Lightning Experience\n\n\nProtected custom metadata types in managed packages are available in: Developer Edition and scratch orgs\n\nPackage uploads and installs are available in Group, Enterprise, Performance, Unlimited, and Developer Editions\n\nCreate, edit, and delete custom metadata type records from installed packages Group and Professional Editions\n\nWhen you create a custom metadata type, the package type and the Visibility field determine whether the custom metadata type is public or private. You can only create protected custom metadata types in a developer or scratch org that are then deployed in a managed package.\n\nWhen a custom metadata type is package-level protected using 2GP, records are only accessible from code within that managed package. Also the subscriber, and other packages, even within the same namespace, can’t access the custom metadata type or its records. A 2GP can only be created through the Salesforce DX command-line interface (SFDX CLI).\n\nTo enable package-level protection for a custom metadata type, set the Visibility field to PackageProtected declaratively, or using metadata API.\n\nWhen a custom metadata type is namespace protected, code that’s in the same namespace as the custom metadata types can read the records. Code that’s in a namespace that doesn’t contain either the type or the protected record can’t read the protected records. To set the accessibility of a package as namespace protected, set the Visibility field to Protected declaratively, or using metadata API.\n\nWARNING Protected custom metadata types behave like public custom metadata types when they’re outside of a managed package. Public custom metadata types are readable for all profiles, including the guest user. Don’t store secrets, personally identifying information, or any private data in these records. Use protected custom metadata types only in managed packages. Outside of a managed package, use named credentials or encrypted custom fields to store secrets like OAuth tokens, passwords, and other confidential material.\n\nWhen a type is public, you can’t convert it to protected. The subscriber can’t create records of a protected type.\n\nIf you change a type from protected to public, its protected records remain protected, and all other records become public. If you use Setup to create a record on a protected type, Protected Component is selected by default.\n\nAfter a managed package is released, subsequent versions of the package can be changed to a less restrictive protection level. For example, a package protected custom metadata type can be re-released as namespace protected. However, you can’t change the protection level to be more restrictive after it has been released in a managed package.\n\nENTITY\tACCESSIBILITY\nPackage Creator Org\t\nAdmins in the org developing the package can create a custom metadata record in their own package, regardless of the location of the record’s corresponding type. If an admin adds the record to the package, the record is deployed to the subscriber org.\nPackage creator orgs can delete protected managed released records in the org in which they were created, even if the corresponding type was created in a different org. When subscribers upgrade, the records are deleted from the subscriber org.\n\nMetadata API Callout\tMetadata API callouts behave as if they’re executed by the subscriber org code. As a result, someone can use a callout to view or change all records created by the subscriber org. However, the callout is used only to view or change the public records of installed managed packages. Configure a remote site setting to the subscriber’s Metadata API endpoint to use the Metadata API in the subscriber’s org.\nMetadata in Apex\tMetadata in Apex callouts behave as if they’re executed by subscriber org code. As a result, someone can use a callout to view or change all records created by the subscriber org. The callout can be used to view or change the public and protected records of installed managed packages.\nRecord Creator\t\nWhen you create a protected custom metadata record in your org, only your code, code from unmanaged packages, and code from the same namespace can access the record.\nRecord creators can create an unpackaged record using a Metadata API callout, even from managed code. Managed-installed code needs a remote site setting configured to execute all callouts. However, creators and subscribers can’t create a custom metadata record in an installed managed package using the Metadata API.\nIf a field of a custom metadata type is upgradeable, the record creator can change the record’s field value in the creator’s own org. Then, the record creator can upload a new version of the package, even if a different org created the type. If the record is in a managed package, these changes are propagated to the subscriber org when the org upgrades to a new version.\nIf a field is subscriber controlled, subscribers can also change the value in their own org. If the record is in a managed package, the new field value is propagated only to new package subscribers. Existing subscribers that upgrade to the latest version of the package don’t get the new field value.\n\nSubscriber Org\tIf a field is subscriber controlled, subscribers can also change the value in their own org. If the record is in a managed package, the new field value is propagated only to Subscriber Org new package subscribers. Existing subscribers that upgrade to the latest version of the package don’t get the new field value.\nSQL Queries in Apex\t\n\nYou can use SOQL queries in your Apex code to view a custom metadata record only if at least one of the following conditions is true.\n\nThe record is public.\nYour Apex code is in the same package as the custom metadata type.\nYour Apex code is in the same package as the record.\nSEE ALSO\nPackage Custom Metadata Types and Records\nMetadata API Developer Guide: CustomObject\nSecond-Generation Managed Packaging Developer Guide: Namespaces\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Access Rules for Custom Metadata Type Packages",
    "keywords": [
        "custom metadata types",
        "managed packages",
        "package-level protection",
        "namespace protection",
        "visibility field",
        "metadata api",
        "sfdx cli",
        "second-generation managed packaging"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.extend_code_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.work_with_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.monitor_rate_limit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.writing_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_tab_query_editor.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_menubar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_logs_panel.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.working_with_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_custom_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_static_resources.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.aura_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.securing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_package_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_page_level_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cl_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.dev_scontrol.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_metadata_api.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_relationships.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatype_validation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_package_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.canvas_app_previewer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.action_link_group_template.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_request.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custom_perms_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_identity_iot.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.debugging_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_view_system_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_perspectives.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_debug_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.testing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_test_execution.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        0.19838684797286987,
        -0.5864492058753967,
        0.09516660869121552,
        0.23535248637199402,
        0.5048338174819946,
        -0.35980692505836487,
        0.4087560772895813,
        0.33362677693367004,
        -0.5703285336494446,
        -0.2485731542110443,
        0.020412562415003777,
        0.05161772668361664,
        0.050486356019973755,
        -0.7887212634086609,
        -0.006469719111919403,
        -0.6315677165985107,
        -0.08059874176979065,
        -0.8607222437858582,
        -0.16389060020446777,
        -0.1072206199169159,
        -0.3010358214378357,
        0.07298725843429565,
        -0.36870279908180237,
        -0.6292957663536072,
        0.040127381682395935,
        0.0750080943107605,
        -0.5058095455169678,
        0.47159597277641296,
        -0.5057181119918823,
        0.7811598777770996,
        0.04826996475458145,
        -0.28122827410697937,
        -0.2689658999443054,
        -0.372363418340683,
        1.0133137702941895,
        0.2370556890964508,
        0.9198887348175049,
        1.0037624835968018,
        0.3142364025115967,
        -0.21485595405101776,
        -0.3021426200866699,
        -0.07361690700054169,
        -0.3698652684688568,
        -0.5712921023368835,
        -0.7264572978019714,
        0.2754453718662262,
        -0.3514869511127472,
        -1.3931255340576172,
        -0.6250755786895752,
        1.227946400642395,
        -0.4728735685348511,
        -0.4502081871032715,
        -0.5517607927322388,
        0.009657934308052063,
        -0.10024049878120422,
        -0.4383169412612915,
        -0.4889166057109833,
        -0.23285022377967834,
        0.16159053146839142,
        -0.12008912116289139,
        0.5837210416793823,
        -0.597091555595398,
        4.232529640197754,
        0.7562001943588257,
        0.44954249262809753,
        0.5678305625915527,
        0.40725770592689514,
        1.243214726448059,
        -0.061503179371356964,
        -0.23508885502815247,
        0.12236623466014862,
        -1.171560287475586,
        0.6327324509620667,
        0.05896623432636261,
        -0.18439634144306183,
        0.1871257722377777,
        -0.01105605810880661,
        0.3216765820980072,
        0.2618439495563507,
        -0.17359787225723267,
        0.18802762031555176,
        -0.6681059002876282,
        -0.5037835836410522,
        0.08551742136478424,
        0.025031130760908127,
        0.6160194277763367,
        -0.13003122806549072,
        -0.5486078262329102,
        0.3620033264160156,
        -0.4998425543308258,
        0.41889286041259766,
        -0.13013066351413727,
        -0.05571390688419342,
        -0.07509477436542511,
        0.8841273784637451,
        -0.2615528702735901,
        -0.1320338249206543,
        0.3948964774608612,
        0.07817724347114563,
        -0.46605896949768066,
        0.47750982642173767,
        0.21094858646392822,
        0.35841065645217896,
        -0.16758063435554504,
        -1.219754934310913,
        -0.3050951361656189,
        -0.3029218912124634,
        0.18323010206222534,
        -0.044574376195669174,
        -0.1009930968284607,
        0.44071635603904724,
        0.7133538126945496,
        0.7402966022491455,
        -0.31116151809692383,
        -0.12427110224962234,
        -0.1898704320192337,
        -0.4702187180519104,
        0.6619313955307007,
        0.07838431000709534,
        -0.2251731902360916,
        0.12859570980072021,
        0.8999453186988831,
        0.44930848479270935,
        0.40347620844841003,
        -0.8532407283782959,
        0.778091549873352,
        0.4073446989059448,
        0.5323375463485718,
        0.409530371427536,
        0.90790855884552,
        -0.1952154040336609,
        -0.5851677656173706,
        0.499203085899353,
        -0.35796377062797546,
        -0.4018772840499878,
        -0.784724235534668,
        -0.273580938577652,
        -0.47261568903923035,
        -0.28042763471603394,
        0.029678311198949814,
        -0.1971912831068039,
        -0.5267868638038635,
        0.11906225979328156,
        0.21141314506530762,
        0.032013025134801865,
        -0.7104995846748352,
        0.22149722278118134,
        0.21191659569740295,
        0.07065781950950623,
        -0.571559727191925,
        -0.42509517073631287,
        -0.7440252900123596,
        0.17516693472862244,
        1.1852235794067383,
        -0.7504397034645081,
        0.12778495252132416,
        0.279753178358078
    ]
}