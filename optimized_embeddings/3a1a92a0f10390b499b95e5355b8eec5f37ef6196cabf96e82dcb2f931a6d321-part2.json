{
    "id": "3a1a92a0f10390b499b95e5355b8eec5f37ef6196cabf96e82dcb2f931a6d321-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.considerations_for_migrating_expression_sets.htm&language=en_US&type=5",
    "content": "nullBusiness Rules Engine\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Business Rules Engine\n Get Started with Business Rules Engine\n Learn and Explore\n Set Up Business Rules Engine\n Decision Matrices\n Decision Tables for Business Rules Engine\n Expression Sets\n Expression Set Resources\n Object Variables in Expression Sets\n List Variables in Expression Sets\n Supported Data Types in Expression Sets\n Operators and Functions in Expression Sets\n Step Elements to Build Your Expression Sets\n Expression Set Templates\n Create An Expression Set\n How to Create an Expression Set That Uses Context Definition\n Manage Expression Sets\n Considerations for Migrating Expression Sets\n Expression Set Migration By Using Package Manager\n Expression Sets for Developers\n Decision Explainer for Expression Sets\n Business Rules Engine Integrations\n Calculation Matrix and Procedure Migration to Business Rules Engine\n Business Rules Engine Default Limits\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nINDUSTRIES COMMON FEATURES GUIDE\nConsiderations for Migrating Expression Sets\n\nGenerally, expression sets are migrated to production orgs after they’re tested in the development and staging sandbox orgs, and verified to work as expected. The expression sets can contain references to dependent elements such as decision matrices, decision tables, subexpressions, context definitions, field and object aliases, and explainability message templates.\n\nREQUIRED EDITIONS\nAvailable in: Lightning Experience\nAvailable in: Enterprise, Unlimited, and Developer Editions for Industries clouds that have Business Rules Engine enabled\n\nHere are some considerations to keep in mind when you plan the migration of expression set and expression set versions by using Package Manager or any other migration tool.\n\nNOTE SFDX CLI supports the migration of the complete expression set, but doesn’t support the migration of an expression set version.\nScenario 1: Migrate a new expression set\n\nIf the target org doesn’t contain the expression set that you want to migrate, deploy the expression set along with its versions from the source org to the target org. If the expression set contains dependencies, follow the recommendations in Scenario 3: Migrate expression set versions with dependencies.\n\nScenario 2: Migrate updates to an expression set\n\nTo update an expression set that exists in the target org, migrate a new expression set version with the updates; don’t update the existing active versions.\n\nYou can create a new expression set version in the source org with the updates. Activate the new version in the source org. Then, migrate the new version or the entire expression set to the target org. Set the expression set rank to ensure that the correct active expression set version is invoked.\n\nIf the expression set contains dependencies, follow the recommendations in Scenario 3: Migrate expression set versions with dependencies.\n\nConsider these points when you migrate an expression set or an expression set version:\n\nThe migration result depends on whether the expression set and its versions exist in the target org, and on the status of such versions.\nExpression set versions are migrated to the target org in the same state as in their source org.\nExpression set versions in the target org aren’t deleted irrespective of their state. Manually delete expression set versions that you don’t require in the target org.\nWhen you migrate an expression set version that isn’t in the target org, it’s deployed from the source org to the target org.\nWhen you migrate an expression set version that’s inactive in the target org, it’s replaced by the version in the source org. The migrated expression set version from the source org overwrites the inactive expression set version in the target org.\nWhen you migrate a modified expression set version that’s active in the target org, it fails and the version in the source org doesn’t overwrite the active version in the target org.\n\nLet’s review these considerations with an example of an expression set named FeeCalculator used by an educational institution. FeeCalculator version, v1 is used to calculate the fees of a student based on the selected course, entrance examination rank, and application category in the target org. Now, the institution wants to include discounts based on the calculated fees. Accordingly, the rule designer creates another expression set version, v2 in the source org to incorporate the new criteria, and tests the version with sample data. The rule designer either migrates the entire expression set or only version v2 to the target org. The migration behavior depends on the status of the FeeCalculator version in the target org.\n\nTARGET ORG BEFORE MIGRATION\tSOURCE ORG BEFORE MIGRATION\tMIGRATION OF EXPRESSION SET\tMIGRATION OF EXPRESSION SET VERSION V2\tTARGET ORG AFTER MIGRATION\nActive v1\t\nActive v1 (Same as in target)\nInactive v2\n\t\n\nSuccessful\n\nv1 in the target org is retained.\nv2 gets deployed from the source org to the target org.\n\t\nActive v1\nInactive v2\n\nActive v1 \t\nActive v1 (Same as in target)\nActive v2\n\t\n\nSuccessful\n\nv1 in the target org is retained.\nv2 gets deployed from the source org to the target org.\n\t\nActive v1\nActive v2\n\n\nActive v1\nInactive v2\n\t\nActive v1 (Same as in target)\nActive v2\n\t\n\nSuccessful\n\nv1 in the target org is retained.\nv2 from the source org overwrites the inactive v2 in the target org.\n\t\nActive v1\nActive v2\n\nActive v2\tActive v2 (Different from v2 in target)\tFailed-v2 from the source org doesn't overwrite the active v2 in the target org. v2 in the target org is retained.\tActive v2\nActive v1\t\nActive v1 (Different from v1 in the target org)\nActive v2\n\t\n\nFailed\n\nv1 from the source org doesn't overwrite the active v1 in the target org. v1 in the target org is retained.\nv2 is not deployed from the source org to the target org.\n\t-\tActive v1 (As was in the target org before the migration)\n-\t\n\nSuccessful\n\nv1 in the target org is retained.\nv2 gets deployed from the source org to the target org.\n\t\nActive v1 (As was in the target org before the migration)\nActive v2\nScenario 3: Migrate expression set with dependencies\n\nIf expression set versions reference dependent elements such as decision matrices, decision tables, subexpressions, context definitions, field and object aliases, and explainability message templates, consider these recommendations:\n\nMigrate the dependent elements independently before you migrate the expression set version itself.\nMigrate the lookup tables before you migrate the expression set and subexpression versions.\nIf the expression set has more than one level of nested subexpressions, migrate the lowest-level subexpressions before you deploy the parent expression set.\nIf the expression set version contains a context definition, migrate the context definition independently and activate the definition, and then migrate the expression set.\nIf the expression set version uses field aliases for fields in custom objects or custom fields in standard objects, ensure that you migrate the dependencies before you migrate the expression set version itself.\nIf the expression set contains a decision table that uses fields in a custom object or custom fields in a standard object, ensure that you migrate the dependencies before you migrate the decision table, and then migrate the expression set that contains the decision table.\nYou can deploy an expression set along with its immediate dependencies simultaneously. If those dependencies contain further nested dependencies, migrate the lowest-level dependencies before you deploy the parent expression set.\nMigrating a lookup table deploys the metadata of the lookup table and not the data. Import data into the lookup tables after the migration is complete and then activate the lookup tables.\nAfter you migrate a decision matrix without row data, open the decision matrix version in the target org, and then upload the row data by using the Upload CSV File option.\nAfter you migrate the decision table without row data, refresh the decision table with the latest data in the object that it refers to.\nExpression Set Migration By Using Package Manager\nTo migrate an expression set along with all its dependencies, create a migration packaging URL by using Package Manager, and then use the URL to deploy the expression set in the target orgs.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Considerations for Migrating Expression Sets",
    "keywords": [
        "Expression Set Migration",
        "Business Rules Engine",
        "Package Manager",
        "Decision Matrices",
        "Lookup Tables"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.business_rules_engine.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_learn_explore.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.set_up_business_rules_engine.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_standard_decision_matrices_0.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.use_csv_files_to_create_modify_decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_grouped_decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_manage_maintain_decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.download_matrix_versions_exported_to_dmn_files.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.decision_tables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.supported_data_types_and_operators_in_decision_tables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.object_variables_in_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.step_elements_in_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_condition_and_conditional_group_elements.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_lookup_table_element.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_subexpression_element.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.build_your_expression_set.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.considerations_for_migrating_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.decision_explainer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.business_rules_engine_integrations.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.rules_engine_omnistudio_integration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.business_rules_engine_integration_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.example_invoking_des_enabled_expression_set_from_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.migrating_calc_matrix_calc_procd.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.industries_common_features.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.migrate_expression_with_package_manager.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.28338009119033813,
        -0.8595716953277588,
        0.3807389438152313,
        0.05896923691034317,
        -0.3333008587360382,
        0.7425521612167358,
        1.0402470827102661,
        0.3006899952888489,
        0.14306508004665375,
        -0.7272695302963257,
        0.4464957118034363,
        -0.40841570496559143,
        0.40528160333633423,
        -0.4268992245197296,
        0.274669885635376,
        0.3889322578907013,
        -1.0371603965759277,
        0.005485363304615021,
        -0.10242301970720291,
        -0.3490469753742218,
        0.13552799820899963,
        -0.3571096360683441,
        -0.24034839868545532,
        0.2815338373184204,
        0.3964959979057312,
        0.29882097244262695,
        -0.14243242144584656,
        -0.3551947772502899,
        0.015622375532984734,
        0.41088423132896423,
        0.9670023918151855,
        -0.4806717038154602,
        1.351833462715149,
        0.7496653199195862,
        0.12786482274532318,
        0.28637048602104187,
        0.11721092462539673,
        0.014188338071107864,
        -0.6737455129623413,
        0.2739790678024292,
        0.32124069333076477,
        0.5204261541366577,
        0.058286234736442566,
        -0.26496726274490356,
        -0.7302428483963013,
        0.5890490412712097,
        -0.5116955637931824,
        -0.0776703804731369,
        0.31345462799072266,
        0.9968212246894836,
        -1.1833784580230713,
        -0.3477226495742798,
        -1.239532470703125,
        0.15065059065818787,
        -0.23838016390800476,
        -0.07520830631256104,
        0.49688851833343506,
        -0.4207502007484436,
        4.286587238311768,
        0.8102808594703674,
        0.6028373837471008,
        0.27855876088142395,
        0.2759454846382141,
        1.1745682954788208,
        -0.7197216153144836,
        -0.6316855549812317,
        0.36757731437683105,
        -0.8367705345153809,
        0.17477263510227203,
        0.2628151774406433,
        -0.7318892478942871,
        0.15872296690940857,
        -0.1625153124332428,
        0.5391569137573242,
        -0.9864500761032104,
        0.5505290031433105,
        -0.2357058823108673,
        -1.032529592514038,
        -0.8399248123168945,
        0.5518443584442139,
        -0.36356914043426514,
        0.5194642543792725,
        -0.021288471296429634,
        -0.21969860792160034,
        0.3222317099571228,
        -1.0051500797271729,
        -0.16019505262374878,
        -0.6140161156654358,
        0.46624839305877686,
        -0.21597164869308472,
        -0.4827841818332672,
        -0.5318527221679688,
        0.06012442708015442,
        0.08726468682289124,
        0.07936736196279526,
        -0.47827258706092834,
        -0.13520655035972595,
        -0.05799131840467453,
        0.7837453484535217,
        -0.27337411046028137,
        0.27083081007003784,
        -0.1364898830652237,
        -0.348160982131958,
        0.24029196798801422,
        -0.19425836205482483,
        1.018060326576233,
        0.1522895097732544,
        -0.6113050580024719,
        0.42833688855171204,
        -0.5493163466453552,
        1.0632143020629883,
        -0.7092689871788025,
        -0.39062002301216125,
        0.22179073095321655,
        -0.5370604991912842,
        -0.9575566053390503,
        -0.35768014192581177,
        0.42358794808387756,
        0.3889266848564148,
        0.6099873781204224,
        -0.10985453426837921,
        0.5132102370262146,
        -0.1338450312614441,
        0.8230177164077759,
        0.32100555300712585,
        -0.05862987041473389,
        -0.5423898100852966,
        -0.13939306139945984,
        0.22543346881866455,
        0.12438364326953888,
        -0.6559158563613892,
        0.004411354660987854,
        0.26097679138183594,
        -0.03697861358523369,
        -0.08496209979057312,
        -0.47023534774780273,
        0.2241678088903427,
        -0.5635390877723694,
        -0.11879226565361023,
        0.1964094489812851,
        0.5288631916046143,
        -0.30673980712890625,
        0.5050864219665527,
        0.5793644785881042,
        -0.20795756578445435,
        -0.3401755690574646,
        0.6234731674194336,
        0.10399119555950165,
        0.503148078918457,
        0.7330349683761597,
        0.14199534058570862,
        -0.11784902215003967,
        0.22398918867111206
    ]
}