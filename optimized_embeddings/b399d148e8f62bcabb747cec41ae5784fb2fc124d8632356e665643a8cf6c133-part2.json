{
    "id": "b399d148e8f62bcabb747cec41ae5784fb2fc124d8632356e665643a8cf6c133-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.om_manually_configure_payment_gateway_oobo.htm&language=en_US&type=5",
    "content": "nullSalesforce Order Management\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce Order Management\n Order Management Resources\n Salesforce Order Management Licenses and Allocations\n Preconfigured Permission Sets for Salesforce Order Management\n Salesforce Payments and Order Management\n Order Management Lifecycle\n Order Management Objects\n Order Management Shopper and Buyer Records\n Configure Order Management Flows\n Einstein Generative AI for Order Management\n High-Scale Orders\n Deleting Order Management Records\n Order Management Console\n Order Summary\n Order Fulfillment\n Distributed Order Management\n Payments and Invoices\n Process Exceptions\n Order Service Tasks\n Order Management and Service Cloud\n View Order History\n Cancel an Order Item\n Reship an Order Item\n Discount an Order Item\n Process an Exchange (Simple)\n Return an Order Item\n Exchanges with RMA Returns Overview\n Order on Behalf Of Overview\n Unmanaged Orders (Order Entry Only)\n Order on Behalf Of Setup\n Users and Permissions Configuration for Order on Behalf Of\n Configure a Delivery Method for Order on Behalf Of\n Webstores for Order on Behalf Of (Optional, B2C OOBO Only)\n Activate the Order on Behalf Of Flow Template\n Add the Order on Behalf Of Flow to an Object Page\n Add Country and State Picklists for Order on Behalf Of (Optional)\n Connect B2C Commerce and Salesforce (B2C OOBO Only)\n Add a Web Store Inventory Source for Order on Behalf Of\n Payments for Order on Behalf Of\n Salesforce Payments for Order on Behalf Of\n Configure a Payment Gateway for Order on Behalf Of (B2C Only)\n Place an Order on Behalf of a Customer\n Store Fulfillment Application Overview\n Reports for Order Management\n B2C Commerce Connections\n Troubleshoot the B2C Commerce Integration\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE ORDER MANAGEMENT\nConfigure a Payment Gateway for Order on Behalf Of (B2C Only)\n\nIf you don’t use Salesforce Payments, you can configure a payment gateway to manage payments. Payment packages for some vendors are available on AppExchange.\n\nIMPORTANT If you’re using OOBO, steps 1-4 are already configured during the Order Management implementation. Go straight to step 5.\nCreate a payment gateway adapter class using the Salesforce Apex connector framework.\nTo help you get started, see these reference classes.\nCreate a payment gateway provider record that points to the adapter class that you created.\nIn Setup, define a named credential that contains the gateway provider’s authentication and login information. The adapter class callout definition calls the named credential.\nLink the payment gateway provider record and the named credential by creating a payment gateway record.\nAssociate the payment gateway to the webstore record.\nEXAMPLE\n\nTo associate the payment gateway to the webstore record, use a script like this\n\n// Script to add a connection between the webstore and the payment gateway for B2C Commerce stores\nString webStoreName = 'SiteGenesis';\nString paymentGatewayName = 'SalesforceAdapter';\n\n// obtain webstoreid\nList<WebStore> webstores = [SELECT Id, Name FROM WebStore WHERE Name = :webStoreName];\nSystem.debug('Webstores: ' + webstores);\nif(webstores.isEmpty()){\n    System.debug('Error obtaining webstore with name ' + webStoreName);\n}\nString webStoreId = webstores[0].Id;\nSystem.debug('WebStoreId: ' + webStoreId);\n\n// obtain payment gateway id from the payment gateway name\nList<PaymentGateway> paymentGateways = [SELECT Id, PaymentGatewayName FROM PaymentGateway WHERE PaymentGatewayName = :paymentGatewayName];\nSystem.debug('paymentGateways: ' + paymentGateways);\nif(paymentGateways.isEmpty()){\n    System.debug('Error obtaining payment gateway with name ' + paymentGatewayName);\n}\nString paymentGatewayId = paymentGateways[0].Id;\nSystem.debug('paymentGatewayId: ' + paymentGatewayId);\n\n// If a StoreIntegratedService already exists for Payment on the WebStore then update the Integration field with the paymentGatewayId\nList<StoreIntegratedService> storeServices = [SELECT Id FROM StoreIntegratedService WHERE StoreId = :webStoreId AND ServiceProviderType ='Payment' ];\nSystem.debug('storeServices: ' + storeServices);\nif(storeServices.isEmpty()){\n    StoreIntegratedService storeService = new StoreIntegratedService(\n        StoreId = webStoreId,\n        Integration = paymentGatewayId,\n        ServiceProviderType ='Payment');\n    insert storeService;\n} else {\n    StoreIntegratedService existingStoreService = storeServices[0];\n    existingStoreService.Integration = paymentGatewayId;\n    update existingStoreService;\n}\nSEE ALSO\nSalesforce Payments\nOrder on Behalf Of Setup\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Configure a Payment Gateway for Salesforce Order Management",
    "keywords": [
        "payment gateway",
        "salesforce order management",
        "order management implementation",
        "einstein generative ai",
        "distributed order management"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_lifecycle_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shopper_records.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_configure_om_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_einstein_gen_ai_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_high_scale_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_editable_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_summary.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_fulfillment.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_distributed_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_service.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_order_items_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_return_merchandise_authorization.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_charge_return_fees.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_exchanges_rma.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_overview_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_setup_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_application.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_reports.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_objects_and_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_account_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_billing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_fulfillment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_inventory_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_transaction_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_routing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shipment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_b2c_commerce_connections.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.payments_product_intro.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.10402196645736694,
        0.3370717465877533,
        -0.6357723474502563,
        -0.6933877468109131,
        -0.7072558403015137,
        -0.24004334211349487,
        -0.06035488843917847,
        -0.04195069894194603,
        0.5600659251213074,
        -0.5911933183670044,
        3.8809595108032227,
        0.440716952085495,
        0.8198108673095703,
        0.037071503698825836,
        1.1123090982437134,
        1.1287739276885986,
        0.10010755062103271,
        0.28715208172798157,
        0.6104286909103394,
        -1.1999036073684692,
        -0.5076693296432495,
        -0.20546792447566986,
        0.6395290493965149,
        0.6000060439109802,
        -0.9248886108398438,
        -0.36144474148750305,
        -0.5595077872276306,
        -0.20374885201454163,
        0.29530805349349976,
        -0.5601561665534973,
        -1.0545459985733032,
        -0.3799389600753784,
        -0.09832695126533508,
        0.9661149382591248,
        -0.36438578367233276,
        -0.09820783138275146,
        -0.22937777638435364,
        -0.908298671245575,
        -0.8796572089195251,
        -1.0488181114196777,
        0.4155653417110443,
        -0.10547719895839691,
        0.8771892786026001,
        -0.8857753872871399,
        -0.6540571451187134,
        0.4760532081127167,
        1.2630654573440552,
        0.6565848588943481,
        0.06728273630142212,
        -0.49920937418937683,
        1.078007698059082,
        -0.11941094696521759,
        -0.6522825360298157,
        0.25959378480911255,
        -0.182082399725914,
        0.21448710560798645,
        -0.27764517068862915,
        -0.15444017946720123,
        0.03500546142458916,
        0.32967475056648254,
        1.0059998035430908,
        -1.0824154615402222,
        1.0510708093643188,
        -0.18716563284397125,
        -0.10774016380310059,
        -0.21962185204029083,
        0.16634979844093323,
        -0.16721004247665405,
        0.34606489539146423,
        -0.1429556906223297,
        0.5630081295967102,
        0.47672608494758606,
        -0.5954862236976624,
        0.2238091230392456,
        -0.41167962551116943,
        0.2693002223968506,
        0.5382471084594727,
        0.5675255656242371,
        0.27295780181884766,
        -0.49986767768859863,
        -0.1703462451696396,
        -0.27105632424354553,
        -0.3919631838798523,
        -0.8443323969841003,
        -0.48151516914367676,
        0.023192323744297028,
        -0.14847269654273987,
        0.31905242800712585,
        0.9544058442115784,
        -0.8628261685371399,
        0.14764824509620667,
        0.550792932510376,
        -0.35022300481796265,
        -0.08530263602733612,
        0.7707388401031494,
        -0.13909846544265747,
        -0.8997592329978943,
        -0.2899572551250458,
        0.053327322006225586,
        -0.21260657906532288,
        0.3604353070259094,
        0.8809386491775513,
        -0.10357441008090973,
        0.07011246681213379,
        0.2716684937477112
    ]
}