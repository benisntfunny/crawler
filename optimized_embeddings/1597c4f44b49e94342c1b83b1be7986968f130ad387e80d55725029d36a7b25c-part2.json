{
    "id": "1597c4f44b49e94342c1b83b1be7986968f130ad387e80d55725029d36a7b25c-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_payment.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n Upgrade to B2B Commerce for Visualforce Spring ‘19 (Version 4.10)\n SEO: Provide More Storefront Data to External Search Engines\n Shield Platform Encryption: Protect Your B2B Commerce for...\n Shopping Cart Page 2.0: Easier Extension and Enhanced Performance\n Storefront Experience: Learn and Customize B2B Commerce for...\n Performance and Security: Help Users Browse Pages and Complete Tasks...\n Send Order Confirmation Emails Asynchronously\n Scope the Number of Product Spec Values to Query on the Product List...\n Search More Product Data and Show More Results on the Product List...\n Load Data on the My Account Page More Efficiently\n Load Data on the Shopping Cart Page Version 1.0 More Efficiently\n Control How Frequently the Shopping Cart Reprices Items\n Easily Activate Shopping Carts When Adding Items with the API\n Account for Changed Default Guest Permission Set\n Set Private Properties on the ccrz.cc_CallContext Object\n Invoke Apex Callouts When Removing a Stored Payment\n Admin Experience: More Easily Manage Storefront Data in Your Org\n Other Fixes in B2B Commerce for Visualforce Spring ’19 (Version 4.10)\n Patch Notes for B2B Commerce for Visualforce Spring ’19 (Version 4.10)\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nInvoke Apex Callouts When Removing a Stored Payment\n\nYou can now perform an Apex callout when you extend the default functionality for removing a stored payment on the My Account page. Previously, attempting a callout from an extension to ccrz.cc_hk_Payment.removeStoredPayment() resulted in an exception.\n\nWhere: This change applies to B2B Commerce for Visualforce Spring ’19 (version 4.10) in Lightning Experience and Salesforce Classic in Enterprise, Performance, Unlimited, and Developer editions.\n\nHow: This change removes the database savepoint from ccrz.cc_ctrl_MyAccountStoredPayments.removeStoredPayment(ccrz.cc_RemoteActionContext, String). The extension class method ccrz.cc_hk_Payment.removeStoredPayment() now includes the try and catch statements for DmlException instances.\n\nTo migrate your subscriber code, update any extensions of the ccrz.cc_hk_Payment.removeStoredPayment() method to either:\n\nCall the super implementation, super.removeStoredPayment().\nAdd try and catch statements to explicitly catch the DmlException, and then invoke Database.rollback(databaseSavepoint). Log and return the caught DmlException to the caller.\nSEE ALSO\n(Salesforce Developers) Invoking Callouts Using Apex\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Invoke Apex Callouts for Stored Payment Removal",
    "keywords": [
        "Apex callout",
        "stored payments",
        "my account page",
        "Database.rollback",
        "DmlException"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        -0.9386996030807495,
        -0.472361296415329,
        -0.000519823282957077,
        -0.5606768727302551,
        0.39732861518859863,
        0.3302217125892639,
        0.5331349968910217,
        0.49055248498916626,
        0.024960853159427643,
        0.70499587059021,
        -0.5288112163543701,
        0.7463545203208923,
        -0.017393089830875397,
        0.5584549307823181,
        -0.39368224143981934,
        -0.0678616538643837,
        0.14340393245220184,
        -0.2041754424571991,
        -0.5980119705200195,
        -0.24516375362873077,
        -0.3833538889884949,
        0.08826492726802826,
        0.131129652261734,
        0.9046569466590881,
        0.38756614923477173,
        -0.18083998560905457,
        0.328642874956131,
        0.48453131318092346,
        -0.016783062368631363,
        -0.27972060441970825,
        0.6004568338394165,
        0.46686553955078125,
        -0.6590954065322876,
        -0.27216655015945435,
        0.7026239037513733,
        0.05219224467873573,
        0.26686641573905945,
        0.9639986753463745,
        0.10817605257034302,
        0.04652673006057739,
        1.1908376216888428
    ]
}