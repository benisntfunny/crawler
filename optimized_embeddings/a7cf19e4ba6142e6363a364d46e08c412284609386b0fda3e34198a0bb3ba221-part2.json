{
    "id": "a7cf19e4ba6142e6363a364d46e08c412284609386b0fda3e34198a0bb3ba221-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_accessing.htm&language=en_US&type=5",
    "content": "nullEnhance Salesforce with Code\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Enhance Salesforce with Code\n Salesforce Development Tools\n Replacement Tools for Workbench\n Work With APIs\n Write Code\n Developer Console\n Work with Code\n Custom Metadata Types\n What are Custom Metadata Types?\n Create, Edit, and Delete Custom Metadata Types and Records\n Custom Metadata Relationships\n Custom Metadata Type Validation Rules\n Reference Custom Metadata Type Records in Default Values\n Custom Metadata Types and Advanced Formula Fields\n Create and Manage Custom Metadata Types Using CLI Commands\n Access Custom Metadata Records Programmatically\n Control Read Access to Custom Metadata Types\n Protection and Privacy Options for Custom Metadata Types\n Package Custom Metadata Types and Records\n Custom Metadata Types and Process Builder\n Deploy Custom Metadata Types and Records to Production Orgs Using...\n Custom Metadata Types Limitations\n Custom Metadata Allocations and Usage Calculations\n Canvas App Previewer\n Remote Access Application\n Secure Identity for the Internet of Things\n Debug Your Code\n Test Your Changes\n Manage Scratch Orgs\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nENHANCE SALESFORCE WITH CODE\nAccess Custom Metadata Records Programmatically\n\nUse SOQL to access your custom metadata types and to retrieve the API names of the records of those types.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nAvailable in: Salesforce Classic and Lightning Experience\n\n\nAvailable in: Enterprise, Performance, Unlimited, and Developer Editions\n\nYou can create, edit, and delete custom metadata type records from installed packages in: Group and Professional Editions\n\n\n\nUSER PERMISSIONS\nNEEDED\nTo create or edit custom metadata types:\tAuthor Apex\n\nApex code can create, read, and update (but not delete) custom metadata records, as long as the metadata is subscriber-controlled and visible from within the code's namespace. DML operations aren’t allowed on custom metadata in the Partner or Enterprise APIs. With unpackaged metadata, both developer-controlled and subscriber-controlled access behave the same: like subscriber-controlled access. For information about the Custom Metadata Type__mdt sObject, see Custom Metadata Type__mdt in the Object Reference for Salesforce . Refer to Trust, but Verify: Apex Metadata API and Security to learn more about package access in developer-controlled and subscriber-controlled orgs.\n\nThe following example declares the Apex variable custMeta of the custom metadata type MyCustomMetadataType__mdt, which is in your namespace.\n\nMyCustomMetadataType__mdt custMeta;\n\nDeclare the custMeta variable of the custom metadata type TheirCustomMetadataType__mdt, which isn’t in your namespace but is in the their_ns namespace.\n\ntheir_ns__TheirCustomMetadataType__mdt custMeta;\n\nThe following example is a simple query that returns standard and custom fields for all records of the Threat_Tier_Mapping custom metadata type and accesses some of their fields.\n\nThreat_Tier_Mapping__mdt[] threatMappings = [SELECT MasterLabel, QualifiedApiName, Field_Mapping__c ,Minimum_Support_Level__c FROM Threat_Tier_Mapping__mdt];\n\nfor (Threat_Tier_Mapping__mdt threatMapping : threatMappings) {\n    System.debug(threatMapping.MasterLabel + ‘: ‘ +\n                 threatMapping.Field_Mapping__c + ‘ from ‘ +\n                 threatMapping.Team_Building_to_SFA_Field_Mapping__c + ‘ to ‘\n                 threatMapping.Minimum_Support_Level__c);\n}\n\nTo provide an entity that looks more like a Schema.SObjectDescribeResult than SOQL, make the Apex class vacations.ThreatTierMappingDescribeResult encapsulate the information queried from vacations__ThreatTierMappingDescribeResult__mdt. Then create the class vacations.Vacations with methods such as:\n\nvacations.ThreatTierMappingDescribeResult describeThreatTierMappings(String qualifiedApiName) {\n    Threat_Tier_Mapping__mdt threatMapping = [SELECT <fields> FROM Threat_Tier_Mapping__mdt WHERE QualifiedApiName = :qualifiedApiName];\n    return new ThreatTierMappingDescribeResult(<fieldValues>);\n}\n\n\nIn the preceding example, <fields> refers to the fields you want to include in the describe and <fieldValues> refers to the values of those fields.\n\nThe next example uses a metadata relationship that references another custom metadata type, Team_Building_to_SFA_Field_Mapping__mdt, to do a simple right outer join.\n\nThreatTierMapping threatMapping = \n    [SELECT MasterLabel, Team_Building_to_SFA_Field_Mapping__r.MasterLabel FROM Threat_Tier_Mapping__mdt WHERE QualifiedApiName=‘Easy_Vacations’];\n\nSystem.debug(threatMapping.MasterLabel + ‘ is part of ‘ + Team_Building_to_SFA_Field_Mapping__r.MasterLabel);\n\nThe following example shows a left outer join starting from EntityDefinition. This query uses a relationship field called Team_Building_Object__c on Team_Building_to_SFA_Field_Mapping__mdt. The child relationship name of this relationship field is Field_Mappings_From.\n\nfor (EntityDefinition entity : allObjects) {\n    System.debug(‘Processing mappings for: ‘ + entity.QualifiedApiName);\n    for (Team_Building_to_SFA_Field_Mapping__mdt fieldMapping : entity.FieldMappingsFrom__r) {\n    System.debug(‘  Field ‘ + fieldMapping.Team_Building_Field__c + \n        ‘ has mapping ‘ + fieldMapping.QualifiedApiName);\n    }\n}\nSEE ALSO\nCustom Metadata Types\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Accessing Custom Metadata Records Programmatically in Salesforce",
    "keywords": [
        "salesforce",
        "custom metadata",
        "soql",
        "apex",
        "metadata types"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.extend_code_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.work_with_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.monitor_rate_limit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.writing_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_tab_query_editor.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_menubar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_logs_panel.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.working_with_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_custom_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_static_resources.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.aura_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.securing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_package_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_page_level_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cl_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.dev_scontrol.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_metadata_api.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_relationships.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatype_validation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_package_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.canvas_app_previewer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.action_link_group_template.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_request.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custom_perms_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_identity_iot.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.debugging_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_view_system_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_perspectives.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_debug_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.testing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_test_execution.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        -0.7006688117980957,
        0.06332677602767944,
        0.11298888921737671,
        -0.5531210899353027,
        -0.5368248224258423,
        -0.6392468810081482,
        -0.047343909740448,
        -0.3686957359313965,
        -0.4951378405094147,
        1.3781330585479736,
        -0.5515726804733276,
        4.263830661773682,
        0.8535995483398438,
        0.5732042789459229,
        -0.21393173933029175,
        0.4148033559322357,
        1.0109163522720337,
        -0.0319952592253685,
        -0.5603986382484436,
        0.5941611528396606,
        -0.8366451263427734,
        0.03646252304315567,
        0.18728746473789215,
        -0.3503219783306122,
        0.153792604804039,
        0.03917832300066948,
        1.0970569849014282,
        -0.2794993221759796,
        0.05847608670592308,
        -0.09631475806236267,
        -1.0467779636383057,
        -0.13114449381828308,
        0.32547158002853394,
        0.06185890734195709,
        1.0453523397445679,
        0.05327998101711273,
        0.056274667382240295,
        0.7725805640220642,
        -0.4541274607181549,
        -0.3344608545303345,
        -0.003579670563340187,
        -0.25039708614349365,
        -0.4065958857536316,
        0.24305790662765503,
        -0.3873611390590668,
        -0.16110987961292267,
        -0.23613420128822327,
        -0.3502463400363922,
        -0.6735967993736267,
        0.18670371174812317,
        -0.11212535947561264,
        0.3159441351890564,
        -0.07265105843544006,
        -0.27840638160705566,
        -0.6672473549842834,
        -0.21484375,
        0.19167250394821167,
        -0.35506364703178406,
        -0.46057868003845215,
        0.48398062586784363,
        -0.0031704604625701904,
        0.2850719392299652,
        -0.19433583319187164,
        0.6332566738128662,
        -0.919879674911499,
        -0.44053471088409424,
        -0.14747199416160583,
        -0.3871535062789917,
        -0.6410262584686279,
        0.11568485200405121,
        0.5114726424217224,
        0.2449447214603424,
        0.6557374596595764,
        -1.0040650367736816,
        0.7789574861526489,
        0.04605356603860855,
        1.031416893005371,
        0.8531191945075989,
        -0.000814288854598999,
        -0.47508159279823303,
        -0.2646142542362213,
        0.36695989966392517,
        -0.17543432116508484,
        -0.19263753294944763,
        -0.474890798330307,
        -0.11392475664615631,
        -0.26479077339172363,
        0.31664249300956726,
        -0.03585156798362732,
        0.5903948545455933,
        -0.5100091695785522,
        -0.5410370826721191,
        0.11713408678770065,
        -0.3596770465373993,
        -0.7976198792457581,
        0.1464025229215622,
        -0.028156757354736328,
        -0.17670904099941254,
        -0.5764155387878418,
        -0.5031305551528931,
        0.052624523639678955,
        -0.0029660463333129883,
        0.5771520137786865,
        -1.1114648580551147,
        -0.12032216787338257,
        0.20030725002288818
    ]
}