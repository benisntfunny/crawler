{
    "id": "b76e4570697640123dc73cbeda2418016565ae494fd4a16f1e160ba0d60053aa-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_in_apex.htm&language=en_US&type=5",
    "content": "nullIdentify Your Users and Manage Access\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Identify Your Users and Manage Access\n Who Is Salesforce Identity For?\n Salesforce Identity Licenses\n Multi-Factor Authentication\n Single Sign-On\n Identity Connect\n Custom Login Flows\n Login Access\n Manage User Passwords\n Lightning Login for Password-Free Logins\n Certificate-Based Authentication\n Connected Apps\n External Client Apps\n Authorize Apps with OAuth\n App Launcher\n Manage API Access\n Manage Salesforce User Identities with SCIM\n Salesforce Customer Identity\n Prepare Your Org for Salesforce Customer Identity\n Passwordless Login\n Email or Phone Number Registration with Passwordless Login\n Create a Custom Login Discovery Page\n Customize the LoginDiscovery Handler\n Create Custom Error Messages in the Login Discovery Handler\n Identity Verification with Passwordless Login\n Passwordless Login Coding Considerations\n Self-Registration\n Single Sign-On for Salesforce Customer Identity\n Headless Identity APIs for Customers and Partners\n Embedded Login\n Customize Login, Logout, and Password Management Pages\n Brand Your Identity Experience\n Manage Sites with Contactless Users\n Monitor Access to Your Salesforce Orgs and Experience Cloud Sites\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nIDENTIFY YOUR USERS AND MANAGE ACCESS\nCreate a Custom Login Discovery Page\n\nTo set up passwordless login with an email address or phone number, create a custom Login Discovery page. With this configuration, your users can self-register and log in with an email address or phone number. Set up your page in Experience Workspaces, and customize your login process with Apex.\n\nWhen you create your Login Discovery page in Experience Workspaces, Salesforce generates a LoginDiscovery handler. You can customize the LoginDiscovery handler later.\n\nFrom Setup, in the Quick Find box, enter All Sites, and select All Sites.\nNext to your site name, click Workspaces.\nIn the Workspaces page, select Administration, and then select Login & Registration.\nUnder Login Page Setup, for Login Page Type, select Login Discovery Page.\n(Optional) For Login Prompt, enter the text that you want to appear as the prompt on your login page.\n\nFor example, enter Email Address or Phone Number. You can localize the login prompt with a custom label. Use the $Label global variable, for example, $Label.loginPrompt.\n\nFor Login Discovery Handler, leave the field blank and click Create a Login Discovery Handler. Salesforce auto-generates the Apex handler on save. You modify the code later.\nFor Execute Login As, select a Salesforce admin with the Manage Users permission to run the handler.\n\nExecute Login As provides the context in which the Login Discovery handler runs. By assigning a user to the handler, operations performed by the handler are easily traced back to the login process. In production, you typically create a system user for the Execute Login As user.\n\nIf Allow employees to log in directly to the site is selected, deselect it.\n\nThe Login Discovery Page doesn’t support org employees logging in to the site directly. However, you can customize the handler to redirect users to an IdP. For employees, you can set up Login Discovery with My Domain. From your My Domain Authentication Configuration settings, set the login page type to Discovery.\n\nSave your settings.\n\nSalesforce generates a default login discovery handler and populates the Login Discovery Handler field with its name. This handler accepts an email address or phone number from the login page and emails or texts a verification code to the user. If the user’s email or phone number isn’t verified, the user is prompted for a password.\n\nTo customize the welcome email that new users receive when they sign up with their email address, see Customize the Passwordless Registration Welcome Email Template.\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Custom Login Page Setup for Salesforce",
    "keywords": [
        "salesforce login",
        "login page setup",
        "passwordless login",
        "single sign-on",
        "multi-factor authentication"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.identity_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_overview_2fa.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_2fa_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_mfa_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.use_built_in_authenticators_as_a_verification_method.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_u2f_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_disconnect_verification_methods.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_sp_rp_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml_setting_up.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml_login_history.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_jit_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_authentication_providers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_predefined_authentication_provider_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_apple.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_addl_params.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_idp_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_idp_saml_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_both_sp_idp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sites_portals_about.htm&language=en_US&type=5#sso_sites_portals_about",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_provider_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.config_auth_provider_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.slo_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_delauthentication.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identityconnect_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_login_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_login_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_overview_passwords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_ll_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_certificate_based_auth.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_create.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_edit_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_manage.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_user_provisioning.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_notifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_mobile_push_notifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_test_push.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_notifications_custom.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_custom_push_payload.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_a_local_external_client_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.enable_oauth_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps_oauth_credential_rotation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps_oauth_flow_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.configure_oauth_code_credentials_flow_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.manage_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_external_client_apps_creation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_set_up_external_client_apps_permissions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_create_a_local_external_client_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_enable_oauth_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_configure_packageable_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_that_references_the_source_org.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_with_global_settings_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.associate_and_disassociate_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.disassociate_an_external_client_app_from_the_source_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.associate_an_external_client_app_with_the_source_global_settings_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_metadata_between_two_orgs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.disable_an_external_client_app_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_external_client_apps_oauth_credential_rotation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_custom_attributes_for_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_authenticate.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_token_exchange_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_hybrid_app_flow_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_access_tokens.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_enable_jwt.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_customscopes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_app_launcher.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.reordering_custom_apps_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.reordering_custom_apps_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_api_access_control_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_scim_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_about_customers_partners.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_prepare_your_org.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_discovery_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_verification_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_configure.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_single_sign_on_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_customers_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_experience_settings_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_flows_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_embedded_login_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_all_steps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_prereqs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_2.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_3.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_5.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_page_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_custom_login_page_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_branding_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_dynamic_create_brands.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_contactless_users_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_monitor_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.users_login_history.htm&language=en_US&type=5#users_login_history",
        "https://help.salesforce.com/s/articleView?id=sf.security_sms_identity_verification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_device_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.networks_customize_otp_welcome_email.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.730730414390564,
        0.6490622162818909,
        -0.48100441694259644,
        -0.20793163776397705,
        -0.2730630040168762,
        -0.682715117931366,
        0.19036155939102173,
        0.6267939805984497,
        1.6930180788040161,
        0.35297250747680664,
        -0.6604381203651428,
        0.3055562674999237,
        0.007647804915904999,
        0.11867868900299072,
        0.13664740324020386,
        0.43113163113594055,
        0.04431452974677086,
        -0.8504979014396667,
        0.3312184810638428,
        0.117078997194767,
        0.4258187413215637,
        -0.297301322221756,
        -0.27280062437057495,
        -0.26773759722709656,
        0.29842376708984375,
        0.04092743247747421,
        -0.3468632996082306,
        -0.3897330164909363,
        0.6003113985061646,
        -0.0874774381518364,
        0.18791703879833221,
        -0.007859498262405396,
        -1.100080966949463,
        0.6155586838722229,
        0.30768531560897827,
        -0.20462347567081451,
        0.11925677955150604,
        0.8601973056793213,
        0.08312865346670151,
        -0.5597928166389465,
        0.4069686830043793,
        -0.27347996830940247,
        -0.7642071843147278,
        0.029939167201519012,
        0.552837610244751,
        -0.39815279841423035,
        0.5191296339035034,
        -0.1437072455883026,
        -0.6668088436126709,
        -0.3411107361316681,
        0.11842507869005203,
        -0.36950862407684326,
        0.0653320848941803,
        0.7748765349388123,
        -0.1446002721786499,
        -0.43470898270606995,
        -0.24282443523406982,
        0.4337647557258606,
        -1.1316701173782349,
        -1.012823462486267,
        0.16711795330047607,
        -0.606387197971344,
        -0.37590014934539795,
        0.14845435321331024,
        0.33226802945137024,
        0.4927470088005066,
        -0.45804929733276367,
        0.45532384514808655,
        0.462347149848938,
        0.7549418210983276,
        0.5510278344154358,
        -0.5476728677749634,
        -0.30309930443763733,
        0.13097836077213287,
        -0.36517104506492615,
        -0.054495446383953094,
        0.2205066978931427,
        -0.22498485445976257,
        -0.510921061038971,
        -0.4638875424861908,
        -0.3136560320854187,
        0.17636604607105255,
        0.32612311840057373,
        0.7516070008277893,
        -0.05302215367555618,
        -0.35879895091056824,
        0.16235323250293732,
        -0.2951544225215912,
        0.2774784564971924,
        0.055011965334415436,
        0.9182990193367004,
        0.0009069032967090607,
        -0.5632333159446716,
        0.6893715858459473,
        -0.4144613444805145,
        -0.33255112171173096,
        -0.7821980118751526,
        -0.04890735447406769,
        0.6082661747932434,
        -0.2715328335762024,
        -0.008635666221380234,
        -0.5914234519004822,
        0.058608949184417725,
        -0.3118939995765686,
        -0.5248212814331055,
        -0.3564735949039459,
        0.246098592877388,
        -0.1823485642671585,
        0.5512534379959106,
        0.5647920370101929,
        0.2454889565706253,
        -0.13201791048049927,
        0.6948522329330444,
        0.7564319372177124,
        -0.5244831442832947,
        1.2444753646850586,
        0.2970665395259857,
        0.23666267096996307,
        -0.039865538477897644,
        -0.5185254812240601,
        0.09154114872217178,
        -0.19086943566799164,
        0.26122114062309265,
        0.03631845861673355,
        -0.7076930999755859,
        -0.4326801598072052,
        -0.07294848561286926,
        0.39619162678718567,
        0.6760886311531067,
        0.07148057967424393,
        -0.28904640674591064,
        -0.3728267550468445,
        0.06384729593992233,
        -1.4976763725280762,
        -0.22022534906864166,
        -1.0103530883789062,
        0.19624024629592896,
        -0.5589874982833862,
        0.34658342599868774,
        1.1232712268829346,
        -0.3775143623352051,
        4.145384311676025,
        0.7018715143203735,
        0.12020690739154816,
        -0.06463413685560226,
        0.19977688789367676,
        0.685806393623352,
        0.35139137506484985,
        0.5471185445785522,
        -0.06776437908411026,
        -1.1308553218841553,
        0.09836797416210175,
        -0.30894210934638977,
        0.825771152973175,
        -0.18682962656021118,
        -0.6647376418113708,
        0.15385127067565918,
        -0.03899943828582764,
        -0.3269481658935547,
        0.2222428172826767,
        -0.8033900856971741,
        -1.0496342182159424,
        -0.36430472135543823,
        -0.2929987907409668,
        1.2534351348876953,
        -0.10945955663919449,
        0.016359098255634308,
        -0.21807777881622314,
        -0.030325911939144135,
        -0.7738478183746338,
        -1.0114434957504272,
        0.1381985992193222,
        -0.7585538029670715,
        0.547228991985321,
        -0.20829938352108002,
        0.21815910935401917,
        0.6060622930526733,
        -0.22443397343158722,
        0.5514715313911438,
        -0.9568732976913452,
        0.10070141404867172,
        0.26408129930496216,
        0.24936045706272125,
        -0.5507708787918091,
        -0.2575652599334717,
        -0.32312360405921936,
        0.254127562046051,
        -0.22517859935760498,
        -0.04595736414194107,
        0.2811562716960907,
        0.016888156533241272,
        0.7380231022834778,
        -0.8667662739753723,
        -0.0018980763852596283,
        -0.08613532781600952,
        -0.1060517281293869,
        0.8774579167366028,
        0.17101351916790009,
        -0.2499406337738037,
        -0.6773092150688171,
        0.12526924908161163,
        -0.028276313096284866,
        0.24798405170440674,
        -0.2030896246433258,
        -0.19135677814483643,
        -0.03494953364133835,
        0.7987051010131836,
        0.379054993391037,
        0.691612720489502,
        -0.39269891381263733,
        -0.13888885080814362,
        -0.27206137776374817,
        -0.8155879974365234,
        -0.47059202194213867,
        -0.9306594133377075,
        0.44059956073760986,
        0.09919294714927673,
        0.25155484676361084,
        0.3610103726387024,
        0.7727038860321045,
        -0.5946478247642517,
        -0.5574146509170532,
        0.36851587891578674,
        -0.6588565111160278,
        -0.7587978839874268,
        0.4055010974407196,
        -0.4922490119934082,
        -0.5241180062294006,
        -0.8482058644294739,
        -0.02000010386109352,
        -0.38466641306877136,
        0.07030786573886871,
        0.3798190653324127,
        -0.7636454701423645,
        -0.5811980962753296,
        0.6125646829605103
    ]
}