{
    "id": "7e04455119248a2495b343981431f56cfced0186f274dc6368c2742983181b50-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.cpq_lookup_queries.htm&language=en_US&type=5",
    "content": "nullManage Your Quotes with CPQ\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Manage Your Quotes with CPQ\n Salesforce CPQ Patch Notes\n Getting Started with Salesforce CPQ\n CPQ Products\n Create and Edit CPQ Quotes\n Managing Bill To and Ship To Addresses on CPQ Quotes\n Using the Quote Line Editor\n Manage Your Bundles in the Configurator\n Product Rules\n Discounts\n Price Rules\n Refreshing Quote Prices\n The CPQ Quote Calculation Sequence\n Enhance Quotes with Custom Scripts\n Lookup Queries\n Using Lookup Queries with Product Rules\n Using Price Rule Lookup Queries Against Custom Objects\n Lookup Queries for Large Datasets\n CPQ Quote Fields\n CPQ Quote Line Fields\n CPQ Subscription Fields\n CPQ Quote Line Group Fields\n Send Your CPQ Quotes\n Advanced Approvals\n Manage Your CPQ Orders\n Manage Your Subscriptions and Assets\n Amend Your Contracts and Assets\n Renew Your Contracts and Assets\n Printable Tip Sheets & User Guides — For Salesforce CPQ\n Explore CPQ Solution Kits\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE CPQ\nLookup Queries\n\nCreate lookup queries on your product rules and price rules to evaluate field values on objects other than quotes. You can then use your rule’s actions and conditions to send those values to a quote, quote line, or product option.\n\nREQUIRED EDITIONS\nAvailable in: Salesforce CPQ Winter ’16 and later\n\nProduct rules and price rules contain the Lookup Object field, which defines the object containing fields that you want to evaluate. Rules also contain a related list for making lookup queries. Lookup queries reference the fields on the object that you can compare against your quote, quote line, or product option fields.\n\nFor example, your insurance company has a custom Premium Rate object with fields for age, crash history, and car type. When a sales rep makes an insurance quote for a prospective customer, they enter their customer’s age, crash history, and car type into matching custom quote fields. You set up lookup queries on either type of rule based on your needs.\n\nA product rule lookup query tests Premium Rate to see if your customer was in more than five accidents in their lifetime. If they were, the product rule adds a subscription product called High-Risk Insurance Premium to your quote.\nA price rule lookup query tests Premium Rate to see if your customer has never been in an accident. If so, the price rule applies a 5% discount to your insurance package.\n\nThe object that your lookup query evaluates can be a custom object, such as Premium Rate, or Salesforce CPQ’s Lookup Data object. If you don’t want to make a new object in your Salesforce org, use the lookup data object. All you have to do is create custom lookup data fields to store information such as age, crash history, and car type.\n\nThe lookup query object contains the following important fields.\n\nTested Object\nDefine the object that contains the field your lookup query evaluates.\nLookup queries evaluate tested objects only on product options selected in product configuration or on quote lines that exist within the quote line editor.\nTested Field\nDefine the quote field that your lookup query evaluates.\nNOTE Tested Field supports non-null values only.\nMatch Type\nChoose where this lookup query evaluates its target data. If you choose Static Value, Salesforce CPQ compares the value of the query’s Tested Value field against all the values in your dataset. It then selects the first dataset value that matches your tested value. If you choose Field Value, the query takes the value referenced in your quoting process and matches that value against the data in the table.\nTested Value\nDefine this value if your query uses a static match type.\nLookup Field\nDefine the lookup data field or custom object field that you want to test.\nOperator\nDefine how Salesforce CPQ compares your lookup field to the field you’re testing.\nUsing Lookup Queries with Product Rules\nUse lookup queries with your product rules to query data from an object other than a quote. Use that data to change products and configurations in the quote line editor and configurator.\nUsing Price Rule Lookup Queries Against Custom Objects\nDefine a custom object to store data in Salesforce CPQ and then reference this data through lookup queries on your price rules.\nLookup Queries for Large Datasets\nWhen you query a large dataset, you have several options for how you set up your rules and lookup queries.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Using Lookup Queries in Salesforce CPQ",
    "keywords": [
        "Salesforce CPQ",
        "Lookup Queries",
        "Product Rules",
        "Price Rules",
        "Quote Calculation Sequence",
        "Custom Scripts",
        "Quote Fields",
        "Product Option Fields",
        "Subscription Fields",
        "Quote Line Group Fields"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_master.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_get_started.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_install_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_permissions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_favorites_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_import_lines_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_localization_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lightning_comm_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_bp_layout_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_package_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_products_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_types_of_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_bundle_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_option_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_global_attributes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_doc_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscription_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_percent_of_total.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_evergreen_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_evergreen_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_products_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_pricing_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_product_qle.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pricing_methods.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contracted_prices_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_summary_variables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_sv_in_quote.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_make_a_quote.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_use_the_qle.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_groups.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_line_groups.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_actions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_action_links_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_action_conditions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_qle_search_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_guided_selling.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_configurator_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_actions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_validation_rules_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_selection_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_discounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_discount_schedules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_ds_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pricing_guidance_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_what_do.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_setup_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_things_to_know.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_rules_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_condition_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_action_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_rule_pricing_guidance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_refresh_quote_prices_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_calc_seq.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_scripts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lookup_queries.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_send_your_quotes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_template_content.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_merge_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_terms.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_template_section_task.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_line_columns.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_print_option_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_document_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_styling_cpq_quote_doc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_advanced_approvals.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_setup_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_approvers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_variables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_tracked_fields_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_chains.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_email_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_smart_approvals.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_perm_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_orders.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_create_orders.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_subs_assets_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contract_opp_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contract_order_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_assets_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscription_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscriptions_prorate_precision_1.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amend_and_renew_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_service_cloud_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amendment_parent_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amendment_processes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_asset_upgrades_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_renewal_parent_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_renewal_product_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lq_product_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lq_custom_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lq_large_data.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.41747257113456726,
        -0.5783203840255737,
        0.5093245506286621,
        -0.7476046681404114,
        -0.4874301850795746,
        -0.2945173382759094,
        -0.6839556097984314,
        -0.05590762197971344,
        0.576663076877594,
        -0.7534514665603638,
        -0.11820060014724731,
        0.5400221347808838,
        0.15918585658073425,
        -0.1231413185596466,
        0.3998309373855591,
        -0.08404417335987091,
        0.2500859797000885,
        -0.10980869829654694,
        0.021078037098050117,
        -0.3530087172985077,
        -0.1939554214477539,
        0.9547533988952637,
        -0.004360288381576538,
        -0.2190631926059723,
        -0.28794094920158386,
        0.2995947003364563,
        -0.35896414518356323,
        -0.4403272569179535,
        -0.47779253125190735,
        0.6102713346481323,
        -0.17896388471126556,
        0.8706479668617249,
        0.0326298251748085,
        -0.5217308402061462,
        -0.09454641491174698,
        -0.39426934719085693,
        0.5850474238395691,
        -0.7889211773872375,
        0.00963924452662468,
        -0.12195596098899841,
        0.1657625138759613,
        -0.5726572275161743,
        0.2985503673553467,
        0.5016443133354187,
        -0.20528395473957062,
        0.19130277633666992,
        0.3377808928489685,
        0.2894149124622345,
        0.49593406915664673,
        0.4160804748535156,
        0.08116482198238373,
        -0.09770787507295609,
        -0.07328590005636215,
        -0.21827377378940582,
        0.14921987056732178,
        0.044350504875183105,
        -0.054281085729599,
        -0.32338911294937134,
        0.0782863050699234,
        -0.7778931260108948,
        -0.05325022712349892,
        0.7739112973213196,
        0.5422259569168091,
        -1.4130942821502686,
        -0.16990186274051666,
        0.012701881118118763,
        -0.24445310235023499,
        0.4768522381782532,
        0.37810856103897095,
        0.3182915449142456,
        0.45869818329811096,
        -0.743933379650116,
        -0.3037199378013611,
        -0.42476242780685425,
        -0.006939250975847244,
        -0.5413233041763306,
        -0.035297468304634094,
        0.5284289717674255,
        -0.988190770149231,
        -0.6374464631080627,
        0.36396265029907227,
        -0.3928004801273346,
        -0.6213876008987427,
        -0.13975971937179565,
        -0.553457498550415,
        1.0185554027557373,
        -0.1855299025774002,
        0.4248031973838806,
        -0.3694678544998169,
        -0.22725191712379456,
        0.30621182918548584,
        -0.14213618636131287,
        0.8598101735115051,
        -0.20039775967597961,
        1.0314102172851562,
        1.0828783512115479,
        0.15700218081474304,
        0.4028625190258026,
        -0.08560653030872345,
        -0.17676858603954315,
        0.16696013510227203,
        -0.2099623680114746,
        -0.16381850838661194,
        -0.08891664445400238,
        -0.2765977680683136,
        -0.5410309433937073,
        -0.003744259476661682,
        0.8604121208190918,
        -0.8353310227394104,
        -0.06255145370960236,
        -0.825584352016449,
        -0.401876837015152,
        -0.8436291217803955,
        -0.6987852454185486,
        -0.8601409196853638,
        0.4071896970272064,
        -0.525972306728363,
        0.09439083933830261,
        0.3823912441730499,
        -0.6499009132385254,
        4.205962657928467,
        -0.029263369739055634,
        0.27480024099349976,
        0.22108431160449982,
        0.6572574973106384,
        0.8249390721321106,
        0.29209744930267334,
        -0.6340293884277344,
        0.5500689148902893,
        -0.7448219060897827,
        0.23952114582061768,
        -0.313459187746048,
        -0.7030336856842041,
        0.3339897394180298,
        0.10318821668624878,
        0.6594078540802002,
        -0.8694900870323181,
        -0.10094626247882843,
        0.22349785268306732,
        -0.24742582440376282,
        -0.15431486070156097,
        0.24092735350131989,
        0.18276430666446686,
        0.9896853566169739,
        0.4019227921962738,
        -0.16653849184513092,
        0.12324891984462738,
        -0.6940123438835144,
        -0.21743184328079224,
        -0.4915953278541565,
        0.36476364731788635,
        -0.4487440586090088,
        0.2542453408241272,
        0.23914286494255066,
        -0.35556739568710327,
        0.37292584776878357,
        0.4457513093948364,
        -0.08489684015512466,
        -0.26667654514312744,
        -0.10051935166120529,
        0.563913881778717,
        0.14169979095458984,
        -0.5532119870185852,
        0.3700293302536011,
        -0.4108351171016693,
        0.28030651807785034,
        -0.2276483029127121,
        0.5740094184875488,
        0.3999423682689667,
        -0.025428835302591324,
        0.3412594199180603,
        0.14399142563343048,
        1.159534215927124,
        -0.32779574394226074,
        -0.6750450134277344,
        0.20913377404212952,
        0.751797616481781,
        -0.6117262244224548,
        -0.4159448742866516,
        0.9283335208892822,
        0.6622909903526306,
        0.36825552582740784,
        -0.46128910779953003,
        0.14571544528007507,
        -0.027350937947630882,
        0.5915840864181519,
        0.11315860599279404,
        0.4967579245567322,
        -0.03802214562892914,
        0.0014720577746629715,
        0.5852205753326416,
        -0.5606715679168701,
        -0.2777475118637085,
        -1.078641653060913,
        -0.16644111275672913,
        -0.13130488991737366,
        -0.4753842353820801,
        0.1938907355070114,
        0.11645065993070602,
        -0.9341084957122803,
        -0.08265310525894165,
        0.3231910467147827,
        -0.6315685510635376,
        -0.5406314730644226,
        0.4919745624065399,
        0.123314768075943,
        -0.5018184185028076,
        -0.024433033540844917,
        0.20857712626457214,
        -0.2309415340423584,
        -0.022328168153762817,
        1.5683858394622803,
        -0.8541069030761719,
        0.0935644656419754,
        -0.32352331280708313
    ]
}