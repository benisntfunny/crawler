{
    "id": "2bc3edc36129fd1420dc0943d33169777769221ad6db92fdbc7a8eb99459ad8c-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.example_invoking_des_enabled_expression_set_from_flow.htm&language=en_US&type=5",
    "content": "nullBusiness Rules Engine\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Business Rules Engine\n Get Started with Business Rules Engine\n Learn and Explore\n Set Up Business Rules Engine\n Decision Matrices\n Decision Tables for Business Rules Engine\n Expression Sets\n Decision Explainer for Expression Sets\n Business Rules Engine Integrations\n OmniStudio\n Flow\n Invoke a Decision Matrix in a Flow\n Invoke a Decision Table in a Flow\n Invoke an Expression Set in a Flow\n Invoke an Expression Set That Uses Decision Explainer from a Flow\n Example of Invoking a Decision Explainer Enabled Expression Set from...\n Example: Create a Decision Matrix to Get Step-Based Discount Percent\n Example: Create a Decision Matrix to Get Age-Based Discount\n Example: Create an Expression Set to Calculate Discounted Membership...\n Example: Create a Flow to Run the Expression Set and Update the Record\n Example: Add the Flow to the Contact Record Page and Run the Flow\n Example: View Decision Explainer Log History\n Invocable Actions\n Third-Party Workflows\n Considerations for Calling Expression Sets\n Calculation Matrix and Procedure Migration to Business Rules Engine\n Business Rules Engine Default Limits\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nINDUSTRIES COMMON FEATURES GUIDE\nExample of Invoking a Decision Explainer Enabled Expression Set from Flow\n\nThis example shows how to invoke an expression set that uses Decision Explainer from flow. The example also shows how to view every run of the expression set in the action logs for the context in which the expression set is run.\n\nREQUIRED EDITIONS\nAvailable in: Lightning Experience\nAvailable in: Enterprise, Unlimited, and Developer Editions for Industries clouds that have Business Rules Engine and Decision Explainer enabled.\n\nTo promote fitness and well-being, a company is offering a discount on its annual gym membership to its contacts. To encourage physical movement, the company launched a week-long step challenge for its contacts. The annual membership price is $1,000. A discount is offered on this price based on a contact’s age and the step count from the week-long step challenge.\n\nThe company’s sales team gave the rule designer and the Salesforce admin the age and step count ranges and the applicable discount percentages. The company also asked that the discounted gym membership fees be updated on a contact’s record detail page for quick reference.\n\nThe rule designer contacted the company’s Salesforce admin and together they divided the requirement into these tasks:\n\nTASK\tDESCRIPTION\nCreate a decision matrix to calculate the discount percent based on the step count from the step challenge.\tThe matrix uses an input column with the datatype number range to capture the step count. The matrix captures the discount percent in the output column for these ranges.\nCreate a decision matrix to get age-based discount.\tThe matrix uses an input column with the data type number range to define the age range. The matrix captures the discount percent in the output column for these ranges.\nCreate an expression set and its version to design the end-to-end rule to calculate the discounted gym membership.\t\n\nThe expression set version:\n\nTakes the step count as an input and looks up the decision matrix to get the step-based discount.\nUses the contact’s birth date to calculate age.\nPasses the contact’s age to the age-based discount matrix to get the additional discount.\nCalculates the total discount by adding the age-based and the step-based discounts.\nCalculates the discounted premium by subtracting the total discount percent from the base membership fee of $1,000.\nEnables Decision Explainer for customer service representatives to understand the logic behind the discounted membership fee for a specific contact.\n\nCreate a flow to run the expression set and return the output to the flow.\t\nThe flow captures the contact’s step count and passes it to the expression set action.\nThe expression set action is configured to use a contact’s record ID as the context in which the flow and the expression set run.\nThe expression set action returns the discounted membership fees to the flow.\nThe flow then updates the contact record with the discounted fees.\n\nTo launch the flow for a contact, add the flow action to the contact record detail page.\t\nThe company’s customer service representatives can launch the flow for a contact, and enter the contact’s step count for the previous week.\nThe flow runs in the background and updates the Gym Membership Fees field for the contact record.\n\nView the action log for the flow.\tThe customer service associates can see the Decision Explainer Log History on the contact’s record detail page to check how the gym membership fees for the contact were calculated.\nExample: Create a Decision Matrix to Get Step-Based Discount Percent\nCreate a decision matrix and configure its version with an input column for number of steps, and an output column with the corresponding discount percent based on a number range of steps.\nExample: Create a Decision Matrix to Get Age-Based Discount\nCreate a decision matrix and configure its version with an input column for age, and an output column with corresponding discount percent based on the age range.\nExample: Create an Expression Set to Calculate Discounted Membership Fees\nConfigure the expression set version to calculate a contact’s age from their birth date, look up the contact’s step count to get the steps-based discount, and return the discounted gym membership fee after subtracting the total discount from the base membership fee.\nExample: Create a Flow to Run the Expression Set and Update the Record\nCreate an input form to capture a contact’s step count and pass it to the expression set action. Configure the flow to update the contact record with the expression set’s output.\nExample: Add the Flow to the Contact Record Page and Run the Flow\nTo enter the step count for a contact from the contact’s record page, and pass the contact’s record ID to the flow from the same page, add a flow component to the Contact Record Page.\nExample: View Decision Explainer Log History\nView the action log for the expression set that was run from the flow for a contact record.\nSEE ALSO\nCreate an Explainability Message Template\nShow Rule Explanations to Users\nShow Rule Explanations to Users (Example)\nDecision Explainer for Expression Sets\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Salesforce Business Rules Engine Example",
    "keywords": [
        "business rules engine",
        "decision matrices",
        "expression sets",
        "flow",
        "invocable actions",
        "third-party workflows",
        "calculation matrix and procedure migration",
        "business rules engine default limits"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.business_rules_engine.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_learn_explore.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.set_up_business_rules_engine.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_standard_decision_matrices_0.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.use_csv_files_to_create_modify_decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_grouped_decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_manage_maintain_decision_matrices.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.download_matrix_versions_exported_to_dmn_files.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.decision_tables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.supported_data_types_and_operators_in_decision_tables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.object_variables_in_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.step_elements_in_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_condition_and_conditional_group_elements.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_lookup_table_element.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.bre_subexpression_element.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.build_your_expression_set.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.considerations_for_migrating_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.decision_explainer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.business_rules_engine_integrations.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.rules_engine_omnistudio_integration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.business_rules_engine_integration_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.example_invoking_des_enabled_expression_set_from_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.migrating_calc_matrix_calc_procd.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.industries_common_features.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.example_create_a_decision_matrix_to_get_step_based_discount_percent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_dm_for_age_based_discount.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.example_es_calculate_discounted_fees.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.invoke_es_from_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.add_the_flow_to_the_record_detail_page.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.view_decision_explainer_log_history.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_explainability_message_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.use_decision_explainer_in_expression_sets.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.show_rule_explanations_to_external_users_example.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.2951298952102661,
        -0.5860047340393066,
        -0.4918307960033417,
        0.1211165189743042,
        -0.5139775276184082,
        -0.4647620916366577,
        0.21425573527812958,
        0.009064879268407822,
        0.0376354455947876,
        -0.05145317688584328,
        0.2825004458427429,
        -0.06462728977203369,
        1.1469842195510864,
        0.7435994148254395,
        -0.4919700622558594,
        1.2625726461410522,
        0.9372039437294006,
        0.28108543157577515,
        -0.5710150003433228,
        0.07919323444366455,
        0.11775180697441101,
        0.33963078260421753,
        0.3208597004413605,
        0.23807060718536377,
        -0.23985996842384338,
        -0.6465453505516052,
        -0.1527891308069229,
        -0.1432315707206726,
        0.2425258606672287,
        0.2965634763240814,
        -0.28788256645202637,
        0.27242904901504517,
        -0.003821302205324173,
        -1.3040539026260376,
        0.06948162615299225,
        -1.1614049673080444,
        0.7773051857948303,
        0.00813305750489235,
        0.16563448309898376,
        0.35940027236938477,
        -0.6686350107192993,
        4.448776721954346,
        1.1864702701568604,
        0.604064404964447,
        0.902755081653595,
        0.48620840907096863,
        0.7961217164993286,
        -0.13447849452495575,
        -0.15579260885715485,
        -0.0936957374215126,
        -0.49322524666786194,
        0.4635450839996338,
        0.3618467152118683,
        -0.06420043855905533,
        0.2153310775756836,
        0.16558977961540222,
        0.4509027302265167,
        -0.822238564491272,
        0.184402197599411,
        0.08801885694265366,
        -0.6010003685951233,
        -0.3821452558040619,
        0.7851420640945435,
        -0.36266645789146423,
        0.5408570766448975,
        0.16490410268306732,
        0.4780004322528839,
        0.2460981160402298,
        -0.5699261426925659,
        0.3800707459449768,
        -0.7162940502166748,
        0.23684106767177582,
        -0.18048511445522308,
        0.21314950287342072,
        -0.2211594581604004,
        -0.24097968637943268,
        0.07691819965839386,
        0.3997791111469269,
        0.1864423304796219,
        -0.32864314317703247,
        -0.38395312428474426,
        0.8083845376968384,
        -0.0010213404893875122,
        -0.7526959776878357,
        0.005927864462137222,
        -0.41963639855384827,
        -0.17222072184085846,
        0.04104999452829361,
        0.599277138710022,
        0.03556734323501587,
        -0.9110059142112732,
        0.5169305205345154,
        0.02446199581027031,
        1.0224775075912476,
        -0.5376684665679932,
        -0.81919264793396,
        -0.26023679971694946,
        1.014384388923645,
        -0.4123844802379608,
        -0.6113819479942322,
        1.0323152542114258,
        0.34196311235427856,
        0.8857306241989136,
        0.05176953226327896,
        -0.1309632956981659,
        -0.36692795157432556,
        0.47745001316070557,
        -0.30939361453056335,
        0.6070601940155029,
        -0.45929938554763794,
        -0.4066227674484253,
        0.2499486804008484,
        -0.18606464564800262,
        -0.6527386903762817,
        -0.6389138102531433,
        0.5839518904685974,
        -0.13518236577510834,
        -0.7671563029289246,
        0.1484372615814209,
        0.012212885543704033,
        -0.7070670127868652,
        0.1763657033443451,
        0.18050771951675415,
        0.456222802400589,
        -0.06845974922180176,
        0.4012007713317871,
        0.1679462492465973,
        -0.1653873324394226,
        -0.007952213287353516,
        -0.8688490986824036,
        0.26371610164642334,
        -0.23624944686889648,
        0.6997942924499512,
        0.33033210039138794,
        0.18008825182914734,
        0.03918980807065964
    ]
}