{
    "id": "4cc85919243a1a973d63ee98832b25d2cec08d9a0001ee5dabe9e112fd23a8b2-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.mc_overview_validate_byok.htm&language=en_US&type=5",
    "content": "nullMarketing Cloud Engagement\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Marketing Cloud Engagement\n Marketing Cloud Engagement Glossary\n Marketing Cloud Engagement Tenant Types\n Marketing Cloud Engagement Setup\n Setup Assistant\n Limits and Guidelines\n Password Management\n Account Settings in Marketing Cloud Engagement\n Feature Settings\n Security Settings for Marketing Cloud Engagement\n Marketing Cloud Roles and Permissions\n Marketing Cloud Engagement Users\n Business Units in Marketing Cloud Engagement\n Alert Manager\n Assign a Role to All Business Unit Users\n SFTP Accounts in Marketing Cloud Engagement\n File Locations\n Marketing Cloud Key Management\n Create an Encryption Key for Marketing Cloud Engagement\n Use a Created Key with AMPscript\n Use a Created Key with File Transfer Activities\n Bring Your Own Key for Encryption at Rest\n Create Your Own Encryption Key\n Import an Encryption Key\n Rotate an Encryption Key in Marketing Cloud\n Delete an Encryption Key\n Revoke an Encryption Key\n Restore an Encryption Key in Marketing Cloud\n Validate Your Own Encryption Key\n Create an SSH Key to Use with Marketing Cloud Engagement SFTP\n Manage Parameters\n Tags\n BrandBuilder for Marketing Cloud Engagement\n Single Sign-On Authentication Using SAML 2.0 for Marketing Cloud...\n Account Login Access\n SSL Certificates for Custom Domain Security\n Determine Your Marketing Cloud Engagement Instance\n Browser Support\n IP Addresses for Inclusion on Allowlists in Marketing Cloud Engagement\n Marketing Cloud Engagement Data Protection and Privacy Tools\n Types of Data Usage in Marketing Cloud Engagement\n Marketing Cloud Engagement User Preferences\n Calendar in Marketing Cloud Engagement\n Event Notification Service\n Package Manager in Marketing Cloud Engagement\n Slack Integration for Marketing Cloud Engagement\n Field-Level Encryption in Marketing Cloud Engagement\n Tokenized Sending\n Data at Rest Encryption in Marketing Cloud Engagement\n Marketing Cloud Engagement Shield\n Expired Marketing Cloud Engagement Subscriptions\n Suspended Marketing Cloud Engagement Accounts\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSET UP MARKETING CLOUD ENGAGEMENT\nValidate Your Own Encryption Key\n\nYou can perform this process outside of Marketing Cloud Engagement to troubleshoot key wrapping procedures to ensure you used the correct algorithms.\n\nInstall a patched version of OpenSSL that enables AES Key Wrap Pad and a copy of xxd to perform these steps.\n\nIn your command-line interface, generate a private wrapping key and extract the public key information. The salesforce_rsa_pub2 file contains the RSA public wrapping key. Use this key instead of the public key normally obtained from Engagement.\n\nCommand:\n\nopenssl genrsa -out wrappingkeyprivate.pem 4096\nopenssl rsa -in wrappingkeyprivate.pem -outform PEM -pubout -out salesforce_rsa_pub2\nGenerate a new key, key wrapping, and Base64 encoding. Use the salesforce_rsa_pub2 wrapping key from Step 1.\nBase64 decode the intermediate key to obtain the oaep_wrapped_intermediate_aes_key2 wrapped intermediate key.\n\nCommand:\n\nopenssl base64 -d -in oaep_wrapped_intermediate_aes_key.b64 -out oaep_wrapped_intermediate_aes_key2\nUnwrap the intermediate key and produce the aeskey2.bin unwrapped intermediate key. If the file size isn’t 32 bytes, ensure that you generated a 256-bit AES key in Step 2.\n\nCommand:\n\nopenssl pkeyutl -in oaep_wrapped_intermediate_aes_key2 -decrypt -inkey wrappingkeyprivate.pem -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 > aeskey2.bin\nNOTE A failed command can indicate a problem with the intermediate key wrapping process in Step 2. Use SHA-256 for the hash function and the mask generation function when wrapping the RSA OAEP.\nConvert the intermediate key binary file into the aeskey2.hex file.\n\nCommand:\n\nxxd -plain -c 100 aeskey2.bin > aeskey2.hex\nSET /P AES_KEY=<aeskey2.hex\nNOTE To view the hex format, enter type aeskey.hex in Command Prompt or cat aeskey.hex in bash. Expect your value to match this sample output of 137c4fe6a7d08341e7756fd02050fff513e1d92ff464c35977d650b81f67a73f\nBase64 decode the aes_wrapped_user_rsa_key2 private key.\n\nCommand:\n\nopenssl base64 -d -in aes_wrapped_user_rsa_key.b64 -out aes_wrapped_user_rsa_key2\nNOTE If this command fails, review the Base64 encoding process from Step 2.\nUnwrap the private key to the customer_key2.der file. You can use the AES key value from step 5 in the command when replacing the <YOURAESKEYVALUE> string.\nCommand:\nopenssl enc -d -id-aes256-wrap-pad -nosalt -in aes_wrapped_user_rsa_key2 -K %AES_KEY% -iv A65959A6 > customer_key2.der\nNOTE If this command fails, ensure you used AES Key Wrap with Padding format in Step 2.\nValidate the private key.\nCommand:\nopenssl rsa -inform DER -in customer_key2.der -check\nNOTE If the command displays the private key value, your validation is successful. Otherwise, review the generation and wrapping process in Step 2 for errors.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Validating Your Own Encryption Key",
    "keywords": [
        "Encryption Key Validation",
        "Key Management",
        "Data Protection",
        "Security Settings",
        "Role and Permissions",
        "Business Units in Marketing Cloud",
        "Marketing Cloud Engagement Users",
        "Single Sign-On Authentication",
        "BrandBuilder for Marketing Cloud",
        "Field-Level Encryption",
        "Tokenized Sending"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_marketing_cloud.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_administration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_limits.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_password_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_view_account_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_global_marketing_cloud_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_headers_footers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_feature_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_email_studio_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_sender_authentication_package.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_domain_verification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_domain_verification_faq.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_from_address_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_domain_registration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_reply_mail_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_enterprise_reply_mail_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_send_classifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_send_emails_from_multiple_addresses.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_url_expiration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobile_studio_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobileconnect_account_administration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_setting_the_from_name_for_your_mobileconnect_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_setting_stored_headers_and_footers_for_mobileconnect_messages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_send_blockouts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_managing_keywords_on_short_and_long_codes_in_your_mobileconnect_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_help_keywords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_stop_keywords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_bounced_messages_and_held_numbers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_conversation_windows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_dlt_template_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobilepush_administration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_mp_provisioning_info.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_mp_apps_and_optional_settings_in_your_mobilepush_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_mp_send_blockouts_in_your_mobilepush_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_security_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mfa.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ip_allowlist.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_export_email_allowlist.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_audit_trail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_roles_assign_a_role.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_roles_permissions_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_permissions_es.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_journey_builder_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobileconnect_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobilepush_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_marketing_cloud_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_business_units.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_enterprise_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_enterprise_20_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_customized_local_content.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ftp_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_file_locations.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_key_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_byok.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_create_byok.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_parameter_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_brandbuilder.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_single_sign_on_authentication_via_saml_2.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_enable_saml_task.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_account_login_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_ssl_certificates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_ip_addresses_for_inclusion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_user_pref.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_timezone.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mc_calendar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ens.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_marketing_cloud_package_manager.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_manage_packages_across_environments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_pm_industry_solutions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_package_manager_reference.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_field_level_encryption.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_field_level_encryption_faqs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_tokenized_sending1.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_resolve_token_api_specification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_byok_openssl.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.19480375945568085,
        1.0130459070205688,
        0.9043712615966797,
        -1.0064467191696167,
        -0.5450822114944458,
        0.3007946312427521,
        0.22373928129673004,
        0.2083333432674408,
        0.3656630218029022,
        -0.05440852791070938,
        -0.4560725688934326,
        -0.3980404734611511,
        0.32479044795036316,
        -0.5833832025527954,
        -0.20928600430488586,
        0.4918038845062256,
        0.03217639774084091,
        -1.001509428024292,
        0.7109509110450745,
        -0.4645695686340332,
        0.1718137264251709,
        0.12902624905109406,
        -0.03523296117782593,
        0.22816768288612366,
        0.2029939442873001,
        0.36499089002609253,
        -0.1951618194580078,
        -0.11315253376960754,
        0.48059597611427307,
        -0.637157142162323,
        -0.3769649267196655,
        0.4866047501564026,
        -0.2796075940132141,
        -0.3358580470085144,
        -0.4175380766391754,
        0.36563876271247864,
        0.4224564731121063,
        1.074051856994629,
        -0.0387197881937027,
        -0.8845177888870239,
        0.19422179460525513,
        -0.12209950387477875,
        -0.42485591769218445,
        0.2195703387260437,
        0.21739116311073303,
        -0.36819988489151,
        -0.3370296061038971,
        -0.32580360770225525,
        -0.3138434886932373,
        -0.07772359997034073,
        0.10481855273246765,
        -0.08102631568908691,
        -0.12984973192214966,
        0.125750333070755,
        -0.385507196187973,
        -0.16445688903331757,
        0.27286386489868164,
        0.17937692999839783,
        0.341096431016922,
        0.26697835326194763,
        -0.6748279333114624,
        -0.014013104140758514,
        -0.5367012619972229,
        -0.3492640554904938,
        -1.1571524143218994,
        0.10101986676454544,
        0.14547336101531982,
        -0.5029809474945068,
        -0.6153830289840698,
        -0.3050902783870697,
        -0.36179131269454956,
        0.2428913563489914,
        -0.09524019062519073,
        0.07274924218654633,
        -0.13889674842357635,
        0.3019479811191559,
        0.9437093734741211,
        0.6623465418815613,
        0.36382436752319336,
        -0.016363568603992462,
        0.5600879192352295,
        1.0610419511795044,
        -0.27173152565956116,
        0.3762792944908142,
        -0.3349313735961914,
        0.6348684430122375,
        0.46645379066467285,
        -0.0981404185295105,
        -0.0879521295428276,
        -0.2525363564491272,
        0.7300775051116943,
        -0.777386486530304,
        -0.007261168211698532,
        -0.14886356890201569,
        -0.7257815003395081,
        0.22775116562843323,
        0.7987481951713562,
        -0.567314088344574,
        -0.1613825261592865,
        -0.36940109729766846,
        -0.4884277582168579,
        -0.4579280614852905,
        -0.21766100823879242,
        -0.5543268322944641,
        0.27993470430374146,
        -0.5128657221794128,
        0.018589764833450317,
        0.8464035987854004,
        -0.8026660084724426,
        4.241766929626465,
        0.5342569947242737,
        -0.11780758202075958,
        0.33377745747566223,
        0.17546126246452332,
        0.7331145405769348,
        0.03167212754487991,
        -0.47214776277542114,
        0.08295874297618866,
        -0.8944503664970398,
        -0.13653652369976044,
        -0.6120336055755615,
        0.34804674983024597,
        0.5864159464836121,
        -0.6347070336341858,
        0.1696230173110962,
        -0.21456819772720337,
        -0.14753776788711548,
        0.11944272369146347,
        -0.6904460191726685,
        -0.6513805389404297,
        0.0009814095683395863,
        0.13840387761592865,
        0.8415279984474182,
        0.2273678481578827,
        -0.6371328830718994,
        -0.13157278299331665,
        -0.0073366425931453705,
        0.14377598464488983,
        -0.2683531939983368,
        0.055488891899585724,
        0.03130403533577919,
        0.6647024154663086,
        -0.6808609366416931,
        -0.41834747791290283,
        0.04432709887623787,
        0.41985610127449036,
        0.34464743733406067,
        -0.10134965181350708,
        -0.31387174129486084,
        -0.06276847422122955,
        -0.2010924220085144,
        -0.1874362826347351,
        -0.5801265835762024,
        -0.4305449426174164,
        0.6235656142234802,
        -0.09086069464683533,
        0.8270275592803955,
        0.5726182460784912,
        -0.26520952582359314,
        0.23175939917564392,
        -0.7452809810638428,
        0.07468686252832413,
        -0.7751626968383789,
        -0.01483508013188839,
        0.2869963049888611,
        -0.26731932163238525,
        -0.06202381104230881,
        0.39515557885169983,
        0.22789570689201355,
        -0.3242688775062561,
        0.6152571439743042,
        -0.31742212176322937,
        -0.7286940217018127,
        -0.8753131628036499,
        0.23639416694641113,
        -0.0036614537239074707,
        1.1668537855148315,
        -0.21310806274414062,
        -0.5704359412193298,
        -0.4269521236419678,
        -0.9168217182159424,
        -0.5687541961669922,
        -0.14171771705150604,
        0.5810098648071289,
        0.02645561844110489,
        0.06808648258447647,
        0.34434452652931213,
        0.026604531332850456,
        -0.5177392363548279,
        0.3603206276893616,
        0.1350679099559784,
        -0.8036766648292542,
        0.27414074540138245,
        -0.018378034234046936,
        0.34808382391929626,
        -0.06345062702894211,
        0.08522030711174011,
        -0.08771589398384094,
        0.550490140914917,
        0.7824204564094543,
        0.13838903605937958,
        -0.15400053560733795,
        -0.6500914692878723,
        0.22155368328094482
    ]
}