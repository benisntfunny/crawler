{
    "id": "7feb4e9e46f362258a6cf92d41aa90700633df97af007861ebb8058d32494a8c-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.om_shopper_data_with_b2c_com_integration.htm&language=en_US&type=5",
    "content": "nullSalesforce Order Management\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce Order Management\n Order Management Resources\n Salesforce Order Management Licenses and Allocations\n Preconfigured Permission Sets for Salesforce Order Management\n Salesforce Payments and Order Management\n Order Management Lifecycle\n Order Management Objects\n Order Management Shopper and Buyer Records\n Shopper Representation\n Shopper Data with the B2C Commerce Integration\n Configure Order Management Flows\n Einstein Generative AI for Order Management\n High-Scale Orders\n Deleting Order Management Records\n Order Management Console\n Order Summary\n Order Fulfillment\n Distributed Order Management\n Payments and Invoices\n Process Exceptions\n Order Service Tasks\n Reports for Order Management\n B2C Commerce Connections\n Troubleshoot the B2C Commerce Integration\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE ORDER MANAGEMENT\nShopper Data with the B2C Commerce Integration\n\nThe B2C Commerce integration creates standard accounts and contacts to represent business shoppers or buyers. It identifies a business buyer by the presence of a company name in an order’s billing address. By default, it also creates standard accounts and contacts to represent individual shoppers.\n\nREQUIRED EDITIONS\nAvailable in: Lightning Experience\nAvailable in: Enterprise, Unlimited, and Developer Editions\n\nIf you want to create person accounts for individual shoppers instead, activate the Person Accounts for Shoppers admin setting according to the procedure in the Salesforce Order Management Implementation Guide for B2C Commerce.\n\nIf you’re representing individual shoppers with person accounts, don’t change the names or API names of the two default Account record types. The B2C Integration uses those types to represent shopper accounts.\n\nBy default, the integration identifies an existing shopper record by its name or email address. You can configure it to identify existing shoppers by applying your org’s duplicate and matching rules for Accounts, Contacts, and Person Accounts. For more information, see Manage Duplicate Records.\n\nThe integration can’t look up any encrypted fields on Salesforce objects. Encrypting any of the fields it uses to look up records causes order ingestion to fail. If you want to encrypt the Account Name, Account Person Email, or Contact Email field, then you must implement custom duplicate and matching rules that don’t use any encrypted fields. For more information on encryption restrictions, see General Shield Platform Encryption Considerations.\n\nWhen the integration receives order data, it checks the billing address company name value. If the billing address contains a non-null company name, the integration considers the shopper to be a business buyer. Otherwise, it considers the shopper to be an individual. It then proceeds based on the shopper type and the current Person Accounts for Shoppers setting.\n\nBUSINESS BUYER\tINDIVIDUAL SHOPPER WHEN USING STANDARD ACCOUNTS\tINDIVIDUAL SHOPPER WHEN USING PERSON ACCOUNTS\n\n\nIf B2C Integration Data Matching Rules is selected, use the org’s matching rules to identify an account or contact that matches the buyer information in the order data. If not selected, search for these records:\n\nAccount with a name matching the company name in the order data\nContact with an email matching the buyer email in the order data\n\nAssociate buyer records with the new order according to the search results.\n\nNeither found\nCreate a standard account and a contact using the order data. Assign the new account to the new contact’s Account field. Associate both new records with the new order.\nBoth found\nAssociate both existing records with the new order.\nAccount found; contact not found\nCreate a contact using the order data. Don’t associate the contact’s Account field with the existing account. Associate the existing account and new contact with the new order.\nAccount not found; contact found\nCreate an account using the order data. Don’t associate the existing contact’s Account field with the new account. Associate the new account and existing contact with the new order.\n\t\n\nIf B2C Integration Data Matching Rules is selected, use the org’s matching rules to identify an account or contact that matches the shopper information in the order data. If not selected, search for these records:\n\nAccount with a name matching the concatenated first name and last name in the order data\nContact with an email matching the shopper email in the order data\n\nAssociate shopper records with the new order according to the search results.\n\nNeither found\nCreate a standard account and a contact using the order data. Assign the new account to the new contact’s Account field. Associate both new records with the new order.\nBoth found\nAssociate the account that has the matching contact record with the new order.\nAccount found; contact not found\nCreate a contact using the order data. Don’t associate the contact’s Account field with the existing account. Associate the existing account and new contact with the new order.\nAccount not found; contact found\nCreate an account using the order data. Don’t associate the existing contact’s Account field with the new account. Associate the new account and existing contact with the new order.\n\t\n\nIf B2C Integration Data Matching Rules is selected, use the org’s matching rules to identify a person account that matches the shopper information in the order data. If not selected, search for a person account record with a person email matching the shopper email in the order data.\n\nPerson account not found\nCreate a person account using the order data. An associated contact is created. Associate the new person account with the new order.\nPerson account found\nAssociate the matching person account with the new order.\n\nThe integration sets only the Account field on a contact when it creates the account and contact at the same time. If one of the records exists, setting that value without validation can break the integration because contacts can’t have duplicate Accounts and Business Phones. However, you can set the Account field on a contact manually or via customization as long as you check for a duplicate.\n\nChanging the Person Accounts for Shoppers setting doesn’t affect existing shopper records. However, it can affect whether the integration recognizes existing individual shopper records that were stored when the setting was different. Before you change this setting on a production org, review these considerations:\n\nNOTE If the B2C Integration Data Matching Rules setting is on, this behavior can vary depending on your org’s matching rules.\nPerson Accounts for Shoppers is off\nThe integration recognizes an individual shopper stored as a person account because it searches for an account by Name and a contact by Email. Thus, it recognizes a person account with a matching Name and a contact with a matching Email, normally the contact associated with the person account.\nPerson Accounts for Shoppers is on\nThe integration doesn’t recognize an individual shopper stored as a standard account and contact because it searches only for a person account by Person Name. A standard account doesn’t have a Person Name, and the integration doesn’t search for a contact in this case.\n\nChanging this setting can take up to an hour to take effect.\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Salesforce Order Management with B2C Commerce Integration",
    "keywords": [
        "B2C Commerce",
        "Salesforce Order Management",
        "Order Management",
        "Integration",
        "Data Matching Rules",
        "Shopper Records"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_lifecycle_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shopper_records.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_configure_om_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_einstein_gen_ai_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_high_scale_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_editable_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_summary.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_fulfillment.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_distributed_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_service.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_order_items_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_return_merchandise_authorization.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_charge_return_fees.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_exchanges_rma.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_overview_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_setup_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_application.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_reports.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_objects_and_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_account_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_billing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_fulfillment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_inventory_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_transaction_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_routing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shipment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_b2c_commerce_connections.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.managing_duplicates_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_pe_considerations_general.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.2091137170791626,
        0.3410196304321289,
        -0.23985347151756287,
        -0.5130638480186462,
        -0.30304718017578125,
        -0.9944130778312683,
        -0.4069281220436096,
        -0.20666655898094177,
        -0.2866678535938263,
        -0.4385886490345001,
        -0.04826417565345764,
        -0.6787673830986023,
        0.2721330523490906,
        0.6590884327888489,
        0.6329231858253479,
        -0.7874742150306702,
        -0.7107328176498413,
        0.4650288224220276,
        -0.12346647679805756,
        0.03934299945831299,
        0.2609570026397705,
        -0.06662394106388092,
        -0.1704554557800293,
        -0.7975652813911438,
        -0.2662193179130554,
        -0.029925571754574776,
        0.3200042247772217,
        -0.6624302268028259,
        0.24506628513336182,
        1.4708364009857178,
        -0.3888489603996277,
        -0.4758249521255493,
        -0.3057897686958313,
        -0.36722269654273987,
        0.20837436616420746,
        -0.2757336497306824,
        -0.4572901427745819,
        0.10804504156112671,
        -0.5872763991355896,
        0.48856842517852783,
        0.3823640048503876,
        0.3297021985054016,
        -0.06879720091819763,
        0.2911403477191925,
        0.9112004637718201,
        -0.6895291209220886,
        0.9389569163322449,
        -0.4756097197532654,
        0.4832695722579956,
        0.209371417760849,
        -0.2347680926322937,
        -0.5343672037124634,
        -0.5215162038803101,
        0.8513504266738892,
        -0.07149577140808105,
        -0.16214632987976074,
        -0.6268019676208496,
        0.3267875909805298,
        -0.06640593707561493,
        0.8819065093994141,
        -0.25670114159584045,
        -0.56368088722229,
        -0.41710469126701355,
        -0.15431873500347137,
        -1.5545599460601807,
        0.2539805769920349,
        -0.7189622521400452,
        0.8466379642486572,
        -0.12365013360977173,
        0.7133075594902039,
        1.0304243564605713,
        -0.34689900279045105,
        4.224623203277588,
        0.6993486881256104,
        0.4531087577342987,
        -0.014349251985549927,
        0.6451550722122192,
        1.2538398504257202,
        0.1681109517812729,
        0.010615956038236618,
        0.7366567850112915,
        -0.6230537295341492,
        -0.397508442401886,
        -0.02529534511268139,
        0.5159268379211426,
        -0.2823360860347748,
        -0.5234588384628296,
        -0.2493886649608612,
        -0.14940807223320007,
        -0.34271878004074097,
        1.015488862991333,
        -0.8270283341407776,
        -0.20736101269721985,
        -0.09322096407413483,
        0.07417143136262894,
        1.0003448724746704,
        -0.12014620751142502,
        -0.05049803853034973,
        0.19341902434825897,
        -0.12977299094200134,
        -0.8162330985069275,
        -1.2096730470657349,
        0.34519869089126587,
        -0.11453016102313995,
        1.0038247108459473,
        0.04605957865715027,
        -0.2559071481227875,
        0.7442198395729065,
        0.11846227943897247,
        0.22435520589351654,
        -0.7197929620742798,
        -0.367992639541626,
        0.5782679319381714,
        0.2331777960062027,
        -0.9362818598747253,
        0.34866538643836975,
        -0.25273019075393677,
        0.0248189065605402,
        0.00872863084077835,
        0.09661683440208435,
        0.7802249789237976,
        -0.5485855340957642,
        1.0196985006332397,
        -0.9437678456306458,
        1.2091405391693115,
        -0.19986338913440704,
        -0.020290207117795944,
        0.17000006139278412,
        -0.22099529206752777,
        -0.5244051814079285,
        -0.1808471530675888,
        0.06353957951068878,
        0.369110643863678,
        0.3751475214958191,
        -0.4668906629085541,
        0.6063219308853149,
        -0.3843708634376526,
        0.2348167598247528,
        -0.0350632518529892,
        0.7507773637771606,
        0.07370257377624512,
        -0.17062188684940338,
        0.04605799540877342,
        -0.7055882811546326,
        0.027193106710910797,
        -0.628389835357666,
        0.08686831593513489,
        -0.3905346393585205,
        -0.49805155396461487,
        0.23612141609191895,
        0.8401346206665039,
        -0.27144017815589905,
        -0.2565789520740509,
        0.1168200671672821,
        -0.19404393434524536,
        -0.1380506008863449,
        0.4637547731399536,
        0.10996291786432266,
        -0.23854543268680573,
        0.08724932372570038,
        0.32210928201675415,
        -0.03662724792957306,
        0.3247508406639099,
        0.1265447437763214,
        -0.7251871228218079,
        -0.10541067272424698,
        0.04104839265346527
    ]
}