{
    "id": "58042eb2aa5aaa4021fb6519fa318ad44884566d841079166dee1572600c702a-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_guest.htm&language=en_US&type=5",
    "content": "nullSalesforce B2B Commerce for Visualforce\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce B2B Commerce for Visualforce\n Get Started with B2B Commerce for Visualforce\n Manage Storefront Details and Metadata\n Set Up Product Data for B2B Commerce for Visualforce\n Help Buyers Discover Products on Your Storefront\n Price and Sell Products for B2B Commerce for Visualforce\n Support Buyer Accounts for B2B Commerce for Visualforce\n Provide a Smooth Path to Purchase for Storefront Buyers\n Considerations for Supporting a Buyer's Cart Experience\n Allow a Buyer to Create a Wish List of Items for a Future Cart\n Email a Buyer for an Abandoned Cart\n Enforce Quantity Rules When a Buyer Adds Products to a Cart or Wish...\n Set Product Prices in the Cart from an External Source\n Allow a B2B Commerce for Visualforce Guest Buyer to Maintain a Cart\n Allow a B2B Commerce for Visualforce Guest Buyer to Check Out\n Standard Checkout versus Line-Level Independence (LLI) Checkout\n Calculate Tax at Checkout\n Set Up Payment Types for Storefront Purchases\n Fulfill a Buyer's Order\n Scale Your Cart Capabilities for a Large Number of Items\n Enable Asynchronous Order Placement for Checkout\n Considerations for Asynchronous Processing for Carts and Orders\n Generate an Invoice for a Buyer's Order\n Customize the Storefront User Experience\n Strategize for Storefront Success\n Deliver Storefront Performance and Security\n Market Templates for B2B Commerce for Visualforce\n Solution Resources for B2B Commerce for Visualforce\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE\nAllow a B2B Commerce for Visualforce Guest Buyer to Maintain a Cart\n\nBecause a guest buyer hasn't registered for a storefront account, they can't access the My Account page and manage any carts they've created. If a guest buyer begins creating a cart, but then closes the browser tab where their storefront session was active, the cart becomes abandoned. When the buyer returns to the storefront later, they start over with a new, empty cart. To provide a more positive experience, you can ensure that the guest buyer inherits the same cart ID when they return in a later browser session.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13)\nB2B Commerce for Visualforce Spring ’20 (version 4.12)\nB2B Commerce for Visualforce Summer ’19 (version 4.11)\nB2B Commerce for Visualforce Spring ’19 (version 4.10)\nB2B Commerce for Visualforce Summer ’18 (version 4.9)\n\n\nUSER PERMISSIONS NEEDED\nTo access CC Admin and change settings:\tAccess B2B Commerce for Visualforce Admin Settings permission set\n\nB2B Commerce for Visualforce can set a browser cookie, apex__currCartId, which specifies the encrypted ID for the guest buyer's active cart. To enable this cookie and ensure that storefront pages read its value, update your storefront configuration settings.\n\nNOTE In B2B Commerce for Visualforce Winter ’21 (version 4.13) or later:\nIf your storefront shows content on an Experience Builder site page, the LSKey[c]currCartId cookie is also set.\nWhen you enable Cart Scale, the Scaled Cart page replaces the Shopping Cart page version 2.0 but still respects this behavior. The configurations described in this topic still apply to the Scaled Cart page.\nVerify that you've set up the required sharing rules for guest user access to the cart-related B2B Commerce for Visualforce custom objects. Review the steps in Create Sharing Rules for Guest User Access to Storefront Objects.\nNOTE These sharing rules allow guest user access even when you complete the security alerts for preventing unauthorized guest user access.\nOn the CC Admin tab in your org, select your storefront (1).\nIn the Storefront Settings menu, select Configuration Settings (2).\nFrom the Module picklist, select Cart (3).\nTo enable the cookie, find the Set Cart Cookie configuration (4), and make sure that its value is TRUE (5).\nTIP\nIf the value is FALSE, click Override in the Action column. Enter TRUE for Value, and click Create.\nIf the configuration doesn't exist, click New , enter the following values in the New Page Setting window, and click Create.\nFIELD\tVALUE\nModule\tCart\nConfiguration\tSet Cart Cookie\nPage\tall\nValue\tTRUE\nTo make sure that storefront pages read the cookie, find the Read Cart Cookie On Page configuration (6), and make sure that its value is TRUE (7).\nNOTE This configuration ensures that pages read the cookie even when you enable page caching.\nTIP\nIf the value is FALSE, click Override in the Action column. Enter TRUE for Value, and click Create.\nIf the configuration doesn't exist, click New , enter the following values in the New Page Setting window, and click Create.\nFIELD\tVALUE\nModule\tCart\nConfiguration\tRead Cart Cookie On Page\nPage\tall\nValue\tTRUE\nBuild and activate a new configuration cache.\nSEE ALSO\nAllow a B2B Commerce for Visualforce Guest Buyer to Browse Your Storefront\nEnable Caching for Storefront Pages\nCreate a Portal to Your Storefront from an Experience Builder Site\nBrowser Cookies Set by B2B Commerce for Visualforce\nCreate Sharing Rules for Guest User Access to Storefront Objects\nSalesforce Help: Resolve Guest User Security Alerts to Keep Your Storefronts Secure by Default\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Allowing B2B Commerce for Visualforce Guest Buyers to Maintain a Cart",
    "keywords": [
        "guest buyers",
        "cart maintenance",
        "browser cookies",
        "salesforce commerce cloud"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_visualforce.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_start.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_community_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_self_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_global.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_settings_loader.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_types.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_dynamic_kit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_image.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_discovery.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category_media.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_sell.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_price_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_promotion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_coupon.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_buyer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_account_group.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_purchase.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_ux.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_home.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_compare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_detail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_scaled_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_shopping_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_effective_account_selector.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_feature_filtering.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_spotlight_featured_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_labels.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_theme.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_extension.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_localize.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_friendly_urls.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_bot_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_shield.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_cache.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_cache.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cookies.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.2934516668319702,
        0.010324787348508835,
        -0.11291201412677765,
        -0.27236178517341614,
        0.27066147327423096,
        0.6043326258659363,
        0.40311697125434875,
        -0.028257854282855988,
        0.6430959105491638,
        -0.1345706284046173,
        0.15012064576148987,
        0.16256266832351685,
        -0.10489550977945328,
        0.12814362347126007,
        0.2707603871822357,
        -0.4527849853038788,
        0.23423677682876587,
        0.49795371294021606,
        -0.4390157461166382,
        -0.4432791769504547,
        -0.11796596646308899,
        -1.1028416156768799,
        0.17132344841957092,
        0.48051878809928894,
        0.48088449239730835,
        -0.3334161639213562,
        -0.2858135998249054,
        0.1977635771036148,
        -0.597538411617279,
        0.038831211626529694,
        0.5499170422554016,
        -0.7462921142578125,
        -0.7893648147583008,
        -1.3636819124221802,
        0.2661828398704529,
        0.3163045048713684,
        0.33861809968948364,
        -0.43104636669158936,
        -0.09043994545936584,
        0.0010983645915985107,
        -0.5151628255844116,
        -0.18606500327587128,
        -0.37010228633880615,
        -0.45074692368507385,
        -0.5083154439926147,
        -0.799647331237793,
        -0.19451531767845154,
        0.11718108505010605,
        -0.16871973872184753,
        0.3298475742340088,
        0.7400479912757874,
        0.48050156235694885,
        -0.0411677323281765,
        -0.0006938576698303223,
        0.7693673968315125,
        0.4029373228549957,
        0.16308289766311646,
        0.17157484591007233,
        0.3002628982067108,
        0.2545275390148163,
        -0.200663223862648,
        0.3166767656803131,
        0.06811143457889557,
        0.03725114092230797,
        -0.2718019485473633,
        -0.6366282105445862,
        0.3596055209636688,
        -0.313478022813797,
        -0.056956514716148376,
        0.5218802094459534,
        -0.6544315814971924,
        0.11398997902870178,
        -0.2342340499162674,
        0.15670643746852875,
        -0.4244471490383148,
        0.16453146934509277,
        -0.8297908306121826,
        -0.37650254368782043,
        0.34380054473876953,
        0.010774221271276474,
        0.09693682193756104,
        -0.3464187681674957,
        4.295531749725342,
        0.3931601345539093,
        0.35585108399391174,
        0.5250073075294495,
        0.7734940052032471,
        0.9266546964645386,
        0.18109461665153503,
        -0.06694389134645462,
        0.48934513330459595,
        -0.45613619685173035,
        0.02528569847345352,
        0.26925572752952576,
        0.08891075104475021,
        0.5893171429634094,
        -0.322332501411438,
        0.0395611971616745,
        -0.8148770332336426,
        -0.06477351486682892,
        0.10396404564380646,
        -0.10039757192134857,
        -0.7247653007507324,
        -0.3898686468601227,
        -0.24298420548439026,
        1.0299062728881836,
        -0.16665391623973846,
        -0.032221101224422455,
        -0.702157735824585,
        -0.8077954053878784,
        -0.39887359738349915,
        -0.8473901152610779,
        0.7969792485237122,
        -0.05065343156456947,
        0.6246954202651978,
        -0.13285300135612488,
        -0.06732568889856339,
        0.39960604906082153,
        0.14904846251010895,
        0.16039882600307465,
        0.005686506628990173,
        -0.008387865498661995,
        0.526433527469635,
        -0.4921497106552124,
        -0.31517794728279114,
        -0.10332652926445007,
        0.20775039494037628,
        0.24124348163604736,
        -0.026313744485378265,
        0.4393690824508667,
        0.4042934477329254,
        0.2306416630744934,
        0.6783761978149414,
        -0.4279935956001282,
        0.3665509819984436,
        0.2933860719203949,
        -0.1050093024969101,
        0.44258761405944824,
        0.47295552492141724,
        -0.09287101775407791,
        0.0030470825731754303,
        0.5854193568229675,
        -0.18420395255088806,
        0.4653341770172119,
        -0.5284769535064697,
        -0.339376837015152,
        -0.3600369393825531,
        0.8561972975730896,
        0.6789237856864929,
        1.1312536001205444,
        0.10584838688373566,
        -0.29775235056877136,
        0.06931588798761368,
        -0.4522625505924225,
        -0.9886749386787415,
        -0.4670237600803375,
        -0.5911452174186707,
        -0.23835738003253937,
        -0.49933895468711853,
        -0.15342122316360474,
        0.3194597661495209,
        -0.763720691204071,
        0.016334526240825653,
        0.20840618014335632,
        0.02524617128074169,
        0.2650948464870453,
        0.7367164492607117,
        -0.011261940002441406,
        -0.5883426666259766,
        -0.04510712996125221,
        0.27767881751060486,
        0.17694008350372314,
        0.13571180403232574,
        0.733588695526123,
        -0.35901084542274475,
        -0.054893121123313904,
        0.36086246371269226
    ]
}