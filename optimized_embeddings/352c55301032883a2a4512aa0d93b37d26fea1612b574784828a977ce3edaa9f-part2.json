{
    "id": "352c55301032883a2a4512aa0d93b37d26fea1612b574784828a977ce3edaa9f-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.security_login_flow_visualforce.htm&language=en_US&type=5",
    "content": "nullIdentify Your Users and Manage Access\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Identify Your Users and Manage Access\n Who Is Salesforce Identity For?\n Salesforce Identity Licenses\n Multi-Factor Authentication\n Single Sign-On\n Identity Connect\n Custom Login Flows\n Create a Login Flow with Flow Builder\n Create a Custom Login Flow with Visualforce\n Set Up a Login Flow and Connect to Profiles\n Login Flow Examples\n Limit the Number of Concurrent Sessions with Login Flows\n Login Access\n Manage User Passwords\n Lightning Login for Password-Free Logins\n Certificate-Based Authentication\n Connected Apps\n External Client Apps\n Authorize Apps with OAuth\n App Launcher\n Manage API Access\n Manage Salesforce User Identities with SCIM\n Salesforce Customer Identity\n Monitor Access to Your Salesforce Orgs and Experience Cloud Sites\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nIDENTIFY YOUR USERS AND MANAGE ACCESS\nCreate a Custom Login Flow with Visualforce\n\nUse Visualforce and an Apex controller to create a custom login flow programmatically. With Visualforce, you have complete control over how your login page looks, behaves, and directs users after they complete the flow. You can design your login page from scratch and control every pixel of the page.\n\nDefine the business process in an Apex controller of the Visualforce page. Salesforce doesn’t pass input variables to a Visualforce Page login flow, but you can access user and login context. Include one of these Apex methods.\n\nAuth.SessionManagement.finishLoginFlow() indicates that the login flow is done and redirects the user to the home page\nAuth.SessionManagement.finishLoginFlow(startURL) indicates that the login flow is done and redirects the user to a specific page.\n\nThe login flow runs in a restricted session. Calling a finishLoginFlow method removes the session restriction and gives users access to Salesforce or their Experience Cloud site. You decide when or under what condition to call the method to remove the session restriction.\n\nHere’s an example of a Visualforce Page login flow. The user clicks a button to invoke the finishLoginFlow method. Specify showHeader=”false” for the login flow to work correctly.\n\n<apex:page showHeader=\"false\" controller=\"VFLoginFlowController\">\n  <h1>You are in VF Login Flow</h1>\n  <apex:form >\n    <apex:commandButton action=\"{!FinishLoginFlowHome}\" value=\"Finish and Go to Home\"/>\n    <apex:commandButton action=\"{!FinishLoginFlowStartUrl}\" value=\"Finish and Go to StartUrl\"/>\n  </apex:form>\n</apex:page>\n\nHere’s an example of an Apex controller that defines the business process.\n\npublic class VFLoginFlowController {\n\n    public PageReference FinishLoginFlowStartUrl() {\n        //do stuff\n        \n        //finish the login flow and send you to the startUrl (account page in this case)\n        return Auth.SessionManagement.finishLoginFlow('/001');\n    }\n\n\n    public PageReference FinishLoginFlowHome() {\n        //do stuff\n        \n        //finish the login flow and send you the default homepage\n        return Auth.SessionManagement.finishLoginFlow();\n    }\n}\n\n\nGive access to each profile that you want to associate with this Visualforce Page.\n\nFrom Setup, enter Visualforce in the Quick Find box, then select Visualforce Page.\nNext to the Visualforce page that you want to use, click Security.\nFrom the list of available profiles, add the profiles that you want to associate with this login flow.\nFrom Setup, designate the Visualforce page as a login flow, and connect the profiles to it. See Set Up a Login Flow and Connect to Profiles.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Custom Login Flows with Salesforce",
    "keywords": [
        "salesforce login flow",
        "visualforce page",
        "apex controller",
        "custom login",
        "multifactor authentication",
        "single sign-on",
        "oauth authorization"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.identity_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_overview_2fa.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_2fa_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_mfa_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.use_built_in_authenticators_as_a_verification_method.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_u2f_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_disconnect_verification_methods.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_sp_rp_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml_setting_up.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml_login_history.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_jit_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_authentication_providers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_predefined_authentication_provider_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_apple.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_addl_params.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_idp_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_idp_saml_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_both_sp_idp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sites_portals_about.htm&language=en_US&type=5#sso_sites_portals_about",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_provider_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.config_auth_provider_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.slo_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_delauthentication.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identityconnect_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_login_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_login_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_overview_passwords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_ll_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_certificate_based_auth.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_create.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_edit_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_manage.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_user_provisioning.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_notifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_mobile_push_notifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_test_push.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_notifications_custom.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_custom_push_payload.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_a_local_external_client_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.enable_oauth_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps_oauth_credential_rotation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps_oauth_flow_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.configure_oauth_code_credentials_flow_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.manage_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_external_client_apps_creation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_set_up_external_client_apps_permissions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_create_a_local_external_client_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_enable_oauth_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_configure_packageable_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_that_references_the_source_org.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_with_global_settings_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.associate_and_disassociate_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.disassociate_an_external_client_app_from_the_source_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.associate_an_external_client_app_with_the_source_global_settings_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_metadata_between_two_orgs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.disable_an_external_client_app_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_external_client_apps_oauth_credential_rotation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_custom_attributes_for_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_authenticate.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_token_exchange_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_hybrid_app_flow_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_access_tokens.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_enable_jwt.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_customscopes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_app_launcher.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.reordering_custom_apps_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.reordering_custom_apps_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_api_access_control_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_scim_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_about_customers_partners.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_prepare_your_org.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_discovery_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_verification_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_configure.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_single_sign_on_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_customers_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_experience_settings_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_flows_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_embedded_login_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_all_steps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_prereqs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_2.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_3.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_5.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_page_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_custom_login_page_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_branding_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_dynamic_create_brands.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_contactless_users_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_monitor_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.users_login_history.htm&language=en_US&type=5#users_login_history",
        "https://help.salesforce.com/s/articleView?id=sf.security_sms_identity_verification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_device_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.security_login_flow_associate.htm&language=en_US&type=5#security_login_flow_associate"
    ],
    "embedding": [
        0.013807732611894608,
        -0.21075361967086792,
        -0.6205141544342041,
        -0.34611210227012634,
        1.5572983026504517,
        1.5055285692214966,
        0.452693372964859,
        -0.4782686233520508,
        0.56441730260849,
        0.7444332838058472,
        0.5988636612892151,
        0.4668774902820587,
        0.6091728806495667,
        0.33975306153297424,
        -0.49626851081848145,
        0.7275530695915222,
        0.05039134994149208,
        -0.16416579484939575,
        -0.432030588388443,
        -0.024932928383350372,
        -0.6276121735572815,
        -0.26584333181381226,
        -0.15309368073940277,
        -0.7108957171440125,
        0.22921869158744812,
        0.6664708852767944,
        0.020022600889205933,
        0.7505965828895569,
        0.6603869199752808,
        -0.6381898522377014,
        0.23941391706466675,
        0.36450502276420593,
        0.3117588460445404,
        0.2963005006313324,
        1.239193320274353,
        0.47020381689071655,
        0.051282599568367004,
        0.6212106347084045,
        -0.006496265530586243,
        -0.15834447741508484,
        1.042980670928955,
        0.3030250370502472,
        -0.28664958477020264,
        0.5371035933494568,
        -1.0900996923446655,
        0.015878893435001373,
        -0.8791043758392334,
        0.48874950408935547,
        -0.13055697083473206,
        -0.4872674345970154,
        0.5863463878631592,
        -0.23852702975273132,
        -0.553093433380127,
        -0.1262485384941101,
        0.037427812814712524,
        -0.8352904915809631,
        -0.7576570510864258,
        1.1183570623397827,
        -0.43130192160606384,
        -0.7123738527297974,
        0.3384702801704407,
        0.3256530165672302,
        0.8202659487724304,
        -0.4573020935058594,
        0.9409424662590027,
        0.1911819875240326,
        0.8564814925193787,
        1.0729585886001587,
        -0.8268821239471436,
        0.026807017624378204,
        -0.1799682378768921,
        -0.43884554505348206,
        -0.13279655575752258,
        0.06100498139858246,
        0.007823724299669266,
        -0.2888246476650238,
        -0.7028867602348328,
        -0.7549694180488586,
        0.17361284792423248,
        -0.2652583122253418,
        0.3644886612892151,
        -0.40666133165359497,
        -0.44347119331359863,
        0.17597025632858276,
        -0.5226134061813354,
        0.05132362246513367,
        0.8097906708717346,
        -0.04391469061374664,
        -0.3139065206050873,
        -1.2959145307540894,
        0.3493739664554596,
        -0.2514025568962097,
        0.3434657156467438,
        -0.4642767310142517,
        0.6790801286697388,
        0.5183719992637634,
        -0.5926114320755005,
        -0.04518906772136688,
        -0.6120534539222717,
        -0.40351301431655884,
        0.04392259940505028,
        -0.34009140729904175,
        -0.7922148108482361,
        0.07143262028694153,
        0.2668946087360382,
        0.4764396548271179,
        0.23176828026771545,
        -0.13776767253875732,
        -0.8063606023788452,
        0.6261516809463501,
        0.4525306522846222,
        -0.3826746642589569,
        0.6686946153640747,
        -0.8407158851623535,
        -0.12775465846061707,
        -0.11365087330341339,
        0.02066214382648468,
        0.22707480192184448,
        -0.33134686946868896,
        0.4553579092025757,
        0.10595351457595825,
        0.02384250983595848,
        0.20770345628261566,
        -0.44242721796035767,
        -0.5830620527267456,
        0.40074270963668823,
        -0.7495017051696777,
        0.13928860425949097,
        0.08347450196743011,
        -0.5481008887290955,
        -1.0214922428131104,
        0.14942143857479095,
        -0.8498428463935852,
        0.11637203395366669,
        0.08357639610767365,
        -0.15359413623809814,
        0.8197497725486755,
        -0.295931339263916,
        4.157463073730469,
        0.7191080451011658,
        0.15533262491226196,
        0.2986355721950531,
        0.9543965458869934,
        0.9928144216537476,
        -0.015776976943016052,
        0.5694296360015869,
        0.11938702315092087,
        -0.5782161355018616,
        -0.1348673701286316,
        -0.18324722349643707,
        0.5770471692085266,
        -0.0017823092639446259,
        -0.45654624700546265,
        1.0291242599487305,
        -0.3117090165615082,
        0.25003674626350403,
        0.08574017137289047,
        -1.0005393028259277,
        -0.7534804940223694,
        0.08197877556085587,
        0.20967136323451996,
        1.0467637777328491,
        0.1094139814376831,
        0.7651756405830383,
        -0.4124594032764435,
        -0.2501283884048462,
        -0.551605224609375,
        -1.014278769493103,
        0.4938575327396393,
        -0.06650961935520172,
        0.312775582075119,
        -0.19985458254814148,
        0.069562628865242,
        0.14447414875030518,
        0.08505571633577347,
        0.49165570735931396,
        -0.4773092269897461,
        0.1544421911239624,
        0.3510878384113312,
        -0.08809638023376465,
        0.038144465535879135,
        -0.07671038806438446,
        0.06350994110107422,
        0.022109774872660637,
        -0.5734952688217163,
        -0.26047882437705994,
        -0.3519894778728485,
        0.339077353477478,
        0.4618258774280548,
        -0.7078841328620911,
        0.1197337955236435,
        0.06298955529928207,
        0.015066320076584816,
        0.5638604760169983,
        0.5212811827659607,
        -0.10045485943555832,
        -0.2767612338066101,
        0.33894282579421997,
        0.02406870760023594,
        0.2589084506034851,
        -0.26253336668014526,
        -0.1858798861503601,
        -0.2269492894411087,
        1.0865682363510132,
        0.5816410779953003,
        0.15770670771598816,
        -0.5643964409828186,
        -0.29396605491638184,
        -0.5343881845474243,
        -0.4364267587661743,
        -0.24483634531497955,
        -0.28938597440719604,
        0.2844560742378235,
        -0.08128134906291962,
        -0.13525643944740295,
        -0.09910620003938675,
        0.9046217203140259,
        -0.6759036183357239,
        -0.034264057874679565,
        0.03532629832625389,
        -0.40596210956573486,
        -0.11480541527271271,
        0.7447466850280762,
        -0.51438307762146,
        -1.1364609003067017,
        -0.8412308692932129,
        0.31407901644706726,
        -0.11801737546920776,
        0.17027825117111206,
        1.0345655679702759,
        -0.3588893711566925,
        -0.12912191450595856,
        0.5428425073623657
    ]
}