{
    "id": "4db516891380784e6c25872de348adf23962ba5f533c22b5385c50e5e82fd18c-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_guest_user_record_owner.htm&language=en_US&type=5",
    "content": "nullSalesforce B2B Commerce for Visualforce\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce B2B Commerce for Visualforce\n Get Started with B2B Commerce for Visualforce\n Install B2B Commerce for Visualforce\n Set Up a Storefront\n Create Storefront Information in CC Admin\n Create an Experience Cloud Site for the Storefront\n Configure Public Pages for a Storefront\n Configure the Storefront Secure Domain\n Assign Permissions for Storefront Guest Users\n Assign Permissions for Storefront Registered Users\n Assign Visualforce Pages for User Self-Registration\n Create a Default Owner for Records Created by a Storefront Guest User\n Configure External Sharing Settings for Storefront Users\n Create Sharing Rules for Guest User Access to Storefront Objects\n Add Account Group to the Standard Account Layout\n Finalize and Publish Your Storefront\n Find Information About Your B2B Commerce Package Installation\n Manage Storefront Details and Metadata\n Set Up Product Data for B2B Commerce for Visualforce\n Help Buyers Discover Products on Your Storefront\n Price and Sell Products for B2B Commerce for Visualforce\n Support Buyer Accounts for B2B Commerce for Visualforce\n Provide a Smooth Path to Purchase for Storefront Buyers\n Customize the Storefront User Experience\n Strategize for Storefront Success\n Deliver Storefront Performance and Security\n Market Templates for B2B Commerce for Visualforce\n Solution Resources for B2B Commerce for Visualforce\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE\nCreate a Default Owner for Records Created by a Storefront Guest User\n\nThe security alert Assign Records Created by Guest Users to a Default Owner adds a Digital Experiences setting, Assign new records created by guest users to the default owner. When enabled, this setting restricts a guest user from owning any sObject records, including B2B Commerce for Visualforce custom objects such as CC Carts. To comply with the requirement, create a user record that serves as the default owner of all records a guest user creates. Then, update your storefront configuration settings with the user's ID.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13) release build 3.149 or later\nB2B Commerce for Visualforce Spring ’20 (version 4.12) release build 3.147 or later\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.9 or later\nB2B Commerce for Visualforce Spring ’19 (version 4.10) patch 3.142.20 or later\nB2B Commerce for Visualforce Summer ’18 (version 4.9) patch 3.136.36 or later\nCloudCraze 4.8 patch 3.133.24 or later\nCloudCraze 4.7 patch 3.124.36 or later\n\n\nUSER PERMISSIONS NEEDED\nTo create an account:\tCreate on accounts\nTo create a contact:\tCreate on contacts\nTo create a user:\tManage Internal Users\nTo clone a permission set:\tManage Profiles and Permission Sets\nTo assign a permission set:\tAssign Permission Sets\nTo access CC Admin and change settings:\tAccess B2B Commerce for Visualforce Admin Settings permission set\nNOTE Later, you create sharing rules for the default owner to access certain B2B Commerce custom objects. Collectively, these steps ensure that your storefront complies with the security requirements—and ensure that guest users can still successfully create carts and check out.\nClone the default Customer Community Plus User profile. In the next step, you assign this profile to the user that becomes the default owner of all records created by guest users.\nNOTE Optionally, you can use the existing clone of the default Customer Community Plus User profile that you created when you first installed the managed package. The only requirement is that the profile is for a Customer Community Plus user license.\nFrom Setup, enter Profiles in the Quick Find box, and then select Profiles.\nFind the Customer Community Plus User profile, and click Clone in the Action column.\nEnter a unique Profile Name, and click Save.\nCreate a user that becomes the default owner of all records created by guest users.\nCreate an account specifically for this user.\nCreate a contact for the account.\nOn the contact detail page, select Manage External User.\nIn Lightning Experience, click the contact dropdown menu and select Enable Customer User.\nIn Salesforce Classic, click Manage External User, and then select Enable Customer User.\nComplete the fields for the user record.\nFor User License, select Customer Community Plus.\nFor Profile, verify that the clone of the Customer Community Plus User profile you created in the previous step is selected.\nCreate a permission set for the user that you created. Clone the default B2B Commerce Guest permission set, and modify it to add read access to the CC Contact Addresses and CC Orders objects.\nNOTE\nIf you're using B2B Commerce for Visualforce Summer ’18 (version 4.9) or earlier—including CloudCraze 4.8 or 4.7—this permission set is named CloudCraze Guest.\nThis clone of the default guest user permission set is used exclusively for the default owner of all records created by guest users.\nFrom Setup, enter Permission in the Quick Find box, and then select Permission Sets.\nFind the B2B Commerce Guest permission set, and click Clone in the Action column.\nEnter a unique Label and API Name, and save your changes.\nOn your cloned permission set details, click Object Settings.\nSelect the CC Contact Addresses object, and click Edit.\nIn the Object Permissions section, select the Enabled column for the Read permission, and click Save.\nSelect the CC Orders object, and click Edit.\nIn the Object Permissions section, select the Enabled column for the Read permission, and click Save.\nAssign the cloned permission set to the user that you created.\nFrom Setup, enter Users in the Quick Find box, and then select Users.\nSelect the user that you created.\nScroll to the Permission Set Assignments section, and click Edit Assignments.\nAdd the cloned permission set to the list of Enabled Permission Sets.\nClick Save.\nUpdate your storefront configuration settings with the ID of the user that you created.\nOn the CC Admin tab in your org, select your storefront (1).\nIn the Storefront Settings menu, select Configuration Settings (2).\nClick New , enter the following values in the New Page Setting window, and click Create.\nFIELD\tVALUE\nModule\tUser Profile (Registration)\nConfiguration\tDefault Record Owner\nPage\tall\nValue\tThe 15-digit ID of the user that you created.\nBuild and activate a new configuration cache.\nComplete the Assign Records Created by Guest Users to a Default Owner security alert.\nFrom Setup, enter Security Alerts in the Quick Find box, and then select Security Alerts.\nFind the Assign Records Created by Guest Users to a Default Owner security alert, and click Get Started.\nFor the step named Enable the Feature in Your Org, follow the instructions in the alert to enable the setting. When you're done, click Mark as complete.\nFor the step named Assign a Default Owner in Communities, select the user that you created. When you're done, click Mark as complete.\nFor the step named Reassign Records Owned by Guest Users, review any records that the storefront guest user currently owns. Update each affected record so that the user you created is the new owner. When you're done, click Mark as complete.\nComplete the remaining steps in the alert.\nSEE ALSO\nAllow a B2B Commerce for Visualforce Guest Buyer to Browse Your Storefront\nSalesforce Help: Considerations for Creating Contacts\nSalesforce Help: Create Experience Cloud Site Users\nSalesforce Help: Add a Single User\nPREVIOUS\n\nAssign Visualforce Pages for User Self-Registration\n\nNEXT\n\nConfigure External Sharing Settings for Storefront Users\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Create Default Owner for Guest User Records",
    "keywords": [
        "default owner",
        "guest users",
        "record ownership",
        "security settings",
        "salesforce permissions"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_visualforce.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_start.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_community_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_self_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_global.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_settings_loader.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_types.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_dynamic_kit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_image.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_discovery.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category_media.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_sell.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_price_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_promotion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_coupon.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_buyer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_account_group.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_purchase.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_ux.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_home.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_compare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_detail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_scaled_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_shopping_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_effective_account_selector.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_feature_filtering.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_spotlight_featured_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_labels.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_theme.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_extension.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_localize.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_friendly_urls.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_bot_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_shield.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_cache.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.contacts_add.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.networks_create_external_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.adding_new_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.3521318733692169,
        0.33589139580726624,
        0.4006674885749817,
        0.4988439679145813,
        -0.12828397750854492,
        0.31398695707321167,
        0.2247585505247116,
        -0.3798459768295288,
        0.1563808023929596,
        -0.10397721827030182,
        -0.6331433653831482,
        -0.25539252161979675,
        0.17401818931102753,
        -0.21520888805389404,
        -0.17178700864315033,
        0.12692929804325104,
        -0.040495119988918304,
        -0.04924868792295456,
        0.17788176238536835,
        -0.1939323991537094,
        0.7189599871635437,
        0.397222101688385,
        -0.6370415687561035,
        0.22725091874599457,
        0.20277492702007294,
        -0.08206655085086823,
        -0.5774398446083069,
        0.7683800458908081,
        0.39442041516304016,
        0.30884572863578796,
        0.06232133507728577,
        0.27582335472106934,
        -0.3157343864440918,
        -0.31057336926460266,
        -0.42732203006744385,
        0.1004643440246582,
        0.06300616264343262,
        -1.014845609664917,
        -0.27397674322128296,
        -0.21500010788440704,
        0.6004531383514404,
        -0.5233017206192017,
        0.29804879426956177,
        0.019484862685203552,
        -0.5908591151237488,
        0.0740632563829422,
        -0.35981038212776184,
        0.17059125006198883,
        -0.7691071629524231,
        -0.052706584334373474,
        0.5277292728424072,
        -0.3958551287651062,
        -0.18252642452716827,
        0.4748075604438782,
        0.04250432550907135,
        0.5900923609733582,
        -0.3390551209449768,
        0.06709204614162445,
        0.12805671989917755,
        0.08338844031095505,
        0.7780554890632629,
        -0.6201483607292175,
        -0.008666167967021465,
        -0.09515132755041122,
        -0.44356396794319153,
        -0.2442321479320526,
        -0.1842690408229828,
        -0.2818543314933777,
        -0.5287156701087952,
        -0.09315294027328491,
        -0.6730567216873169,
        0.35891640186309814,
        0.6790755391120911,
        0.7845603227615356,
        -0.5079712867736816,
        0.16274581849575043,
        0.022795405238866806,
        -0.8950561285018921,
        0.49548986554145813,
        0.7177582383155823,
        -1.0077896118164062,
        -0.16152797639369965,
        -1.2371346950531006,
        0.6029381155967712,
        -0.33459165692329407,
        0.44116899371147156,
        -0.8083325028419495,
        0.2662121057510376,
        0.6700200438499451,
        -0.37024715542793274,
        -0.2696363925933838,
        -0.6157557368278503,
        -0.4400314390659332,
        -0.2563364803791046,
        -0.5450036525726318,
        -0.5153161883354187,
        -0.25258761644363403,
        -0.20146872103214264,
        0.8275998830795288,
        0.7388243675231934,
        0.012925729155540466,
        -0.1125711053609848,
        0.6671034693717957,
        1.1548776626586914,
        -0.041564881801605225,
        0.26637113094329834,
        -0.5867595672607422,
        0.5371553897857666,
        0.32175108790397644,
        0.18374130129814148,
        0.036009110510349274,
        -0.2751370668411255,
        0.36779260635375977,
        -0.09015610814094543,
        -0.6926704049110413,
        -0.2623051404953003,
        -0.4985341429710388,
        -0.3957337737083435,
        0.7499172687530518,
        -0.3082587718963623,
        -0.14067679643630981,
        0.1586843878030777,
        -0.1004270613193512,
        -1.3229007720947266,
        -0.7220120429992676,
        -0.9224274158477783,
        -0.05010038614273071,
        0.2579735517501831,
        0.3626698851585388,
        0.6313493251800537,
        -0.10887758433818817,
        4.229650497436523,
        0.37312960624694824,
        0.6391978859901428,
        0.4095863699913025,
        0.33759233355522156,
        1.338666558265686,
        0.35818469524383545,
        0.5143798589706421,
        -0.06669264286756516,
        -0.5709946751594543,
        -0.32922929525375366,
        -0.09606324136257172,
        0.6724557876586914,
        0.20511619746685028,
        -0.7448374032974243,
        0.4941476583480835,
        -0.2901603877544403,
        0.0893881767988205,
        0.49364665150642395,
        -0.7811659574508667,
        -0.6851134896278381,
        -0.8635371923446655,
        0.49433910846710205,
        0.9943552017211914,
        -0.08128248155117035,
        0.43585875630378723,
        0.5465772747993469,
        -0.7172277569770813,
        -0.5335345268249512,
        -0.9683154225349426,
        0.1196776032447815,
        -0.0844215452671051,
        0.8688016533851624,
        -0.3245874345302582,
        -0.1607900857925415,
        0.2952650487422943,
        0.12757480144500732,
        0.8686803579330444,
        -0.5325061678886414,
        -0.09164472669363022,
        0.5425963997840881,
        0.7082861065864563,
        -1.0110901594161987,
        0.3006131947040558,
        0.21080492436885834,
        -0.0954238772392273,
        0.23960533738136292,
        -0.2171793282032013,
        0.6721329689025879,
        0.3379864990711212,
        0.7942352294921875,
        -0.7280807495117188,
        0.4214818477630615,
        0.04809916019439697,
        -0.10891195386648178,
        0.4620521366596222,
        0.0769534558057785,
        0.4844875931739807,
        -0.2996066212654114,
        -0.29930365085601807,
        -0.24761465191841125,
        0.20636679232120514,
        -0.15318526327610016,
        0.25577259063720703,
        -0.22101038694381714,
        0.2057836502790451,
        0.5228865146636963,
        0.8376498222351074,
        0.05382739007472992,
        -0.21920408308506012,
        -0.05905226618051529,
        -0.46296441555023193,
        -1.0096027851104736,
        -1.3955165147781372,
        -0.38391315937042236,
        -0.11503946036100388,
        -0.2403123825788498,
        0.1772092580795288,
        0.6825361251831055,
        -0.14534211158752441,
        -0.39026498794555664,
        0.08024139702320099,
        -0.10478892922401428,
        0.39428257942199707,
        0.7026495933532715,
        -0.3183882534503937,
        -0.6542041897773743,
        -0.8265681266784668,
        0.30212539434432983,
        -0.21081089973449707,
        0.014545194804668427,
        0.7844622731208801,
        -0.17432445287704468,
        -0.12577754259109497,
        0.3405284583568573
    ]
}