{
    "id": "525fff99a237c421e046c1e6865f17371a6a8472ada1e1b04f4c973baefe85a3-part2",
    "url": "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_actions_for_states_and_rules_181325.htm&language=en_US&type=5",
    "content": "nullGeneral Administration and Developer Help for Salesforce Industries...\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n General Administration and Developer Help for Salesforce Industries...\n Bulk Async Engine For Cart APIs\n Developer Documentation\n System Administration and Set Up\n Assign Vlocity Licenses to Users Automatically\n Add Vlocity Package Licenses to a Group of Users\n Allocate Space in the Platform Cache Partitions\n Overview of Attributes\n Overview of Profiles and Security for Vlocity\n When to Use Salesforce Person Accounts with Vlocity Products\n Add your Salesforce Instance to the Remote Site Settings List\n Configure a Sandbox after a Refresh\n Enable the Enhanced Lookups Search Setting\n How to Resolve Known Installation and Upgrade Issues\n Vlocity Triggers\n Relationships Between Objects\n Campaign Call List\n Overview of State Models, Transitions, Rules, and Actions\n Workflow for Preparing the Base Object for a State Model\n Workflow for Creating a State Model, States, and Transitions\n Workflow for Creating State Transition Rules\n Workflow for Creating Actions for States and Rules\n Create the Apex Class that Sends Emails\n Create the Email Templates for the State Model Example\n State Actions vs. State Rule Actions\n Create the Vlocity Actions for the State Model Example\n Add Actions to the Grade Rules\n Enable the State Model Version\n Workflow for Testing a State Model\n State Transition Rule Examples\n Workflow for Using a Trigger and an On Creation Action\n Automatic State Model Transitions\n Workflow for Setting Up Caching for State Models\n Custom Rule Evaluator Class\n Industries Data Models for Communications, Media, Energy,...\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nADMINISTRATION AND DEVELOPER HELP\nWorkflow for Creating Actions for States and Rules\n\nYou can define Vlocity Actions for your State Model and invoke them in two ways: by arrival at specific States, or by State Rules (in Spring '20 or later releases). These actions can invoke Apex methods (in Spring '20 or later releases), OmniScripts, Cards components, and more. In the Report Card State Model, all of the actions send emails to the student.\n\nBefore You Begin\n\nBefore you can create Vlocity Actions for States, you must create the States. See Workflow for Creating a State Model, States, and Transitions.\n\nBefore you can create Vlocity Actions for State Rules, you must create the State Rules. See Workflow for Creating State Transition Rules.\n\nBefore you can create actions, you must create the entities the actions invoke. The actions in the Report Card State Model invoke an Apex class, which then invokes one of a set of Email Templates. The following sections show you how to create the Apex class, the Email Templates, and the Vlocity Actions.\n\nThis diagram illustrates the actions (green boxes) in the Report Card State Model.\n\nCreate the Apex Class that Sends Emails.\nCreate the Email Templates for the State Model Example.\nChoose State Actions vs. State Rule Actions.\nCreate the Vlocity Actions for the State Model Example.\nAdd Actions to the Grade Rules.\nEnable the State Model Version.\n\nAfter you have created Vlocity Actions and associated them with States and State Rules, you are ready to proceed to the next task in the parent workflow. See Workflow for Testing a State Model.\n\nCreate the Apex Class that Sends Emails\nThe ReportCardEmail Apex class sends an email based on the specified Email Template to the Contact related to the current Report_Card__c object. You can rewrite it to work with a different base object.\nCreate the Email Templates for the State Model Example\nThe emails sent to students in the example use Email Templates.\nState Actions vs. State Rule Actions\nYou can assign Vlocity Actions to States, State Rules, or both. There are several considerations for deciding.\nCreate the Vlocity Actions for the State Model Example\nThe actions in the Report Card State Model invoke a custom class, but you can invoke prebuilt services in your State Model actions.\nAdd Actions to the Grade Rules\nTo implement results based on grades, you must add Vlocity Actions to the State Rules for grades.\nEnable the State Model Version\nEnabling the State Model Version disables editing of the State Rules and allows the State Model to run.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\nÂ ",
    "title": "Creating Vlocity Actions for States and Rules in Salesforce",
    "keywords": [
        "salesforce",
        "vlocity actions",
        "state model",
        "workflow",
        "apex class",
        "email templates"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_Administration_and_Develop_Help.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_develop_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_custom_processes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_process_tracking_debug.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_developer_documentation_651797.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_interfacesimplementationsand_services_651813.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_interfaces_651849.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_availability_and_eligibility_interface_implementations_652003.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_interfaces_reference_652256.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_implementations_658020.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_implementations_reference_658161.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_services_662921.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_omnichannel_web_apis_663585.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_omnichannel_web_apis_663626.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_platform_apis_663903.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_attribute_objects_apis_664135.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_campaign_apis_664528.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_customer_stories_and_story_quick_actions_apis_665508.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_dataraptor_apis_666121.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_system_administration_and_set_up_25005.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_assign_vlocity_licenses_to_users_automatically_25013.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_overview_of_attributes_25315.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_product_attributes_in_epc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_upgrading_the_attribute_schema_25922.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_profile_attributes_26254.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_overview_of_profiles_and_security_for_vlocity_26839.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_guest_user_enhancements_overview_27751.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_guest_user_enhancements_with_vlocity_products_27917.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_vlocity_encryption_solution_28346.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_when_to_use_salesforce_person_accounts_with_vlocity_28493.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_vlocity_triggers_28627.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_relationships_between_objects_29470.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_any_object_relationship_graphs_29494.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_creating_a_relationship_graph_29605.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_define_relationships_using_the_party_model_29649.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_creating_a_relationship_graph_template_30232.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_editing_a_relationship_graph_31095.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_use_the_relationship_graph_admin_config_tool_31150.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_use_the_vlocity_graph_component_editor_31676.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_party_bound_relationship_graphs_32055.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_create_a_new_party_relationship_type_32427.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_households_32715.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_premises_32879.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_call_list_33072.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_installing_and_configuring_the_campaign_record_pagecomponents_33094.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_call_list_record_page_features_33281.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_actions_33347.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_member_actions_33519.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_eventnoteand_task_actions_33639.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_overview_of_state_modelstransitionsrulesand_actions_179897.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_preparing_the_base_object_for_a_state_model_179958.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_a_state_modelstatesand_transitions_180716.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_state_transition_rules_181039.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_actions_for_states_and_rules_181325.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_testing_a_state_model_181837.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_using_a_trigger_and_an_on_creation_action_182167.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_setting_up_caching_for_state_models_182577.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_vlocity_data_model_666727.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_t_vlocity_communications_data_model_666929.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_tsalesforce_industries_communicationsmediaand_energyparty_model_666985.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_the_apex_class_that_sends_emails_181395.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_the_email_templates_for_the_state_model_example_181452.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_state_actions_vsstate_rule_actions_181561.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_the_vlocity_actions_for_the_state_model_example_181588.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_add_actions_to_the_grade_rules_181776.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_enable_the_state_model_version_181811.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.06567737460136414,
        -0.9644535779953003,
        0.08129135519266129,
        0.17506712675094604,
        1.1343333721160889,
        -0.019556649029254913,
        -0.45816999673843384,
        0.29445981979370117,
        -0.05610257387161255,
        -0.6075634360313416,
        -0.5620394349098206,
        0.25649040937423706,
        -0.6325589418411255,
        0.6303684711456299,
        0.9435231685638428,
        -0.3097909390926361,
        -0.6973655223846436,
        0.538621187210083,
        0.49196678400039673,
        0.03451640158891678,
        0.8603180646896362,
        0.504364013671875,
        0.37684938311576843,
        0.34583237767219543,
        1.119192361831665,
        -0.9203648567199707,
        0.7717154026031494,
        0.6189898252487183,
        -0.8206882476806641,
        -0.1338527500629425,
        0.13020320236682892,
        -0.45253127813339233,
        -0.7909455299377441,
        -0.6143455505371094,
        -0.08739301562309265,
        0.0881294533610344,
        -0.10822081565856934,
        0.11422376334667206,
        -0.7212941646575928,
        0.04512797296047211,
        0.0315130315721035,
        -0.26889702677726746,
        -0.41179990768432617,
        0.12312149256467819,
        -0.23606786131858826,
        0.15932603180408478,
        -0.12117162346839905,
        -0.09330957382917404,
        -0.003912273794412613,
        -0.01331523060798645,
        -0.8684942722320557,
        -0.15768963098526,
        0.2694021463394165,
        -0.8271600008010864,
        -0.357441782951355,
        0.19419005513191223,
        -0.018245385959744453,
        -0.15976157784461975,
        -0.12489225715398788,
        -0.3378865420818329,
        0.1834949105978012,
        0.22595466673374176,
        0.5107227563858032,
        0.09430117905139923,
        0.05436023697257042,
        -0.4968057870864868,
        0.6588566899299622,
        0.6565617918968201,
        0.23113267123699188,
        0.3904946744441986,
        0.2989635169506073,
        -0.3597337007522583,
        -0.167814239859581,
        -0.2131318598985672,
        0.06653356552124023,
        -0.2716163098812103,
        -0.04551882669329643,
        -0.16480258107185364,
        0.15474775433540344,
        0.16260190308094025,
        -1.1816290616989136,
        -0.7588260769844055,
        -0.35924404859542847,
        -0.15919440984725952,
        0.27139782905578613,
        -0.039488259702920914,
        -0.1824747622013092,
        -0.647142767906189,
        -0.2740623354911804,
        -0.7235820889472961,
        0.3081991672515869,
        0.10744418203830719,
        -0.032737016677856445,
        0.6581054329872131,
        -0.29834288358688354,
        4.335233211517334,
        0.8132891058921814,
        0.23131173849105835,
        0.14667046070098877,
        0.9165053367614746,
        1.0215775966644287,
        -0.01975693553686142,
        0.10809526592493057,
        -0.42489126324653625,
        -0.35363590717315674,
        0.0036124512553215027,
        0.46915316581726074,
        -0.3266182541847229,
        0.11917030811309814,
        -0.44898003339767456,
        0.36450523138046265,
        -1.0535744428634644,
        -0.4885305166244507,
        -0.03572934865951538,
        -0.5749890804290771,
        -0.9050155282020569,
        0.5200826525688171,
        -0.8930374979972839,
        0.7429025173187256,
        -0.03805023804306984,
        0.1381564885377884,
        -0.13074810802936554,
        -0.4539291262626648,
        0.660377562046051,
        -0.36013567447662354,
        0.39651092886924744,
        -0.11239424347877502,
        0.16565489768981934,
        -0.45035520195961,
        -0.032703954726457596,
        0.2509026825428009,
        0.14087525010108948,
        -0.16275817155838013,
        -0.6915968060493469,
        -0.1417030692100525,
        0.27194762229919434,
        -0.03298389911651611,
        0.25111299753189087,
        -0.06710641831159592,
        0.1604355126619339,
        -0.004455791786313057,
        -0.15472225844860077,
        0.3426010012626648,
        0.6734622716903687,
        -0.7062066197395325,
        0.4571053981781006,
        -0.001585647463798523,
        0.8442637920379639,
        0.015924889594316483,
        -0.8237339854240417,
        0.28370463848114014,
        0.579941987991333,
        -0.4641456604003906,
        -0.589509129524231,
        0.31143659353256226,
        0.4853265583515167,
        -0.48335450887680054,
        -0.04784597456455231,
        0.8519285917282104,
        -0.41679486632347107,
        0.3947656452655792,
        0.009294949471950531,
        -0.09967784583568573,
        -0.631815493106842,
        -0.04388377070426941,
        0.27088093757629395,
        0.39185506105422974,
        -0.34378501772880554,
        -1.0656570196151733,
        0.5585477352142334,
        0.1827084720134735,
        -0.5038353800773621,
        0.42241916060447693,
        0.23636044561862946,
        -0.4450836777687073,
        0.7839091420173645,
        0.16995403170585632,
        0.1524401158094406,
        -0.07964465022087097,
        0.4338073432445526,
        0.6461215019226074,
        -0.8017382621765137,
        0.08810102939605713,
        -0.20162415504455566,
        -0.24586912989616394,
        -0.3725641965866089,
        0.40112489461898804,
        0.09906720370054245,
        0.21500110626220703,
        0.20442911982536316
    ]
}