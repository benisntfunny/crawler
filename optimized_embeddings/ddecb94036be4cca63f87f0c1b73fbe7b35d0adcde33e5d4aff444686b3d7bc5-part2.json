{
    "id": "ddecb94036be4cca63f87f0c1b73fbe7b35d0adcde33e5d4aff444686b3d7bc5-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_fixes.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n Upgrade to B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n Cart: Scale Your Storefront's Capabilities\n Checkout: Deliver an Efficient Buyer Experience\n Lightning Components: Create a Unified B2B Commerce for Visualforce...\n Trust: Keep Your Storefront Secure and Reliable\n Admin Experience: Support Your Storefront's Requirements with Fewer...\n Developer Experience: Maintain and Extend Your Storefront Code More...\n Other Fixes in B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n Patch Notes for B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nOther Fixes in B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n\nHave confidence that the issues related to performance or buyer experience that you've reported are resolved appropriately. This release includes several fixes that resulted from your submitted cases.\n\nNOTE\nSome fixes were also patched in previous versions of B2B Commerce for Visualforce. If you're upgrading from a version where a fix was patched, you probably already resolved any required upgrade steps.\nSome fixes update default handlebars.js templates that render components on the storefront. If you've previously overridden a default template that receives a fix, reimplement your customizations based on the fixed version of the default template. This step ensures that custom code in your solution receives the benefit of the fix.\nID\tALSO PATCHED IN\tFIX\nW-8584760\t—\tFixed an issue where special characters weren't escaped when a buyer renamed a cart from the My Carts section of the My Account page.\nW-8562897\t—\tFixed an issue where the Order Confirmation section of the Checkout page incorrectly showed a separate line item for a percentage coupon applied to a kit or dynamic kit. This issue occurred when the Line Item configuration of the Coupon module is FALSE.\nW-8562872\t—\tFixed an issue where the Quick Order widget didn't show the correct error message when a buyer added an invalid SKU to the cart.\nW-8441139\tB2B Commerce for Visualforce Spring ’20 (version 4.12) patch 3.147.10\tFixed an issue where a guest buyer that refreshed their browser during the standard checkout workflow was redirected to the Shopping Cart page, but couldn't attempt checkout again.\nW-8433746\t\nB2B Commerce for Visualforce Spring ’20 (version 4.12) patch 3.147.10\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.22\n\tFixed an issue where the Quick Order widget didn't show autocomplete suggestions. This issue occurred after a buyer clicked Add More to add extra rows and entered three or more characters of a SKU to add.\nW-8246143\t\nB2B Commerce for Visualforce Spring ’20 (version 4.12) patch 3.147.10\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.23\n\t\n\nFixed an issue where the Checkout page returned an Apex error that prevented checkout flow from completing successfully. This issue occurred when both of the following conditions were satisfied:\n\nThe Address Owned by User configuration of the Checkout module (co.uown) was TRUE.\nA customer service representative (CSR) was logged in to the storefront using CSR flow and selected an effective account.\n\nUpgrade impact: After you upgrade the managed package, update the Checkout module's Address Owned by User configuration to apply to all pages instead of only the Checkout page (co). Then, build and activate a new configuration cache.\n\n\nW-8127733\t—\tFixed an issue where an admin couldn't enter a negative value in the Amount field of a product's Tier Pricing options.\nW-8097532\t—\tUpdated the metadata for the pmt.whitelst configuration setting to use the term Allow List instead of White List in its label. This change applies only to new installations, and doesn't affect upgrades of existing solutions. For compatibility, the API name for this configuration remains pmt.whitelst.\nW-7945918\t—\tIncreased the default timeout for the remote request that populates order history in the My Orders section of the My Account page to 120000, the maximum allowed value.\nW-7419207\t—\tFix an issue that affected the performance of all default data service provider classes. This fix ensures that the default classes no longer invoke Schema.sObjectType for returning the object that the service queries.\nW-7386362\t\nB2B Commerce for Visualforce Spring ’20 (version 4.12) patch 3.147.2\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.18\nB2B Commerce for Visualforce Spring ’19 (version 4.10) patch 3.142.24\nB2B Commerce for Visualforce Summer ’18 (version 4.9) patch 3.136.37\n\tFixed an issue where subscriber extensions to the ccrz.cc_api_ShippingAndHandling extension point class couldn't perform HTTP/S callouts during Checkout flow.\nW-7300447\t—\t\n\nFixed an issue where clicking a link to an aggregated product from different storefront pages navigated to different destinations:\n\nFrom the cart detail page, the link navigated to the Product Detail page for the composite product (the overall aggregated product).\nFrom the Mini Cart widget, the link navigated to the Product Detail page for the selected component product (the particular variation that the buyer selected).\n\nWith this fix, links from the Mini Cart widget now also navigate to the Product Detail page for the composite product, so that the buyer experience is consistent.\n\n\nW-7272310\tB2B Commerce for Visualforce Spring ’20 (version 4.12) patch 3.147.2\tAdded a global page label for the Send button in the Email Cart window. This page label is available for both the Shopping Cart page version 2.0 and 1.0.\nW-7270394\t—\tFixed an issue where a wish list wasn't created when the wish list's name exceeded 255 characters in length. This fix adds a limit check when a buyer creates a wish list from the Product Detail page, the Shopping Cart page, or sections of the My Account page.\nW-7236686\t—\tFixed an issue where the read-only Effective Account Selector widget in the header didn't appear on the My Orders section of the My Account page. This issue occurred even when the widget was enabled for all pages.\nW-7138065\t—\tFixed an issue where extending the getFieldsMap and getGroupByMap methods of the ccrz.ccServiceProductSpecIndex data service provider didn't return additional fields from records of the ccrz__E_Spec__c object as expected.\nW-7016078\t—\tFixed an issue where logging in to the storefront with an invalid user email address resulted in a query for all active cart and cart items, which affected performance. This fix adds some null checks to avoid any unnecessary API queries for cart data.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "B2B Commerce Visualforce Release Notes and Upgrade Guide",
    "keywords": [
        "Salesforce",
        "Visualforce",
        "Commerce Cloud",
        "Release Notes",
        "Upgrade Guide"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5#4_12_patch_3_147_10",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_patches.htm&language=en_US&type=5#4_11_patch_3_145_22",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_patches.htm&language=en_US&type=5#4_11_patch_3_145_23",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5#4_12_patch_3_147_2",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_patches.htm&language=en_US&type=5#4_11_patch_3_145_18",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_patches.htm&language=en_US&type=5#4_10_patch_3_142_24",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5#4_9_patch_3_136_37"
    ],
    "embedding": [
        -0.30450108647346497,
        0.27796366810798645,
        -0.7807120084762573,
        -0.18985426425933838,
        -0.24757061898708344,
        -0.46972963213920593,
        0.31018564105033875,
        0.364192396402359,
        0.09445424377918243,
        -1.0843613147735596,
        -0.42882683873176575,
        0.3933873176574707,
        -0.3775646388530731,
        0.03777863830327988,
        0.41368505358695984,
        -0.617484450340271,
        -0.3048737347126007,
        -1.0699665546417236,
        -0.24339443445205688,
        -0.018712930381298065,
        0.14420375227928162,
        -0.18357707560062408,
        0.38195446133613586,
        -0.22119951248168945,
        -0.47396883368492126,
        -0.46299004554748535,
        -0.34898748993873596,
        -0.2041778862476349,
        -0.5536261200904846,
        -0.6591731309890747,
        -0.4141843318939209,
        0.3381131887435913,
        0.21292416751384735,
        0.39130860567092896,
        0.9498192071914673,
        -0.3270341455936432,
        0.6177269816398621,
        0.5373586416244507,
        1.1331827640533447,
        -0.02816741168498993,
        0.7607850432395935,
        0.1435358077287674,
        0.4295327663421631,
        0.6856766939163208,
        0.19469919800758362,
        -0.49070316553115845,
        -0.8041940927505493,
        0.13210539519786835,
        -0.8395686149597168,
        -0.2522392272949219,
        -0.025180291384458542,
        -0.495880663394928,
        -0.53150475025177,
        1.0288177728652954,
        0.018279308453202248,
        -0.6664379239082336,
        -0.000818006694316864,
        -0.12435531616210938,
        -1.2022956609725952,
        0.17392949759960175,
        -0.7335883378982544,
        -0.09441457688808441,
        0.15741482377052307,
        0.4779588580131531,
        0.338362455368042,
        -0.8230525851249695,
        4.125125408172607,
        0.9587607979774475,
        0.09257970005273819,
        0.35672590136528015,
        0.541470468044281,
        1.401140570640564,
        0.1445668637752533,
        -0.24855577945709229,
        0.04171384871006012,
        -0.28570613265037537,
        -0.7682847380638123,
        0.3283267319202423,
        0.7229238152503967,
        0.7319998145103455,
        -0.08598324656486511,
        0.27694171667099,
        -1.0271588563919067,
        0.13433387875556946,
        0.13856109976768494,
        -0.750580370426178,
        -0.946419358253479,
        -0.3254380226135254,
        0.15219762921333313,
        1.3433336019515991,
        0.18579863011837006,
        0.16187304258346558,
        -0.3286728262901306,
        0.16260536015033722,
        -0.2672143280506134,
        -1.1412577629089355,
        0.5473835468292236,
        -0.681181013584137,
        1.1801304817199707,
        -0.5671392679214478,
        0.3296454846858978,
        0.35994353890419006,
        0.9291341304779053,
        0.010239807888865471,
        0.2787131667137146,
        -0.43222254514694214,
        1.1424140930175781,
        -0.23269060254096985,
        -0.4773557484149933,
        -0.2954176068305969,
        0.6313103437423706,
        0.07105521112680435,
        0.3347839415073395,
        0.005610279738903046,
        0.2587839961051941,
        0.03324781358242035,
        0.5243222713470459,
        0.1268819123506546,
        0.6464669704437256,
        -0.12070076912641525,
        -0.27525952458381653,
        -0.4557305872440338,
        0.03913279250264168,
        -0.05473262816667557,
        -0.1605464667081833,
        0.37344005703926086,
        -0.1898374855518341,
        0.2262629121541977,
        -0.14492420852184296,
        0.44498685002326965,
        -0.9094980955123901,
        0.11756879091262817,
        -0.32798823714256287,
        0.5565267205238342,
        0.2570096552371979,
        -0.5983008146286011,
        0.7870187163352966,
        -0.35611021518707275,
        -1.0297462940216064,
        -0.2743675708770752,
        -0.3619981110095978,
        -0.06779743731021881,
        0.10914373397827148,
        0.34836268424987793,
        0.8185604810714722,
        -0.6804742217063904,
        0.009198218584060669,
        0.5828171968460083,
        -0.28315532207489014,
        -0.32722175121307373,
        0.7128505706787109,
        0.7254940271377563,
        -1.4225741624832153,
        0.15847936272621155,
        0.3261879086494446,
        0.24412690103054047,
        0.12424562871456146,
        0.7731162309646606,
        -0.2662927508354187,
        0.2582519054412842,
        0.18045121431350708
    ]
}