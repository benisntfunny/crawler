{
    "id": "518df8a70d018ba8ce3b0421dd1effb3ce0a52f5dd31b7d555acb2c266847b12-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
    "content": "nullSalesforce B2B Commerce for Visualforce\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce B2B Commerce for Visualforce\n Get Started with B2B Commerce for Visualforce\n Manage Storefront Details and Metadata\n Set Up Product Data for B2B Commerce for Visualforce\n Help Buyers Discover Products on Your Storefront\n Organize Products into Categories for B2B Commerce for Visualforce\n Define Product Specs and Create Product List Page Filters\n Maintain Product Index Records\n Monitor and Automate Product Index Batch Jobs\n View Product Index Records from a Report\n Values for Product Index Status\n Strategies for Managing Price List Item Currencies with Product...\n Implement the Primary Index for All Currencies Strategy for Product...\n Control the Size of Each Product Index Batch Job\n Extend the Default Product Index Object to Include Other Fields\n Price and Sell Products for B2B Commerce for Visualforce\n Support Buyer Accounts for B2B Commerce for Visualforce\n Provide a Smooth Path to Purchase for Storefront Buyers\n Customize the Storefront User Experience\n Strategize for Storefront Success\n Deliver Storefront Performance and Security\n Market Templates for B2B Commerce for Visualforce\n Solution Resources for B2B Commerce for Visualforce\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE\nMaintain Product Index Records\n\nBuyers rely on several pieces of information to find the right product—product descriptions, categories, specs, and prices—which are defined on separate objects. To efficiently show all this information for multiple products at once on the Product List page, B2B Commerce for Visualforce also maintains product index records. A product index is a flat data structure that describes a single instance of a product's category, spec value, price, locale, and searchable metadata. To ensure that buyers always find the most up-to-date product information on the Product List page, refresh your product index records after you modify product data.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nSalesforce CompatibilitySalesforce not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13)\nB2B Commerce for Visualforce Spring ’20 (version 4.12)\nB2B Commerce for Visualforce Summer ’19 (version 4.11)\nB2B Commerce for Visualforce Spring ’19 (version 4.10)\nB2B Commerce for Visualforce Summer ’18 (version 4.9)\n\n\nUSER PERMISSIONS NEEDED\nTo access CC Admin and change settings:\tAccess B2B Commerce for Visualforce Admin Settings permission set\nTo create product index records:\tCreate on CC Product Indices\n\nA single product index record references a corresponding CC Product record. The product index record also reflects data from a single instance of the following types of records related to that product:\n\nCC Product Category\nCC Price List Item\nCC Product Item I18N\n\nTo create an index record for a particular product, the product must meet the following criteria:\n\nThe value of the Product Status field on the product record is Released or Not Orderable.\nThe product has a price list item assigned to an entitled price list.\nThe price list that the price list item belongs to has the Enabled field selected.\nThe value of the End Date field for the product, price list, and price list item records are greater than the current date.\nIf you’re using B2B Commerce for Visualforce Spring ’20 (version 4.12), the Exclude from Product Index field on the product isn't selected.\nNOTE A product index record is created even if the product doesn't have any CC Product Categories assigned.\n\nWhen data on a product or its categories, price list items, or localized details changes, the Product Index Status field on the product becomes Not Current. This status means the product index record for that product isn't up to date with the latest data for that product.\n\nTo bring your product index records up to date, refresh your product index records.\n\nOn the CC Admin tab in your org, select Global Settings (1).\nIn the Global Settings menu, select Indexing (2).\nIn the Refresh Product Index section, select the scope of product index records that you want to update.\nTIP If you haven't already, first refresh the product spec index. Product index records require current product spec index data.\nRefresh All (3)\nReplace all existing product index records with new records.\nTIP Select this option when you're setting up a storefront for the first time.\nUpdate Only Outdated Products (4)\nReplace product index records for only the products where the value of the Product Index Status field is Not Current. In other words, update existing product index records for only those products whose categories, price list items, localized details, or searchable metadata have changed.\nCreate product index records for new products that you've added to the catalog since the previous product index build job.\nIf you’re using B2B Commerce for Visualforce Spring ’20 (version 4.12), select the number of parallel Apex batch jobs to use for refreshing product index records (5).\nNOTE The number of Apex batch jobs that actually execute depends on how many records require updates. These jobs are added to the Apex job queue in your org, so other active jobs can affect whether these jobs actually execute in parallel. If your org contains a large volume of price list items, splitting the batch jobs into parallel threads can help refresh product index records more efficiently. This option isn’t available in earlier versions of B2B Commerce for Visualforce.\nClick Refresh Product Index (6).\nNOTE How long does it take before your storefront reflects the updated product index records? The time required depends on the complexity of your product data and the number of currencies that your storefront supports.\nMonitor and Automate Product Index Batch Jobs\nB2B Commerce for Visualforce provides Apex classes that execute synchronously in batch jobs to create and update product index records. You can monitor the status of these batch jobs, and schedule the batch jobs to run automatically.\nView Product Index Records from a Report\nAfter the product index batch jobs complete, you can run a report to see the updated product index records. If you notice that your storefront isn't displaying up-to-date product information, validating the product index records is a useful troubleshooting step.\nValues for Product Index Status\nWhen you build a product index record, B2B Commerce for Visualforce also updates the Product Index Status field on the related CC Product record. The value of this field can help you determine whether a product's index record is up to date. The number of out-of-date product index records in your org can then help you determine the scope of the next product index build job to run.\nStrategies for Managing Price List Item Currencies with Product Index Records\nThe complexity of your product catalog and the scope of your storefront internationalization can have a significant impact on your product index records. B2B Commerce for Visualforce provides two options for how to scope product index records for each product: an index per currency or a primary index for all currencies. Choose the strategy that best fits your organization's maintenance and performance requirements.\nImplement the Primary Index for All Currencies Strategy for Product Index Records\nIf you decide to build product index records that ignore currency, first create a price list with currency-agnostic prices for every product. Then, update your storefront configuration settings.\nControl the Size of Each Product Index Batch Job\nIf your storefront includes products with a significant number of price list items, the product index batch jobs can sometimes reach Apex governor limits. These limits can exclude some products from having product index records created, which can result in an unintentionally incomplete or out-of-date product catalog. To maintain buyer trust in your product data and avoid Apex governor limits, you can more precisely control the size of each product index batch job.\nExtend the Default Product Index Object to Include Other Fields\nThe default CC Product Index object already includes most data from a corresponding product and its category assignment. To index other field in the default CC Product Index object, extend the appropriate data service and logic service provider classes in the B2B Commerce for Visualforce API.\nSEE ALSO\nProduct List Page\nOrganize Products into Categories for B2B Commerce for Visualforce\nManage Prices for Storefront Products with Price Lists\n(Salesforce Developers) ccrz__E_ProductIndex__c\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Maintaining Product Index Records for B2B Commerce",
    "keywords": [
        "Product Indexing",
        "B2B Commerce",
        "Salesforce",
        "Visualforce",
        "Product List Page",
        "Product Index Status"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_visualforce.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_start.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_community_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_self_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_global.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_settings_loader.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_types.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_dynamic_kit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_image.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_discovery.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category_media.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_sell.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_price_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_promotion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_coupon.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_buyer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_account_group.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_purchase.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_ux.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_home.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_compare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_detail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_scaled_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_shopping_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_effective_account_selector.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_feature_filtering.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_spotlight_featured_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_labels.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_theme.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_extension.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_localize.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_friendly_urls.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_bot_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_shield.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_status.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_apex.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_report.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_currency.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_primary.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_batch_size.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index_extension.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.5496131777763367,
        0.0028761010617017746,
        -0.7927427291870117,
        0.5395243763923645,
        0.07665307819843292,
        -0.08693784475326538,
        -0.024287745356559753,
        0.1052054762840271,
        0.35884109139442444,
        0.019766762852668762,
        -0.5837312340736389,
        0.09898523986339569,
        0.09696534276008606,
        -1.0272516012191772,
        -0.6297542452812195,
        -0.14190098643302917,
        0.9391746520996094,
        0.5110829472541809,
        0.9640034437179565,
        0.11677037179470062,
        -0.10454954952001572,
        0.6534216403961182,
        0.10169967263936996,
        -0.4174782335758209,
        0.10539485514163971,
        -0.2772667407989502,
        -0.6064409017562866,
        -0.3609009385108948,
        0.05039658769965172,
        0.11721916496753693,
        -0.23977622389793396,
        0.3012256920337677,
        0.12839186191558838,
        -0.3999764919281006,
        -0.5713105797767639,
        0.7032530307769775,
        -1.1981463432312012,
        0.15178978443145752,
        -0.5463208556175232,
        0.08767461776733398,
        -0.22400298714637756,
        -0.6906985640525818,
        -0.16588298976421356,
        -0.033535316586494446,
        -0.025513220578432083,
        -0.391450971364975,
        0.3034030497074127,
        0.4723982810974121,
        -0.04489152133464813,
        0.683153510093689,
        0.2790009379386902,
        0.6754361391067505,
        0.9438132643699646,
        -0.5219019651412964,
        0.17613036930561066,
        -0.6139505505561829,
        -0.17818942666053772,
        -0.04685322567820549,
        -0.25216245651245117,
        0.8712449073791504,
        -0.5942646861076355,
        -0.03269912302494049,
        0.15836183726787567,
        -0.7811734080314636,
        -0.119167760014534,
        -0.3382928669452667,
        -0.23448464274406433,
        -1.4120780229568481,
        -0.3185555040836334,
        0.5099977850914001,
        -0.2806625962257385,
        -0.3321446478366852,
        0.4824621379375458,
        0.45231348276138306,
        0.06732933223247528,
        0.11221712827682495,
        -0.24777495861053467,
        -0.1354805827140808,
        0.6261613368988037,
        0.5396379828453064,
        -0.5736525058746338,
        0.15441496670246124,
        0.6969583034515381,
        -0.752172589302063,
        -0.0987016037106514,
        -0.21958668529987335,
        -0.35479915142059326,
        -1.0464378595352173,
        0.346515953540802,
        -0.7067411541938782,
        -0.01495402492582798,
        0.4495352506637573,
        0.7774674892425537,
        -0.6688565015792847,
        -0.2979426085948944,
        0.39356595277786255,
        -0.3593287467956543,
        -0.7777543663978577,
        0.8846914172172546,
        -0.670690655708313,
        -0.23808886110782623,
        -0.49251699447631836,
        -0.4144916832447052,
        0.4947611689567566,
        0.5274125337600708,
        -0.641264796257019,
        -0.24713125824928284,
        0.13868439197540283,
        -0.754248321056366,
        -0.3486272394657135,
        -0.303494393825531,
        -0.3559849262237549,
        -0.21628805994987488,
        -0.375164657831192,
        -0.32049956917762756,
        0.7367967963218689,
        -0.22262293100357056,
        0.7996012568473816,
        0.06009996682405472,
        -0.4168738126754761,
        -0.14924907684326172,
        0.8943817019462585,
        0.9274331331253052,
        0.7571366429328918,
        0.7447361350059509,
        0.4068152904510498,
        0.8336704969406128,
        0.10285758972167969,
        0.5272160172462463,
        -0.21783633530139923,
        -0.2500194013118744,
        0.4092138409614563,
        -0.14697173237800598,
        -0.23674947023391724,
        -0.16676200926303864,
        -1.1307799816131592,
        0.04821835458278656,
        0.6246545314788818,
        -0.3212254047393799,
        -0.19448979198932648,
        0.20564404129981995,
        0.22456690669059753,
        -1.1347978115081787,
        0.23339346051216125,
        -0.5322259664535522,
        -0.3449793756008148,
        -0.21103745698928833,
        -0.17546436190605164,
        0.6241405606269836,
        -0.22882923483848572,
        4.236536026000977,
        0.19152796268463135,
        0.5009133815765381,
        0.4677702784538269,
        0.8222576975822449,
        1.0795578956604004,
        -0.5803429484367371,
        -0.6411377787590027,
        0.18625034391880035,
        -0.49935173988342285,
        -0.6605443358421326,
        -0.4928986430168152,
        -0.13067705929279327,
        0.43130987882614136,
        -0.8415616750717163,
        -0.2963830828666687,
        -0.7549190521240234,
        0.1002323180437088,
        1.286399483680725,
        -0.8083943128585815,
        -1.3744018077850342,
        0.05742800235748291,
        0.2289506494998932,
        0.7110087871551514,
        -0.13040846586227417,
        -0.032723866403102875,
        0.08672580122947693,
        -0.5189491510391235,
        -0.7944201231002808,
        -0.2258245199918747,
        0.7972344756126404,
        -0.24529829621315002,
        0.8883465528488159,
        -0.6891322731971741,
        -0.138326033949852,
        0.6049358248710632,
        0.36193397641181946,
        0.24015691876411438,
        0.2789510488510132,
        -0.38895225524902344,
        0.12573865056037903,
        0.04332388564944267,
        -0.4305364191532135,
        -0.053157657384872437,
        0.3761214017868042,
        -0.22507719695568085,
        0.13232164084911346,
        0.4631965756416321,
        0.41999322175979614,
        -0.16923797130584717,
        0.8653790354728699,
        -0.5786270499229431,
        0.6017636060714722,
        0.2794107496738434,
        -0.7675005793571472,
        0.12910504639148712,
        -0.08337393403053284,
        -0.21890337765216827,
        0.04160391539335251,
        0.1073029637336731,
        0.19610849022865295,
        -0.31949755549430847,
        -0.055437684059143066,
        0.6213721036911011,
        -0.1527581512928009,
        -0.1318199336528778,
        -0.014682725071907043,
        0.4390594959259033,
        0.3368534445762634,
        -0.2656421661376953,
        0.3401673138141632,
        0.0018520280718803406,
        -0.7625814080238342,
        -0.3922545909881592,
        -0.6955406069755554,
        -0.499402791261673,
        -0.5185506939888,
        0.012536758556962013,
        -0.0785922184586525,
        -0.8239457011222839,
        -0.35959601402282715,
        -0.20749333500862122,
        0.061898551881313324,
        -0.05571597069501877,
        0.4531034827232361,
        0.09263217449188232,
        -0.8995577692985535,
        0.21730023622512817,
        -0.0920804813504219,
        -0.20693373680114746,
        -0.599283754825592,
        1.1547834873199463,
        0.22635485231876373,
        0.0011860430240631104,
        0.0682881772518158
    ]
}