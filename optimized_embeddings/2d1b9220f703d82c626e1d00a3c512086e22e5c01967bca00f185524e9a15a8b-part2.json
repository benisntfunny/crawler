{
    "id": "2d1b9220f703d82c626e1d00a3c512086e22e5c01967bca00f185524e9a15a8b-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_guest_security.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n Upgrade to B2B Commerce for Visualforce Spring ’20 (Version 4.12)\n Product List Page: Manage Product Index Records More Efficiently\n Admin Experience: Manage Storefront Metadata More Efficiently and...\n Metrics: Automatically Track Usage-Based Entitlements for B2B...\n Trust: Keep Your Storefront Secure and Functional\n Comply with Security Alerts for Guest User Access\n Automatically Set Sharing Settings for Storefront Data\n Maintain JavaScript Libraries That Affect the Storefront Buyer...\n Provide More Reliable Keyboard Navigation for Guest Buyer Checkout\n Other Fixes in B2B Commerce for Visualforce Spring ’20 (Version 4.12)\n Patch Notes for B2B Commerce for Visualforce Spring ’20 (Version 4.12)\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nComply with Security Alerts for Guest User Access\n\nEnsure that your Experience Cloud site data is secure by default, yet continues to support the same storefront experience for unregistered users that you currently provide. Several security alerts disallow guest user access by default, which affects storefronts where guest users can browse, create carts, check out, and self-register. This release contains fixes that ensure that guest users can continue to self-register and create carts, and provides resources for you to work around other restrictions.\n\nWhere: This change applies to B2B Commerce for Visualforce Spring ’20 (version 4.12) in Lightning Experience and Salesforce Classic in Enterprise, Performance, Unlimited, and Developer editions.\n\nWhen: These alerts are automatically enabled with the Salesforce Summer ’20 release and become mandatory with the Salesforce Winter ’21 release. If you've already resolved these security alerts for a previous version of B2B Commerce for Visualforce, you can relax! No extra action is necessary after you upgrade the managed package.\n\nIf you haven't resolved these alerts yet, we recommend that you complete the required steps as part of your upgrade.\n\nWhy: The specific security alerts that affect guest user access on a storefront include:\n\nRemove View All Users Permission from Guest User Profiles\nAssign Records Created by Guest Users to a Default Owner\nSecure Guest Users' Org-Wide Defaults and Sharing Model\n\nHow: To resolve these security alerts for your B2B Commerce for Visualforce solution, complete the steps in Resolve Guest User Security Alerts to Keep Your Storefronts Secure by Default.\n\nIMPORTANT\nSome steps are required even for storefronts that require all users to log in, and don't allow any guest user access.\nComplete these steps for each Experience Cloud site that supports a storefront.\nTest these steps in a sandbox org before you attempt them in a production org.\nTo avoid service interruptions on your storefront, follow these steps exactly so that you install the appropriate patch before you complete each security alert.\nTIP If your storefront uses friendly URLs, make sure that you create a sharing rule for CC Site Index when you complete the steps in Secure Guest Users' Org-Wide Defaults and Sharing Model for B2B Commerce for Visualforce. Create this sharing rule regardless of the level of guest user access that your storefront allows. The cc_FriendlyUrlRewriter class that implements friendly URLs uses the same permissions as a guest user and reads the CC Site Index object for constructing friendly URLs.\n\nYou can create subscriber code that allows a guest user to create, read, update, or delete (CRUD) records, even after you've completed the security alerts. After you upgrade the managed package, the following new static methods are available on the ccrz.ccLogic base class:\n\ndeleteObjects()\ninsertObjects()\nupdateObjects()\nupsertObjects()\n\nEach method accepts either a single sObject or a List<sObject>.\n\nWARNING Be careful when invoking these methods in subscriber code that extends or overrides the ccrz.ccLogic base class. These methods execute destructive changes to your org's data.\nSEE ALSO\nResolve Guest User Security Alerts to Keep Your Storefronts Secure by Default\n(Salesforce Developers) ccrz.ccLogic\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "B2B Commerce for Visualforce Release Notes and Upgrade Guide",
    "keywords": [
        "salesforce",
        "b2b commerce",
        "visualforce",
        "release notes",
        "upgrade guide",
        "guest user access",
        "security alerts",
        "experience cloud"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_sharing.htm&language=en_US&type=5"
    ],
    "embedding": [
        0.3602571189403534,
        0.12761230766773224,
        -0.8265857696533203,
        -0.45919784903526306,
        -0.3124743700027466,
        0.5282129049301147,
        0.32425743341445923,
        0.061538539826869965,
        0.3873310685157776,
        -0.198523610830307,
        0.004310585558414459,
        0.1428200751543045,
        -0.7413289546966553,
        -0.835521399974823,
        -0.4131549596786499,
        0.044266052544116974,
        1.1627353429794312,
        0.2375313937664032,
        -0.11203832924365997,
        0.09379978477954865,
        -0.08914510905742645,
        -0.103621706366539,
        -0.9628655910491943,
        0.5757066011428833,
        -0.32958391308784485,
        0.33144956827163696,
        -0.7178154587745667,
        -0.6203280687332153,
        0.28567057847976685,
        0.1271841824054718,
        0.10233274102210999,
        0.04564325883984566,
        -0.023395437747240067,
        0.4086894392967224,
        0.096465103328228,
        -0.9421930313110352,
        0.026987774297595024,
        0.30143606662750244,
        0.3859691023826599,
        -0.41711747646331787,
        0.275076687335968,
        0.8170921802520752,
        0.29462048411369324,
        0.435098797082901,
        -0.6827741265296936,
        0.5250341892242432,
        -0.01733226887881756,
        -0.4375351071357727,
        -0.37278077006340027,
        0.486770361661911,
        -0.16991977393627167,
        -0.08709108084440231,
        -0.05075259506702423,
        -0.00846559926867485,
        0.4649991989135742,
        -0.24435484409332275,
        0.2397792488336563,
        -0.48217588663101196,
        -0.34670430421829224,
        -0.10959480702877045,
        0.4204199016094208,
        -0.43924984335899353,
        -0.559452474117279,
        0.4595775902271271,
        -0.16596214473247528,
        -0.47898373007774353,
        -0.846184253692627,
        -0.2524680495262146,
        0.1032114177942276,
        -0.09930886328220367,
        0.7634915113449097,
        0.6473488807678223,
        -0.5775895118713379,
        -0.10329841077327728,
        0.3077809512615204,
        -0.17947101593017578,
        -0.5737878680229187,
        0.7612460851669312,
        0.48506978154182434,
        -0.361901193857193,
        -0.37500491738319397,
        0.23280683159828186,
        -0.0678330659866333,
        0.0028450265526771545,
        0.1708863526582718,
        -0.32551199197769165,
        -0.051520973443984985,
        0.39442184567451477
    ]
}