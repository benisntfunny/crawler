{
    "id": "189f66e9c86e1652e3bf87231e9d76a8d401d4e462f554e89731d8fd139f333c-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_variables.htm&language=en_US&type=5",
    "content": "nullManage Your Quotes with CPQ\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Manage Your Quotes with CPQ\n Salesforce CPQ Patch Notes\n Getting Started with Salesforce CPQ\n CPQ Products\n Create and Edit CPQ Quotes\n Send Your CPQ Quotes\n Advanced Approvals\n Advanced Approvals Release Notes\n Advanced Approvals Patch Notes\n Setting Up Advanced Approvals\n Preview or Submit a Record for Approval\n Reassign an Approval with Advanced Approvals\n Resend an Advanced Approval Request\n Approvers and Approver Groups\n Approval Rules\n Approval Variables\n Create Approval Variables\n Approval Variable Fields\n Tracked Fields\n Set Up Tracked Fields\n Create an Approval Rule\n Approval Rule Fields\n Approval Condition Fields\n Approval Chains\n Advanced Approval Emails\n Smart Approvals\n Managing Advanced Approval Permissions\n Advanced Approvals Package Settings\n Approval Fields for CPQ Advanced Approvals\n Manage Your CPQ Orders\n Manage Your Subscriptions and Assets\n Amend Your Contracts and Assets\n Renew Your Contracts and Assets\n Printable Tip Sheets & User Guides — For Salesforce CPQ\n Explore CPQ Solution Kits\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE CPQ\nApproval Variables\n\nApproval variables aggregate data from child records for evaluation in an approval condition. Advanced Approvals evaluates them in real time along with the approval condition. They provide an easier way to aggregate data in approval conditions when compared to roll-up summary fields or Apex Triggers that aggregate data and send it to a field on the object evaluated for approval. For example, your approval variable can summarize the total number of opportunity products that contain “Premium” in their name across your opportunity.\n\nREQUIRED EDITIONS\nAvailable in: Salesforce CPQ Summer ’16 and later with Advanced Approvals 3.1 and later\nIMPORTANT Where possible, we changed noninclusive terms to align with our company value of Equality. We maintained certain terms to avoid any effect on customer implementations.\n\nLet’s look at some important approval variable fields.\n\nAggregate Field\nYour approval variable performs the aggregate function’s action on this field. For example, if you want to find the average partner discount across all your quote lines, your example looks up to your quote line’s Partner Discount field.\nAggregate Function\nPick the math function to perform on your aggregate field.\nCombine With\nProvide another approval variable to combine with this approval variable. Advanced Approvals returns the result of that combination as the output of this approval variable. For example, you want your variable to combine the total number of quote lines containing “Tablet” with another approval variable that counts the number of quote lines containing “Laptop.” If you have 20 tablet quote lines and 10 laptop quote lines, your first approval variable returns a value of 30. Your second approval variable returns a value of 10.\nFilter Field\nPick a field if you want to filter your target object based on a certain value. For example, you can evaluate only quote lines with a Product Family field set to Hardware.\nFilter Value\nPick a value if you’re filtering your target object.\nOperator\nChoose the operator to use with your filter.\nTarget Object\nSpecifies the child object that this variable aggregates. The child object must have a lookup or master-detail relationship with the object that a user is submitting for approval.\nNOTE When no target objects match the filter criteria, the approval variable returns 0 for the minimum and maximum values. The approval rule uses that value when evaluating the approval condition.\nType\nSummary approval variables evaluate several fields, while discount approval variables evaluate a list price and a net price. If you’re using a summary approval variable, provide values for the Filter Field and Filter Value fields. If you’re using a discount approval variable, provide values for the List Variable and Net Variable fields.\nEXAMPLE This approval variable returns the highest quantity value among opportunity product lines that contain “W012671” in their product code field.\nTarget Object: Opportunity Product\nAggregate Field: Quantity\nAggregate Function: Max\nFilter Field: ProductCode\nFilter Value: W012671\nOperator: Equals\nType: Summary\nCreate Approval Variables\nCreate an approval variable and reference it as one of your approval rule’s approval conditions.\nApproval Variable Fields\nWhen you use Advanced Approvals, you can create or modify approval variables to reference data within an approval condition. Some fields aren’t visible or editable depending on the page layout and field-level security settings.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Approval Variables in Salesforce CPQ",
    "keywords": [
        "approval variables",
        "salesforce cpq",
        "advanced approvals",
        "quote aggregation",
        "approval conditions"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_master.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_get_started.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_install_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_permissions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_favorites_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_import_lines_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_localization_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lightning_comm_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_bp_layout_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_package_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_products_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_types_of_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_bundle_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_option_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_global_attributes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_doc_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscription_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_percent_of_total.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_evergreen_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_evergreen_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_products_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_pricing_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_product_qle.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pricing_methods.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contracted_prices_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_summary_variables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_sv_in_quote.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_make_a_quote.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_use_the_qle.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_groups.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_line_groups.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_actions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_action_links_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_action_conditions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_qle_search_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_guided_selling.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_configurator_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_actions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_validation_rules_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_selection_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_discounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_discount_schedules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_ds_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pricing_guidance_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_what_do.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_setup_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_things_to_know.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_rules_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_condition_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_action_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_rule_pricing_guidance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_refresh_quote_prices_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_calc_seq.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_scripts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lookup_queries.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_send_your_quotes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_template_content.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_merge_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_terms.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_template_section_task.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_line_columns.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_print_option_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_document_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_styling_cpq_quote_doc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_advanced_approvals.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_setup_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_approvers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_variables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_tracked_fields_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_chains.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_email_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_smart_approvals.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_perm_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_orders.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_create_orders.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_subs_assets_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contract_opp_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contract_order_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_assets_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscription_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscriptions_prorate_precision_1.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amend_and_renew_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_service_cloud_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amendment_parent_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amendment_processes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_asset_upgrades_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_renewal_parent_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_renewal_product_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_create_variable.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_variable_ref.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.7026913166046143,
        -0.13059329986572266,
        0.08962176740169525,
        -1.2077120542526245,
        -0.22062163054943085,
        0.5593513250350952,
        -0.5884498357772827,
        0.5679514408111572,
        -0.24346080422401428,
        -0.47924673557281494,
        -0.021731480956077576,
        0.26583951711654663,
        0.6455473303794861,
        -0.025940105319023132,
        -0.13551071286201477,
        -0.2780875563621521,
        0.3563591539859772,
        0.360649436712265,
        0.5680885314941406,
        0.6124498844146729,
        -0.005072012543678284,
        0.9020299911499023,
        0.28651028871536255,
        0.19823408126831055,
        -0.019781507551670074,
        0.550410270690918,
        -0.24853286147117615,
        0.20984284579753876,
        0.038460589945316315,
        0.8384567499160767,
        -0.5280535817146301,
        0.03878118097782135,
        0.3756669759750366,
        -1.173627257347107,
        0.11383932828903198,
        -0.6775988340377808,
        0.08113443106412888,
        -0.9334838390350342,
        -0.22627851366996765,
        0.3722609877586365,
        -0.4967659115791321,
        -0.717578649520874,
        0.4148608446121216,
        1.1479510068893433,
        -0.05123759061098099,
        0.7100033760070801,
        0.5278412103652954,
        0.6634743213653564,
        0.6815553903579712,
        0.5482872724533081,
        -0.22292029857635498,
        0.3055531978607178,
        0.13380689918994904,
        -0.3409494161605835,
        0.08977094292640686,
        -0.25505366921424866,
        -0.25968581438064575,
        -0.5454402565956116,
        0.21917706727981567,
        -0.24140030145645142,
        -0.35342374444007874,
        0.12135662138462067,
        0.4366688132286072,
        -1.4788031578063965,
        0.10808366537094116,
        0.18964876234531403,
        -0.16968418657779694,
        0.2571637034416199,
        0.1840158998966217,
        -0.13496312499046326,
        0.30112990736961365,
        -0.2771785259246826,
        -0.39353498816490173,
        0.0029510855674743652,
        0.23963868618011475,
        -0.6566962003707886,
        -0.2830280363559723,
        0.5059828162193298,
        -0.6873494982719421,
        -0.4868873655796051,
        0.21281218528747559,
        -0.020995741710066795,
        -0.19775864481925964,
        -0.7671682834625244,
        0.13119038939476013,
        0.8176038861274719,
        0.16439051926136017,
        0.7568103671073914,
        -0.44246938824653625,
        -0.2919991612434387,
        -0.14437150955200195,
        0.2680327892303467,
        0.6496911644935608,
        -0.24553275108337402,
        1.1654207706451416,
        0.3501807153224945,
        0.44039666652679443,
        0.7750927805900574,
        0.09017476439476013,
        0.7170553803443909,
        0.18449313938617706,
        0.1457274854183197,
        -0.3199217617511749,
        0.5297586917877197,
        -0.2329607605934143,
        -0.714505136013031,
        -0.8676187992095947,
        1.1892995834350586,
        -0.36364439129829407,
        -0.04948483407497406,
        -0.46548891067504883,
        -0.09662120044231415,
        -0.9576622247695923,
        -0.18585970997810364,
        -1.0070289373397827,
        0.6826211214065552,
        -0.7913414835929871,
        0.17032554745674133,
        0.2437077760696411,
        -1.0882028341293335,
        3.9882192611694336,
        0.7113266587257385,
        0.41512054204940796,
        1.40190589427948,
        0.9602447748184204,
        0.8757517337799072,
        0.2843259274959564,
        -0.788124680519104,
        0.485599160194397,
        -0.2133745402097702,
        -0.023219473659992218,
        0.10629700124263763,
        -0.6541834473609924,
        0.4059293866157532,
        -0.12943010032176971,
        0.11929991096258163,
        -1.0585966110229492,
        -0.6064777374267578,
        0.5075075626373291,
        0.10622227191925049,
        -0.42167794704437256,
        0.28194525837898254,
        0.27830085158348083,
        1.1740535497665405,
        -0.049873191863298416,
        0.32500508427619934,
        -0.3165448307991028,
        -0.8408395648002625,
        0.14114296436309814,
        -0.882075846195221,
        0.03593631833791733,
        -0.8643534183502197,
        0.45382627844810486,
        -0.18737690150737762,
        -0.4206417202949524,
        -0.044404320418834686,
        0.8749229907989502,
        0.46786338090896606,
        -0.1877816915512085,
        -0.1631104201078415,
        0.9262306690216064,
        0.3936399519443512,
        -1.0466225147247314,
        -0.6659649014472961,
        -0.46571582555770874,
        -0.14191743731498718,
        -0.12149184942245483,
        0.9475916624069214,
        0.26548895239830017,
        -0.9511007070541382,
        0.9037677645683289,
        0.07331404834985733,
        0.7535062432289124,
        0.1747753620147705,
        -0.5390302538871765,
        0.5764261484146118,
        0.25607916712760925,
        0.4218682646751404,
        0.47575700283050537,
        1.5189266204833984,
        0.8004854917526245,
        0.11810162663459778,
        -0.24518316984176636,
        0.698885440826416,
        -0.3098475933074951,
        0.3157804012298584,
        0.20559336245059967,
        0.6225183606147766,
        0.5679665803909302,
        -0.31201082468032837,
        0.34241098165512085,
        -0.5513761043548584,
        -0.9126881957054138,
        -1.0922560691833496,
        0.27410250902175903,
        0.15348771214485168,
        -0.24547633528709412,
        -0.06799367070198059,
        0.6877578496932983,
        -0.9656705260276794,
        0.13127963244915009,
        0.43851545453071594,
        -0.454900324344635,
        -1.0887869596481323,
        0.01711946539580822,
        0.20329579710960388,
        -1.5744978189468384,
        0.42830848693847656,
        -0.12779223918914795,
        -0.3577169179916382,
        -0.3450964093208313,
        0.49950772523880005,
        -0.5039095878601074,
        0.43183809518814087,
        -0.12904995679855347
    ]
}