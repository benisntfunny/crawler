{
    "id": "f7ad771a347df166ee6ed4ab4b2901ea75d07a16593a354d42515e498606549f-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.code_email_services_editing.htm&language=en_US&type=5",
    "content": "nullEnhance Salesforce with Code\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Enhance Salesforce with Code\n Salesforce Development Tools\n Replacement Tools for Workbench\n Work With APIs\n Write Code\n Developer Console\n Work with Code\n The Editor for Visualforce or Apex\n Source Code Editor\n Object Inspector\n Global Variables\n Valid Values for the $Action Global Variable\n Apex Code Overview\n Visualforce\n Lightning Component Framework\n Secure Your Code\n Email Services\n What Are Email Services?\n Define Email Service Addresses\n Define Email Services\n The InboundEmail Object\n Custom Labels\n Defining Custom S-Controls\n Custom Metadata Types\n Canvas App Previewer\n Remote Access Application\n Secure Identity for the Internet of Things\n Debug Your Code\n Test Your Changes\n Manage Scratch Orgs\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nENHANCE SALESFORCE WITH CODE\nDefine Email Services\n\nSet up an email service to handle incoming email, and configure the service to process messages according to your users' needs.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nAvailable in: Salesforce Classic (not available in all orgs) and Lightning Experience\n\n\nAvailable in: Enterprise, Performance, Unlimited, and Developer Editions\n\nUse of email services in installed AppExchange packages also available in: Essentials, Group, and Professional Editions\n\n\n\nUSER PERMISSIONS\nNEEDED\nTo configure Apex email services and email service addresses:\tCustomize Application\nTo create Apex classes:\tAuthor Apex\nFrom Setup, enter Email Services in the Quick Find box, then select Email Services.\nClick New Email Service, or click Edit to change an existing email service.\nSpecify the name of the email service.\nChoose the Apex class you want this email service to use to process messages.\nThe Apex class you choose must implement the Messaging.InboundEmailHandler interface. For example:\nglobal class myHandler implements Messaging.InboundEmailHandler {\n            global Messaging.InboundEmailResult handleInboundEmail(Messaging.InboundEmail email, Messaging.InboundEnvelope envelope) {\n                Messaging.InboundEmailResult result = new Messaging.InboundEmailresult();\n                return result;\n            }\n        }\nFor information on the InboundEmail object, see Using the InboundEmail Object.\nChoose the types of attachments you want the email service to accept. The options are:\nNone\tThe email service accepts the message but discards any attachment.\nText Attachments Only\t\n\nThe email service only accepts the following types of attachments:\n\nAttachments with a Multipurpose Internet Mail Extension (MIME) type of text.\nAttachments with a MIME type of application/octet-stream and a file name that ends with either a .vcf or .vcs extension. These attachments are saved as text/x-vcard and text/calendar MIME types, respectively.\n\nMessages with attachments other than these types are accepted, but the attachments are discarded.\n\n\nBinary Attachments Only\t\n\nThe email service only accepts binary attachments, such as image, audio, application, and video files. Binary attachments have a limit of 5 MB per attachment.\n\nMessages with attachments that aren’t binary are accepted, but the attachments are discarded.\n\n\nAll\tThe email service accepts any type of attachment.\n\nAn email service can only process attachments if you configure the email service to accept attachments and use an Apex class that processes the types of attachments the email service accepts.\n\nEmail services can’t accept inline attachments, such as graphics inserted in email messages.\n\nOptionally, select the Advanced Email Security Settings checkbox to configure the email service to verify the legitimacy of the sending server before processing a message. The email service uses the following authentication protocols to verify the sender's legitimacy:If Advanced Security permission is disabled in your org, Advanced Email Settings aren't available.\nDKIM\nDMARC\nSPF\n\nIf the sending server passes at least one of these protocols and doesn’t fail any, the email service accepts the email. If the server fails a protocol or doesn’t support any of the protocols, the email service performs the action specified in the Unauthenticated Sender Action failure response setting. Two exceptions apply.\n\nIf DMARC passes and SPF fails, the email service accepts the email.\nIf DKIM fails and any other protocol passes, the email service accepts the email.\n\nIf Advanced Security permission is disabled in your org, Advanced Email Settings aren't available. Before selecting the Authenticate Senders checkbox, ensure that the senders that you expect to use the email service support at least one of the authentication protocols listed. For information on these authentication protocols, see the following websites:\n\nhttps://dkim.org/\nhttps://dmarc.org/\nwww.open-spf.org\nEmail services reject email messages and notify the sender if the email exceeds approximately 25 MB (combined body text, body HTML, and attachments). This size varies depending on language and character set.\nYou can convert text attachments to binary attachments.\nOptionally, configure this email service only to accept messages from certain senders by listing their email addresses and domains in the Accept Email From text box. Separate multiple entries with commas. For example: george@mycompany.com, yahoo.com, gmail.com. If the Accept Email From text box has a value and the email service receives a message from an unlisted email address or domain, the email service performs the action specified in the Unauthorized Sender Action failure response setting.\n\nLeave this field blank if you want the email service to receive email from any email address.\n\nNOTE You can also authorize email addresses and domains at the email service address-level. See Defining Email Service Addresses.\n\nIf both the email service and email service address are configured to accept messages only from certain senders, the email service processes messages only from senders that are listed in the Accept Email From text boxes on both the email service and the email service address.\n\nSelect the Active checkbox if you want the email service to be activated when you click Save.\nConfigure the failure response settings, which determine how the email service responds if an attempt to access this email service fails for the following reasons:The failure response options are:\nOver Email Rate Limit Action\tDetermines what the email service does with messages if the total number of messages processed by all email services combined has reached the daily limit for your organization. Salesforce calculates the limit by multiplying the number of user licenses by 1,000; maximum 1,000,000. For example, if you have 10 licenses, your org can process up to 10,000 email messages a day.\nDeactivated Email Address Action\tDetermines what the email service does with messages received at an email address that is inactive.\nDeactivated Email Service Action\tDetermines what the email service does with messages it receives when the email service itself is inactive.\nUnauthenticated Sender Action\tDetermines what the email service does with messages that fail or don’t support any of the authentication protocols if the Authenticate Senders checkbox is selected.\nUnauthorized Sender Action\tDetermines what the email service does with messages received from senders who aren’t listed in the Accept From Email text box on either the email service or email service address.\n\nThe failure response options are:\n\nBounce Message\tThe email service returns the message to the sender or to the Automated Case User for On-Demand Email-to-Case, with a notification that explains why the message was rejected.\nDiscard Message\tThe email service deletes the message without notifying the sender.\nRequeue Message (Over Email Rate Limit Action Only)\tThe email service queues the message for processing in the next 24 hours. If the message isn’t processed within 24 hours, the email service returns the message to the sender with a notification that explains why the message was rejected.\nTo send error email messages to a specified address instead of the sender's email address, select Enable Error Routing and specify the destination email address in Route Error Emails to This Email Address. This action prevents the sender being notified when email services can’t process an incoming email.\nClick Save to save your changes, or Save and New Email Address to create email addresses for this email service, as described in Defining Email Service Addresses.\nSEE ALSO\nWhat Are Email Services?\nDefine Email Service Addresses\nThe InboundEmail Object\nEmail Services\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Configuring Email Services in Salesforce",
    "keywords": [
        "email services",
        "salesforce development tools",
        "apex classes",
        "visualforce components",
        "email authentication protocols",
        "dkim",
        "dmarc",
        "spf"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.extend_code_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.work_with_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.monitor_rate_limit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.writing_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_tab_query_editor.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_menubar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_logs_panel.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.working_with_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_custom_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_static_resources.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.aura_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.securing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_package_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_page_level_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cl_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.dev_scontrol.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_metadata_api.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_relationships.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatype_validation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_package_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.canvas_app_previewer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.action_link_group_template.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_request.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custom_perms_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_identity_iot.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.debugging_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_view_system_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_perspectives.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_debug_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.testing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_test_execution.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_inbound_email.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_service_address.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_services_overview.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.06284286081790924,
        0.6799668669700623,
        -0.04501420259475708,
        0.2511691451072693,
        0.07178771495819092,
        -0.037352122366428375,
        -0.24688351154327393,
        -0.5308976769447327,
        0.11355336755514145,
        -0.8334187269210815,
        0.3837941586971283,
        0.6560078859329224,
        -0.5860392451286316,
        -0.2561546266078949,
        0.14232611656188965,
        0.5426816940307617,
        0.025901488959789276,
        0.1742677241563797,
        0.3900257349014282,
        -0.1398490071296692,
        0.17691804468631744,
        0.6769691109657288,
        -0.7311894297599792,
        -0.09233155101537704,
        -0.046982623636722565,
        -0.4684065878391266,
        -1.1097805500030518,
        -0.03478735312819481,
        0.028231052681803703,
        -0.9175924062728882,
        -0.3767234683036804,
        -0.20763254165649414,
        -0.36706268787384033,
        1.0992746353149414,
        -0.03139287233352661,
        -0.7178354263305664,
        -0.2977927327156067,
        0.27188536524772644,
        -0.6667802333831787,
        0.1404321789741516,
        0.22164450585842133,
        0.3334144949913025,
        -0.1194479912519455,
        -0.9614909291267395,
        -0.03356335312128067,
        -0.5041879415512085,
        0.5503843426704407,
        -1.136078953742981,
        -0.606834888458252,
        -0.3557659685611725,
        -0.8810786008834839,
        -0.41421979665756226,
        -0.29754209518432617,
        0.22498548030853271,
        0.26436519622802734,
        -0.20636942982673645,
        -0.00911288894712925,
        0.9881923794746399,
        0.23838379979133606,
        -0.15090082585811615,
        0.5804224014282227,
        -0.14545588195323944,
        0.3888538181781769,
        0.9802196025848389,
        0.7147284746170044,
        0.03997577726840973,
        0.22001922130584717,
        0.8502113819122314,
        -0.14688993990421295,
        -0.37071603536605835,
        0.16294535994529724,
        0.38856223225593567,
        -0.11162260919809341,
        -0.26537755131721497,
        0.07283788919448853,
        0.10827373713254929,
        -0.4233959913253784,
        -0.09837498515844345,
        -0.013059183955192566,
        1.0551819801330566,
        0.17707975208759308,
        -0.7078355550765991,
        -0.49755561351776123,
        -0.011888809502124786,
        -0.3514617681503296,
        -0.2656404376029968,
        -0.41891273856163025,
        1.288464903831482,
        0.6098477244377136,
        -0.10694267600774765,
        0.8954259753227234,
        -0.553200900554657,
        3.8256192207336426,
        1.3610389232635498,
        0.6159326434135437,
        -0.22420653700828552,
        0.32965177297592163,
        1.4899054765701294,
        0.09657709300518036,
        -0.08947168290615082,
        -0.1464095413684845,
        -0.5500084757804871,
        0.5654725432395935,
        -0.9299975633621216,
        0.6267340183258057,
        0.19760650396347046,
        -0.14485964179039001,
        0.7105951309204102,
        -0.698867678642273,
        -0.6123248338699341,
        0.37925124168395996,
        -0.22124391794204712,
        -0.6788503527641296,
        0.026934098452329636,
        -0.2490832805633545,
        1.3975422382354736,
        0.2050224393606186,
        0.10357822477817535,
        0.16546502709388733,
        -0.04131808876991272,
        0.23581773042678833,
        -0.31159698963165283,
        -0.08019755780696869,
        -0.6527718901634216,
        0.8308134078979492,
        -0.2826274335384369,
        -0.057203516364097595,
        0.29233723878860474,
        0.45092451572418213,
        -0.33921632170677185,
        -0.33414188027381897,
        -1.088356614112854,
        0.11420419812202454,
        -0.3762289881706238,
        -0.1156633272767067,
        0.17704153060913086,
        0.11676119267940521,
        0.05302970111370087,
        0.43556880950927734,
        0.46826326847076416,
        1.0545731782913208,
        -0.14049313962459564,
        0.4373864233493805,
        -0.0952698141336441,
        0.516732394695282,
        0.5467802286148071,
        -1.0529460906982422,
        0.16596534848213196,
        0.8497118949890137,
        -0.13524028658866882,
        -0.5289358496665955,
        0.24703460931777954,
        -0.31650510430336,
        0.1842283010482788,
        0.3485989272594452,
        0.9834491610527039,
        -0.35113251209259033,
        0.24386870861053467,
        -0.10494352877140045,
        0.43302255868911743,
        -0.6048574447631836,
        -0.4883064031600952,
        0.5078350305557251,
        -0.37680554389953613,
        -0.5390872955322266,
        -1.0270521640777588,
        -0.048525989055633545,
        0.14525306224822998,
        -0.025123342871665955,
        0.6043869256973267,
        1.1946063041687012,
        -0.830920398235321,
        -0.13354399800300598,
        -0.2687211036682129,
        -0.39716842770576477,
        -0.503136396408081,
        0.1500009298324585,
        0.15031811594963074,
        -0.6770005226135254,
        -0.10591377317905426,
        -0.31048113107681274,
        -0.47186923027038574,
        0.24178828299045563,
        0.5072393417358398,
        -0.8085501790046692,
        -0.1690242886543274,
        0.2431962788105011
    ]
}