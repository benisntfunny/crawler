{
    "id": "beea064827ff714c70884e90146e557bb8a878ec5da8e3f18f51feac9eb2053e-part2",
    "url": "https://help.salesforce.com/s/articleView?id=ind.os_overview_of_state_modelstransitionsrulesand_actions_179897.htm&language=en_US&type=5",
    "content": "nullGeneral Administration and Developer Help for Salesforce Industries...\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n General Administration and Developer Help for Salesforce Industries...\n Bulk Async Engine For Cart APIs\n Developer Documentation\n System Administration and Set Up\n Assign Vlocity Licenses to Users Automatically\n Add Vlocity Package Licenses to a Group of Users\n Allocate Space in the Platform Cache Partitions\n Overview of Attributes\n Overview of Profiles and Security for Vlocity\n When to Use Salesforce Person Accounts with Vlocity Products\n Add your Salesforce Instance to the Remote Site Settings List\n Configure a Sandbox after a Refresh\n Enable the Enhanced Lookups Search Setting\n How to Resolve Known Installation and Upgrade Issues\n Vlocity Triggers\n Relationships Between Objects\n Campaign Call List\n Overview of State Models, Transitions, Rules, and Actions\n Workflow for Preparing the Base Object for a State Model\n Workflow for Creating a State Model, States, and Transitions\n Workflow for Creating State Transition Rules\n Workflow for Creating Actions for States and Rules\n Workflow for Testing a State Model\n State Transition Rule Examples\n Workflow for Using a Trigger and an On Creation Action\n Automatic State Model Transitions\n Workflow for Setting Up Caching for State Models\n Custom Rule Evaluator Class\n Industries Data Models for Communications, Media, Energy,...\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nADMINISTRATION AND DEVELOPER HELP\nOverview of State Models, Transitions, Rules, and Actions\n\nA State Model lets you track changes to an object record's status over time and to configure rules for when a record transitions from one state to another. Examples are a quote going from acceptance to approval or an insurance claim being opened, assessed, and closed.\n\nState Models can be applied to Asset, Contract, Quote, Insurance_Claim__c, and Application__c objects out of the box. In Spring '20 and later releases, you can also apply a State Model to another existing object or a new custom object.\n\nThe states that a State Model tracks, such as Accepted, In Review, and Approved, can come from an existing Status field. You can also specify custom states.\n\nIn Spring '20 and later releases, State Transition Rules determine whether a specific transition between two states can occur. For example, a rule for the transition from In Review to Approved might be based on an applicant's credit score. A transition can have no rules, one rule, or more than one rule with Any True or All True logic.\n\nYou can define actions and invoke them in two ways: by transition rules, or by arrival at specific states. These Vlocity Actions can invoke Apex methods, OmniScripts, Cards components, and more.\n\nNOTE\n\nFor ​Salesforce Industries Communications, Media, and Energy, expanded object support and State Transition Rules are available in Fall '20 and later releases.\n\nWorkflow for Creating a State Model\n\nCreating a State Model is a complex process. You must prepare the base object, then configure the states, transitions, rules, and actions.\n\nEXAMPLE\n\nStudent Report Card Example\n\nThe primary example for the basic tasks models a student enrolling in a class, completing the class, and receiving a grade. Its purpose is to teach beginners how to build a State Model, therefore it is simpler than a realistic customer use case would be. The base object is Report_Card__c. The states are Enrolled, Incomplete, Completed, Passed, and Failed. Rules are based on grades. Actions consist of emails sent to the student.\n\nThe following diagram illustrates the states and the transitions between them. Default transitions along the \"happy path\" are solid arrows. Departures from the \"happy path\" are dashed arrows.\n\nTo create a State Model requires that you complete a number of sub-workflows.\n\nPrepare the base object and its fields and record page, whether it's a standard base object, another existing object, or a new custom object. See Workflow for Preparing the Base Object for a State Model.\n\nCreate the State Model, States, State Model Version, and State Transitions. See Workflow for Creating a State Model, States, and Transitions.\n\nCreate the State Rules. Specify the linked objects on which rules are based, the expressions that define what the rules do, and the order in which rules are invoked. See Workflow for Creating State Transition Rules.\n\nCreate the transition and state actions, including the entities the actions invoke, such as Email Templates. See Workflow for Creating Actions for States and Rules.\n\nTest the State Model by enabling the State Model Version, creating a new base object record, going through the states, and observing the rules and actions. See Workflow for Testing a State Model.\n\nAdvanced topics include:\n\nMore complex State Transition Rule examples — see State Transition Rule Examples.\n\nHow to use an On Creation Action if a State Model requires initialization when a new base object record is created — see Workflow for Using a Trigger and an On Creation Action.\n\nHow to automate a state transition and its action using a scheduled batch job — see Automatic State Model Transitions.\n\nHow to set up caching for State Model data — see Workflow for Setting Up Caching for State Models.\n\nHow to create a custom Apex class for State Transition Rule evaluation — see Custom Rule Evaluator Class.\n\nWorkflow for Preparing the Base Object for a State Model\nSetting up a base object for a State Model requires setting up its fields and record page, then configuring the State Model object definition to recognize the base object and its states field.\nWorkflow for Creating a State Model, States, and Transitions\nA State Model consists of references to a base object and States. A State Model Version consists of State Transitions, State Rules, and Actions. Here you'll learn how to create the State Model, States, and State Transitions using the Report Card State Model as an example. Later you'll learn how to create State Rules and Actions.\nWorkflow for Creating State Transition Rules\nIn Spring '20 and later releases, State Transition Rules (also called State Rules) determine whether transitions between states in a State Model can occur. A non-alternate State Transition can be subject to no rules, one rule, or multiple rules.\nWorkflow for Creating Actions for States and Rules\nYou can define Vlocity Actions for your State Model and invoke them in two ways: by arrival at specific States, or by State Rules (in Spring '20 or later releases). These actions can invoke Apex methods (in Spring '20 or later releases), OmniScripts, Cards components, and more. In the Report Card State Model, all of the actions send emails to the student.\nWorkflow for Testing a State Model\nTesting a State Model involves taking the \"happy path\" through the states, taking departures from this path, and testing every rule and action. If your State Model is especially complex, you can test it after creating all the rules, then test it again after creating the actions.\nState Transition Rule Examples\nThere are many ways to use expressions to reference base object and linked object fields in State Transition Rules.\nWorkflow for Using a Trigger and an On Creation Action\nYou can configure a trigger to perform initialization tasks when a new base object record is created. A common initialization task, available in Spring '20 and later releases, is to process an On Creation Action associated with the State Model Version. Other initialization tasks are possible. For example, a trigger for Application__c records sets the initial state of the associated State Model to the Submitted state.\nAutomatic State Model Transitions\nIn Spring '20 and later releases, you can automate state transitions in your State Model. This makes manually clicking on a state to advance to it unnecessary, although it's still an option.\nWorkflow for Setting Up Caching for State Models\nUsing the Salesforce Platform Cache to store frequently accessed, infrequently updated data saves round trips to the database and improves performance.\nCustom Rule Evaluator Class\nIf the Rule Evaluation Class Name and Rule Evaluation Method Name settings of the State Model Version are blank, a default algorithm evaluates the State Transition Rules.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "State Model Creation Guide",
    "keywords": [
        "state models",
        "state transitions",
        "rule evaluation",
        "vlocity actions",
        "apex methods",
        "omniscripts"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_Administration_and_Develop_Help.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_develop_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_custom_processes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_process_tracking_debug.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_developer_documentation_651797.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_interfacesimplementationsand_services_651813.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_interfaces_651849.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_availability_and_eligibility_interface_implementations_652003.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_interfaces_reference_652256.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_implementations_658020.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_implementations_reference_658161.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_services_662921.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_omnichannel_web_apis_663585.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_omnichannel_web_apis_663626.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_platform_apis_663903.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_attribute_objects_apis_664135.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_campaign_apis_664528.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_customer_stories_and_story_quick_actions_apis_665508.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_dataraptor_apis_666121.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_system_administration_and_set_up_25005.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_assign_vlocity_licenses_to_users_automatically_25013.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_overview_of_attributes_25315.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_product_attributes_in_epc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_upgrading_the_attribute_schema_25922.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_profile_attributes_26254.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_overview_of_profiles_and_security_for_vlocity_26839.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_guest_user_enhancements_overview_27751.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_guest_user_enhancements_with_vlocity_products_27917.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_vlocity_encryption_solution_28346.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_when_to_use_salesforce_person_accounts_with_vlocity_28493.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_vlocity_triggers_28627.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_relationships_between_objects_29470.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_any_object_relationship_graphs_29494.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_creating_a_relationship_graph_29605.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_define_relationships_using_the_party_model_29649.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_creating_a_relationship_graph_template_30232.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_editing_a_relationship_graph_31095.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_use_the_relationship_graph_admin_config_tool_31150.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_use_the_vlocity_graph_component_editor_31676.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_party_bound_relationship_graphs_32055.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_create_a_new_party_relationship_type_32427.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_households_32715.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_premises_32879.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_call_list_33072.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_installing_and_configuring_the_campaign_record_pagecomponents_33094.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_call_list_record_page_features_33281.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_actions_33347.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_member_actions_33519.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_eventnoteand_task_actions_33639.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_overview_of_state_modelstransitionsrulesand_actions_179897.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_preparing_the_base_object_for_a_state_model_179958.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_a_state_modelstatesand_transitions_180716.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_state_transition_rules_181039.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_actions_for_states_and_rules_181325.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_testing_a_state_model_181837.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_using_a_trigger_and_an_on_creation_action_182167.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_setting_up_caching_for_state_models_182577.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_vlocity_data_model_666727.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_t_vlocity_communications_data_model_666929.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_tsalesforce_industries_communicationsmediaand_energyparty_model_666985.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=ind.os_state_transition_rule_examples_182085.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_automatic_state_model_transitions_182521.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_custom_rule_evaluator_class_182732.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.9852954745292664,
        -0.5082136392593384,
        1.0373455286026,
        0.07716749608516693,
        0.06135408580303192,
        -1.0142803192138672,
        -0.05227541923522949,
        -0.6324158906936646,
        0.5059080719947815,
        0.15061797201633453,
        0.5829244256019592,
        0.6317792534828186,
        -0.3513016700744629,
        0.27880164980888367,
        0.012819020077586174,
        0.6063711047172546,
        -0.43999961018562317,
        0.39953675866127014,
        -0.3824712932109833,
        0.26551273465156555,
        0.014852909371256828,
        -0.18409612774848938,
        0.17535582184791565,
        1.3767828941345215,
        0.8382446765899658,
        0.752575159072876,
        0.6754761338233948,
        -0.03846831992268562,
        0.2944353520870209,
        -0.6654970049858093,
        -0.17258210480213165,
        0.774166464805603,
        0.7268298268318176,
        -0.5196365714073181,
        -0.1889498084783554,
        0.11958909034729004,
        0.2461559772491455,
        -0.9146034121513367,
        0.23712670803070068,
        0.3444921672344208,
        0.07173416018486023,
        0.16425774991512299,
        0.188208669424057,
        -0.8656765818595886,
        0.036996811628341675,
        0.26347053050994873,
        0.273294597864151,
        -0.47980797290802,
        0.03802528232336044,
        0.6264219880104065,
        0.059230029582977295,
        -0.3466133773326874,
        0.04671739414334297,
        0.47861015796661377,
        0.9210578799247742,
        -0.22742649912834167,
        0.27038130164146423,
        0.6014835238456726,
        -0.020325465127825737,
        0.4899205267429352,
        -0.08945991098880768,
        0.3624042868614197,
        0.42847755551338196,
        -0.7056220769882202,
        -0.04372326284646988,
        0.5294867157936096,
        0.7463246583938599,
        -0.5864179134368896,
        -0.06861185282468796,
        -0.2521613836288452,
        -0.24688276648521423,
        -0.2745240032672882,
        -0.5371121764183044,
        0.16882099211215973,
        -0.3225580155849457,
        -0.0054729655385017395,
        0.718136191368103,
        0.004147142171859741,
        -0.3335719406604767,
        0.3701808452606201,
        0.3929995894432068,
        0.48731279373168945,
        0.34104880690574646,
        0.28182485699653625,
        -0.17865383625030518,
        0.2646794617176056,
        0.702208399772644,
        -0.7789589166641235,
        0.41800495982170105,
        0.048418641090393066,
        -0.6685411930084229,
        -0.15551383793354034,
        -0.03313857316970825,
        -0.7166280746459961,
        -0.9672642946243286,
        0.4892702102661133,
        -0.882992148399353,
        0.5291508436203003,
        -0.0613260492682457,
        -0.2840820848941803,
        -0.9959434270858765,
        0.055222198367118835,
        -0.044013552367687225,
        -0.6423153281211853,
        -0.20423737168312073,
        0.30945083498954773,
        -0.2291678786277771,
        -0.24063526093959808,
        -0.5964600443840027,
        0.4697082042694092,
        0.21413221955299377,
        0.7001526951789856,
        -0.9123761057853699,
        -0.04043339192867279,
        0.6360785961151123,
        -0.4529414474964142,
        0.28362178802490234,
        -0.09661588817834854,
        -0.05714793503284454,
        -0.31526368856430054,
        -0.39448627829551697,
        -0.09890846908092499,
        0.46474671363830566,
        0.018438734114170074,
        0.5378161072731018,
        -0.03519587591290474,
        -0.39011314511299133,
        -0.291490375995636,
        0.29044273495674133,
        0.7327019572257996,
        0.4343377351760864,
        0.7174387574195862,
        0.6484771966934204,
        -0.18038560450077057,
        -0.3475874066352844,
        0.18233829736709595,
        0.6291620135307312,
        -0.12706252932548523,
        0.2700002193450928,
        0.04874783754348755,
        0.09423176944255829,
        -0.3968639671802521,
        -0.09340222179889679,
        -0.18344268202781677,
        -0.2608429193496704,
        -0.33262693881988525,
        0.15730199217796326,
        0.32555073499679565,
        -0.12413632869720459,
        -1.0516104698181152,
        -0.9493041634559631,
        -0.6568106412887573,
        0.006694041192531586,
        -0.20053595304489136,
        -0.2441084384918213,
        0.6493605375289917,
        -0.39236709475517273,
        4.357921123504639,
        0.44639045000076294,
        0.08241915702819824,
        0.2889792323112488,
        1.1524379253387451,
        1.055497646331787,
        0.10927195847034454,
        -0.08998487889766693,
        0.4420667886734009,
        -0.8621280193328857,
        -0.15075457096099854,
        -0.44375383853912354,
        -0.2812955677509308,
        0.227583110332489,
        -0.3255555331707001,
        0.4892582297325134,
        -0.5982226133346558,
        0.38416001200675964,
        0.2541372776031494,
        -0.5387730002403259,
        -0.599111795425415,
        0.336608350276947,
        -0.3007637858390808,
        1.0595282316207886,
        -0.821789562702179,
        0.2512510418891907,
        -0.3885955512523651,
        -0.4300014078617096,
        0.21624970436096191,
        -0.38104504346847534,
        -0.10204115509986877,
        -0.03267331421375275,
        -0.5137417912483215,
        0.2492457926273346,
        -0.2278348058462143,
        0.4407248795032501,
        0.3447668254375458,
        0.19601145386695862,
        -0.49861663579940796,
        0.3655950129032135,
        0.7128984928131104,
        -0.26981595158576965,
        -0.515419065952301,
        0.10272349417209625,
        -0.09425025433301926,
        0.5834226608276367,
        -0.02968045324087143,
        0.2776319086551666,
        0.6034632325172424,
        -0.06067788600921631,
        0.8050183653831482,
        -0.4828188419342041,
        0.7825574278831482,
        -0.01057770848274231,
        -0.6679040789604187,
        -0.006939008831977844,
        0.5408470034599304,
        -0.2735881507396698,
        -0.7155475616455078,
        0.3334607481956482,
        0.545213520526886,
        -0.46493828296661377,
        0.27706053853034973,
        0.5743061900138855,
        -0.3797900378704071,
        0.6381433606147766,
        0.1106104850769043,
        -0.11162324249744415,
        -0.9372633099555969,
        -0.1604713797569275,
        0.5328381657600403,
        -0.14374607801437378,
        -0.3525712490081787,
        -0.9481436610221863,
        0.03392808139324188,
        -0.4826030433177948,
        -0.5923567414283752,
        -0.07837650924921036,
        0.23543483018875122,
        -1.3828952312469482,
        0.6987785696983337,
        0.0019521526992321014,
        0.35184288024902344,
        -0.36795729398727417,
        0.5766239762306213,
        -0.6115642786026001,
        -0.5089973211288452,
        0.23946383595466614,
        0.7539780139923096,
        -0.37403368949890137,
        -0.12720109522342682,
        0.8791017532348633,
        0.05944235622882843,
        -0.42767658829689026,
        0.6638420820236206
    ]
}