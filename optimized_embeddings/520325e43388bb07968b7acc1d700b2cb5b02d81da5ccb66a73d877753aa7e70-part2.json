{
    "id": "520325e43388bb07968b7acc1d700b2cb5b02d81da5ccb66a73d877753aa7e70-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale_asynchronous.htm&language=en_US&type=5",
    "content": "nullSalesforce B2B Commerce for Visualforce\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce B2B Commerce for Visualforce\n Get Started with B2B Commerce for Visualforce\n Manage Storefront Details and Metadata\n Set Up Product Data for B2B Commerce for Visualforce\n Help Buyers Discover Products on Your Storefront\n Price and Sell Products for B2B Commerce for Visualforce\n Support Buyer Accounts for B2B Commerce for Visualforce\n Provide a Smooth Path to Purchase for Storefront Buyers\n Considerations for Supporting a Buyer's Cart Experience\n Allow a Buyer to Create a Wish List of Items for a Future Cart\n Email a Buyer for an Abandoned Cart\n Enforce Quantity Rules When a Buyer Adds Products to a Cart or Wish...\n Set Product Prices in the Cart from an External Source\n Allow a B2B Commerce for Visualforce Guest Buyer to Maintain a Cart\n Allow a B2B Commerce for Visualforce Guest Buyer to Check Out\n Standard Checkout versus Line-Level Independence (LLI) Checkout\n Calculate Tax at Checkout\n Set Up Payment Types for Storefront Purchases\n Fulfill a Buyer's Order\n Scale Your Cart Capabilities for a Large Number of Items\n Enable Asynchronous Order Placement for Checkout\n Considerations for Asynchronous Processing for Carts and Orders\n Generate an Invoice for a Buyer's Order\n Customize the Storefront User Experience\n Strategize for Storefront Success\n Deliver Storefront Performance and Security\n Market Templates for B2B Commerce for Visualforce\n Solution Resources for B2B Commerce for Visualforce\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE\nConsiderations for Asynchronous Processing for Carts and Orders\n\nAsynchronous Apex jobs for pricing a cart and placing an order can help you deliver a better storefront experience in some cases. As with all things, there are some caveats and tradeoffs to consider before you determine the scope of your asynchronous activity.\n\nREQUIRED EDITIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13) only\n\nAdvantages of Asynchronous Processing\n\nWhat's the difference between synchronous and asynchronous processing?\n\nSynchronous processing executes a task in a single transaction, and doesn't wait for available resources. On the storefront, a buyer can't perform any other tasks until the synchronous process completes.\nAsynchronous processing executes a task in the background, and only when sufficient resources become available. On the storefront, a buyer can perform other tasks while the asynchronous process remains in progress.\n\nWhen you enable Cart Scale, B2B Commerce for Visualforce can automatically switch to asynchronous processing for pricing the cart and placing an order. Asynchronous processing can be useful for these tasks because the size of the cart data can otherwise result in long wait times for a buyer. Define an asynchronous processing threshold, which specifies the number of major line items in the cart that triggers processing to automatically switch to asynchronous:\n\nWhen the number of major line items is less than the threshold value, cart pricing and order placement execute synchronously.\nWhen the number of major line items equals or exceeds the threshold value, cart pricing and order placement execute asynchronously.\n\nTo help you deliver the best combination of resource optimization and storefront performance, evaluate how frequently your buyers build large carts and place orders from them. In general, we recommend that you specify an appropriate asynchronous processing threshold value so that only your storefront's largest carts use asynchronous processing. The default threshold value is 250 major line items in a cart.\n\nNOTE If you don't use Cart Scale but continue to use the Shopping Cart page version 2.0 or 1.0, you can still enable asynchronous processing for placing an order. In this case, the asynchronous processing threshold value is ignored, and all order placement becomes asynchronous, regardless of the number of items in the cart.\nDisadvantages of Asynchronous Processing\n\nBecause asynchronous processing occurs only when resources become available, the amount of time required for an asynchronous task to complete can be unpredictable. Although a buyer can continue to navigate the storefront and perform tasks while the asynchronous process completes, the unpredictable wait time can be problematic for some buyers.\n\nNOTE When the buyer is a guest, cart pricing and order placement are always synchronous, regardless of the number of items in the cart. The guardrail limit for products in a cart determines the maximum number of items that B2B Commerce for Visualforce can process synchronously in the guest's cart. If a cart exceeds this guardrail limit, cart pricing isn't processed. For more information about guardrail limits, see B2B Commerce for Visualforce Guardrails for Data Scaling.\n\nFor more information about asynchronous processing considerations, see Asynchronous Apex.\n\nSEE ALSO\n(Salesforce Developers)Asynchronous Apex\n(Salesforce Developers) Queuable Apex\n(Salesforce Developers) ccrz.ccLogicCartPlaceAsync\n(Salesforce Developers) ccrz.ccLogicCartPriceAsync\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Considerations for Asynchronous Processing in Salesforce B2B Commerce",
    "keywords": [
        "Asynchronous Apex jobs",
        "Synchronous and asynchronous processing",
        "B2B Commerce for Visualforce",
        "async processing threshold",
        "synchronous vs async processing",
        "apex asynchronous"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_visualforce.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_start.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_community_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_self_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_global.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_settings_loader.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_types.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_dynamic_kit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_image.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_discovery.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category_media.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_sell.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_price_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_promotion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_coupon.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_buyer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_account_group.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_purchase.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_ux.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_home.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_compare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_detail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_scaled_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_shopping_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_effective_account_selector.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_feature_filtering.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_spotlight_featured_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_labels.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_theme.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_extension.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_localize.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_friendly_urls.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_bot_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_shield.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.4009215533733368,
        0.36100929975509644,
        0.4209657907485962,
        -0.9944974184036255,
        -0.046373702585697174,
        -0.06312813609838486,
        -0.305883526802063,
        -0.7818068265914917,
        -0.23466968536376953,
        -0.8602844476699829,
        0.34682053327560425,
        0.7681026458740234,
        0.18808463215827942,
        -0.31495192646980286,
        -0.38957294821739197,
        0.23087641596794128,
        -0.5932894349098206,
        -0.2632635533809662,
        0.3280206322669983,
        -0.2166016399860382,
        0.10021739453077316,
        -0.8601186871528625,
        -0.27012449502944946,
        0.1818833351135254,
        0.9317857623100281,
        -0.5028440952301025,
        -0.16400477290153503,
        -0.05444478988647461,
        -1.06129789352417,
        -0.7560907006263733,
        -0.24942146241664886,
        -0.5862510204315186,
        -0.6303281784057617,
        -0.827557384967804,
        -0.26698970794677734,
        0.832848846912384,
        -0.08269545435905457,
        0.5404396653175354,
        0.6840842962265015,
        0.15320444107055664,
        -0.003483317792415619,
        0.6074882745742798,
        0.6433655023574829,
        0.40194380283355713,
        0.8680779933929443,
        0.7679181098937988,
        0.19965992867946625,
        -0.4649834930896759,
        0.3241432011127472,
        -0.42775434255599976,
        0.14389093220233917,
        -0.15149523317813873,
        -0.2016810178756714,
        -0.1445288360118866,
        -0.7334321141242981,
        -0.7028517723083496,
        0.2573702335357666,
        0.3789638876914978,
        0.14637839794158936,
        -0.8009843230247498,
        0.012948743999004364,
        0.12450384348630905,
        -0.8202865719795227,
        0.3219657838344574,
        -0.16645905375480652,
        -0.11585895717144012,
        0.6314711570739746,
        0.17712295055389404,
        0.16506776213645935,
        -0.5263468027114868,
        4.261558532714844,
        0.10005390644073486,
        0.3168599009513855,
        0.3397933840751648,
        0.2907818555831909,
        0.6873894333839417,
        -0.5103160738945007,
        -0.4506855010986328,
        0.4439011514186859,
        0.10615283250808716,
        -0.012730054557323456,
        -0.22855740785598755,
        0.5377313494682312,
        -0.07490113377571106,
        -0.14747457206249237,
        -0.22729524970054626,
        -0.7459757328033447,
        0.22319985926151276,
        0.7437766194343567,
        -0.39864882826805115,
        -1.0221290588378906,
        0.057651586830616,
        0.5927017331123352,
        1.1003395318984985,
        -0.19224686920642853,
        0.4994935989379883,
        -0.22289499640464783,
        -0.6353683471679688,
        -0.3031996190547943,
        -0.708905041217804,
        0.8023689389228821,
        -0.08319231122732162,
        0.8685011863708496,
        -0.03797253966331482,
        -0.4173288941383362,
        0.80634605884552,
        0.7185491323471069,
        0.7275672554969788,
        0.29696783423423767,
        0.0014524534344673157,
        0.5205224752426147,
        0.4534517526626587,
        -0.26056650280952454,
        -0.31435465812683105,
        0.27370625734329224,
        0.4625607430934906,
        0.16932645440101624,
        0.39339083433151245,
        0.07634024322032928,
        -0.15235599875450134,
        0.6543406844139099,
        0.06146147847175598,
        0.732408881187439,
        0.525967538356781,
        -0.3133067488670349,
        -0.33130383491516113,
        -0.17714588344097137,
        -0.5294750928878784,
        0.6173339486122131,
        0.5312837362289429,
        0.3039090931415558,
        -0.10649189352989197,
        -0.2602643668651581,
        0.025972887873649597,
        -0.1926420032978058,
        0.2625499367713928,
        0.10336991399526596,
        0.19079825282096863,
        -0.007369033992290497,
        0.40942081809043884,
        0.41423097252845764,
        -0.33576107025146484,
        -0.8752098083496094,
        -0.24063211679458618,
        -0.22936081886291504,
        0.33581170439720154,
        -0.45283016562461853,
        0.17245490849018097,
        0.028437603265047073,
        -0.5668644309043884,
        -0.5529025197029114,
        -0.1959497630596161,
        0.29712000489234924,
        0.3478471636772156,
        0.9719903469085693,
        0.505680501461029,
        -0.6923280954360962,
        -0.0477607287466526,
        0.014936178922653198,
        0.033862195909023285,
        -0.5244148969650269,
        0.8900229930877686,
        0.18493451178073883,
        -0.15062975883483887,
        -0.2832191586494446
    ]
}