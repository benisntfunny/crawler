{
    "id": "5163673c963bd25329bc78d9ae54c0c787bb52425e56dbd35e6828b1fdb9b611-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ts_resolve_token_api_v2.htm&language=en_US&type=5",
    "content": "nullMarketing Cloud Engagement\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Marketing Cloud Engagement\n Marketing Cloud Engagement Glossary\n Marketing Cloud Engagement Tenant Types\n Marketing Cloud Engagement Setup\n Determine Your Marketing Cloud Engagement Instance\n Browser Support\n IP Addresses for Inclusion on Allowlists in Marketing Cloud Engagement\n Marketing Cloud Engagement Data Protection and Privacy Tools\n Types of Data Usage in Marketing Cloud Engagement\n Marketing Cloud Engagement User Preferences\n Calendar in Marketing Cloud Engagement\n Event Notification Service\n Package Manager in Marketing Cloud Engagement\n Slack Integration for Marketing Cloud Engagement\n Field-Level Encryption in Marketing Cloud Engagement\n Tokenized Sending\n Implement Tokenized Sending\n Token API Security\n Tokenized Send Examples for Marketing Cloud Engagement\n Token Formats\n Supported Email Messaging Functionality\n Supported MobileConnect Messaging Functionality\n Unsupported Tokenized Sending Features\n No Token Queue for MO SMS Messages\n Get Token API Specification\n Resolve Token API Specification\n Version 2\n Version 1\n HTTP Response Codes\n Data at Rest Encryption in Marketing Cloud Engagement\n Marketing Cloud Engagement Shield\n Expired Marketing Cloud Engagement Subscriptions\n Suspended Marketing Cloud Engagement Accounts\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSET UP MARKETING CLOUD ENGAGEMENT\nVersion 2\n\nReview this information when implemented a Resolve Token API for Tokenized Sending in Marketing Cloud Engagement.\n\nThis request supports HTTP basic authentication. Provide login credential when you set up an account, and use SSL connection to encrypt the usernames or passwords. You can also use OAuth2 with the client_credentials grant type.\n\nJSON Response Body Format\nNAME\tTYPE\tREQUIRED\tDESCRIPTION\nresolvedTokens\tNone\tarray\tYes\tArray of ResolvedToken objects\nEach resolvedTokens object contains these properties:\ntokenRequestId\tstring\tYes\tUUID generated per token during the request\ntokenValue\tstring\tYes\tThe resolved email address or phone number. You can also call this value email for backwards compatibility.\nattributes\tstring\tYes\tArray of attributes associated with the resolved email address or phone number, presented in name and value pairs\nunresolvedTokens\tNone\tarray\tYes\tArray of UnresolvedToken objects\nEach unresolvedTokens array contains these properties:\ntokenRequestId\tstring\tYes\tUUID generated per token during the request\nmessage\tstring\tNo\tError message indicating the cause of the unresolved token\nHTTP Response Examples\n\nThe examples include response body with email addresses and attributes, response body with email addresses only, and response body with phone numbers.\n\nResponse Body with Email Addresses and Attributes\n{\n    \"resolvedTokens\": [\n        {\n            \"tokenRequestId\":\"abc123thn567\",\n            \"tokenValue\": \"user1@exacttarget.com\",\n            \"attributes\": [\n                {\n                    \"name\": \"FirstName\",\n                    \"value\": \"Alice\"\n                },\n                {\n                    \"name\": \"LastName\",\n                    \"value\": \"Smith\"\n                }\n            ]\n        },\n        {\n            \"tokenRequestId\":\"abc098thn654\",\n            \"tokenValue \": \"user2@gmail.com\",\n            \"attributes\": [\n                {\n                    \"name\": \"FirstName\",\n                    \"value\": \"John\"\n                },\n                {\n                    \"name\": \"LastName\",\n                    \"value\": \"Smith\"\n                }\n            ]\n        }\n    ],\n    \"unresolvedTokens\": []\n}\nResponse Body with Email Addresses\nNOTE Not supported by MobileConnect.\n{\n    \"resolvedTokens\": [\n        {\n            \"tokenRequestId\":\"abc123thn567\",\n            \"tokenValue\": \"user2@gmail.com\"\n        }\n    ],\n    \"unresolvedTokens\": [\n        {\n            \"tokenRequestId\":\"abc098thn654\",\n            \"message\": \"Invalid token; token does not exist.\" \n        }\n    ]\n}\nResponse Body with Phone Numbers\n{\n    \"resolvedTokens\": [\n        {\n            \"tokenRequestId\":\"abc123thn567\",\n            \"tokenValue\": \"13175551212\"\n        }\n    ],\n    \"unresolvedTokens\": [\n        {\n            \"tokenRequestId\":\"abc098thn654\",\n            \"message\": \"Invalid token; token does not exist.\" \n        }\n    ]\n}\nJSON Request Body Format\n\nThe JSON Request Body Format includes a valid JSON object (application/json content type) with these properties.\n\nNew Users must use Version 2 of the specification.\n\nNAME\tTYPE\tREQUIRED\tDESCRIPTION\ntokens\tNone\tarray\tYes\tArray of token objects\nEach tokens object contains an array of these objects:\ntokenRequestId\tstring\tYes\tUUID generated per token\ntoken\tstring\tYes\tEmail address or mobile number token to resolve\nsubscriberKey\tstring\tYes\tSubscriber key or contact key value associated with the token to resolve\nsendKey\tNone\tstring\tYes\t\nMobile message name value for the currently sending SMS message\nCustomer key value for the user-initiated email\nCustomer key value for the triggered send email\nExample with Email Addresses\n{\n    \"tokens\": [\n        {\n            \"tokenRequestId\":\"abc123thn567\",\n\"token\":\"t1234@example.com\",\n            \"subscriberKey\":\"12345abcde67890fghij\"\n        },\n        {\n            \"tokenRequestId\":\"abc098thn654\",\n\"token\":\"t5678@example.com\",\n            \"subscriberKey\":\"1111155555aAaAabBbBb\"\n        }\n    ],\n    \"sendKey\": \"ExampleEmail_12345\"\n}\nExample with Phone Number\nNOTE MobileConnect does not support this functionality.\n{\n    \"tokens\": [\n        {\n            \"tokenRequestId\":\"abc123thn567\",\n\"token\":\"012345678901234\",\n            \"subscriberKey\":\"12345abcde67890fghij\"\n        },\n        {\n            \"tokenRequestId\":\"abc098thn654\",\n\"token\":\"012345678901235\",\n            \"subscriberKey\":\"1111155555aAaAabBbBb\"\n        }\n    ],\n    \"sendKey\": \"ExampleEmail_12345\"\n}\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\nÂ ",
    "title": "Marketing Cloud Engagement Tokenized Sending API",
    "keywords": [
        "tokenized sending",
        "resolve token api",
        "marketing cloud engagement",
        "api security",
        "http response codes",
        "data at rest encryption",
        "field-level encryption",
        "slack integration",
        "mobileconnect messaging functionality"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_marketing_cloud.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_administration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_limits.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_password_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_view_account_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_global_marketing_cloud_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_headers_footers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_feature_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_email_studio_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_sender_authentication_package.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_domain_verification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_domain_verification_faq.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_from_address_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_domain_registration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_reply_mail_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_enterprise_reply_mail_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_send_classifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_send_emails_from_multiple_addresses.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_url_expiration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobile_studio_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobileconnect_account_administration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_setting_the_from_name_for_your_mobileconnect_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_setting_stored_headers_and_footers_for_mobileconnect_messages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_send_blockouts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_managing_keywords_on_short_and_long_codes_in_your_mobileconnect_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_help_keywords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_stop_keywords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_bounced_messages_and_held_numbers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_conversation_windows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_moc_dlt_template_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobilepush_administration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_mp_provisioning_info.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_mp_apps_and_optional_settings_in_your_mobilepush_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_mp_send_blockouts_in_your_mobilepush_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_security_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mfa.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ip_allowlist.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_export_email_allowlist.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_audit_trail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_roles_assign_a_role.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_roles_permissions_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_permissions_es.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_journey_builder_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobileconnect_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mobilepush_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_marketing_cloud_roles.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_business_units.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_enterprise_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_enterprise_20_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_customized_local_content.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ftp_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_file_locations.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_key_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_byok.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_create_byok.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_parameter_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_brandbuilder.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_single_sign_on_authentication_via_saml_2.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_enable_saml_task.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_account_login_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_ssl_certificates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_es_ip_addresses_for_inclusion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_user_pref.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_timezone.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_mc_calendar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_ens.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_marketing_cloud_package_manager.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_manage_packages_across_environments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_pm_industry_solutions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_package_manager_reference.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_field_level_encryption.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_field_level_encryption_faqs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_tokenized_sending1.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.mc_overview_resolve_token_api_specification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        -0.2835916578769684,
        0.2145673632621765,
        0.060447562485933304,
        -0.3310999870300293,
        0.4995529055595398,
        -0.40794453024864197,
        -0.026779070496559143,
        0.3813847303390503,
        -0.22481492161750793,
        0.08164303749799728,
        0.06492778658866882,
        0.03954600170254707,
        0.22944745421409607,
        0.14793889224529266,
        -0.34493619203567505,
        0.4181014895439148,
        -0.3273123800754547,
        0.37199628353118896,
        -0.14696452021598816,
        0.27878710627555847,
        0.8054224848747253,
        0.2216324806213379,
        -0.1464235484600067,
        0.8529231548309326,
        0.07402274012565613,
        1.084662914276123,
        0.37727251648902893,
        0.19884729385375977,
        0.11561425030231476,
        0.1484939604997635,
        0.40317249298095703,
        -1.2957080602645874,
        -0.7628774642944336,
        0.4616398215293884,
        0.1769448220729828,
        -0.6855886578559875,
        0.10964507609605789,
        0.005245227366685867,
        -0.07091110199689865,
        0.1749064177274704,
        0.09400588274002075,
        -0.6570793390274048,
        -0.8661032319068909,
        0.048403579741716385,
        -0.16901227831840515,
        -0.058333031833171844,
        0.21165026724338531,
        -1.1878381967544556,
        0.01797666773200035,
        0.6162019968032837,
        -0.4468082785606384,
        0.1120322197675705,
        0.020288683474063873,
        0.08880272507667542,
        -0.41628801822662354,
        0.5749595165252686,
        0.857461154460907,
        0.13845175504684448,
        0.24015142023563385,
        0.1833113431930542,
        -0.9364911913871765,
        -0.024687688797712326,
        0.5390532612800598,
        -0.8100640773773193,
        -0.022795826196670532,
        -0.5758974552154541,
        -0.40935906767845154,
        -0.13566701114177704,
        0.42077651619911194,
        -0.04371173679828644,
        -0.5235874652862549,
        0.2661384344100952,
        0.22418801486492157,
        0.2175101637840271,
        0.5830262899398804,
        1.1329929828643799,
        -0.0738738626241684,
        -0.23603852093219757,
        -0.6210617423057556,
        0.37629425525665283,
        -0.3795475661754608,
        -0.06046023219823837,
        -0.5845620632171631,
        -0.23034188151359558,
        -0.08662508428096771,
        -0.5709969997406006,
        -0.07286901772022247,
        -0.23246951401233673,
        0.0737394168972969,
        -0.287614107131958,
        -0.2365489900112152,
        0.28047657012939453,
        0.3562487065792084,
        -0.17776399850845337,
        0.9558632373809814,
        0.1397971361875534,
        -0.1340492069721222,
        -0.4633283317089081,
        1.1310062408447266,
        0.704410970211029,
        -0.6719163656234741,
        0.5888550281524658,
        -0.17096194624900818,
        -0.24593988060951233,
        0.04272709786891937,
        -0.29935210943222046,
        -0.015329327434301376,
        0.26252710819244385,
        0.24602583050727844,
        -0.7777421474456787,
        -0.4998478889465332,
        -0.330853134393692,
        -0.864077091217041,
        -0.14952701330184937,
        0.48165541887283325,
        0.1205637976527214,
        -0.3205174505710602,
        -0.2696911692619324,
        -0.4766983389854431,
        -0.3241775631904602,
        0.04412142187356949,
        0.07635150849819183,
        0.45094287395477295,
        -0.0245075523853302,
        -0.28358060121536255,
        1.1180918216705322,
        -0.3319525420665741,
        4.243514537811279,
        1.179075002670288,
        0.09656614065170288,
        0.13340356945991516,
        0.2095889002084732,
        0.055375102907419205,
        0.6280020475387573,
        -0.12806028127670288,
        0.3317777216434479,
        -0.36300572752952576,
        0.16084790229797363,
        -0.15060928463935852,
        0.40656259655952454,
        0.1897570937871933,
        -0.2858694791793823,
        0.6882012486457825,
        -0.3174836337566376,
        -0.6454254984855652,
        0.5777610540390015,
        -0.3777204155921936,
        0.08882617950439453,
        -0.1766846626996994,
        0.38594937324523926,
        1.6656310558319092,
        0.7585673928260803,
        -0.6080974340438843,
        0.161661297082901,
        0.23748770356178284,
        -0.10722725838422775,
        -0.07134424895048141,
        0.3608512580394745,
        -0.48616328835487366,
        0.7651552557945251,
        0.19169053435325623,
        -0.448022723197937,
        0.1607227474451065,
        1.120751976966858,
        -0.21978320181369781,
        -0.3690800964832306,
        -0.5235563516616821,
        0.36558830738067627,
        -0.2742249369621277,
        -0.1884666532278061,
        -0.544606626033783,
        -0.36742767691612244,
        -0.12277984619140625,
        0.4302860498428345,
        0.7062748074531555,
        0.48940032720565796,
        -0.5575110912322998,
        -0.3382744789123535,
        -0.45538094639778137,
        0.25932958722114563,
        -0.4617079198360443,
        -0.37155598402023315,
        0.1370549201965332,
        1.1599187850952148,
        -0.1549656093120575,
        0.08307348191738129,
        -0.5058804750442505,
        -0.05810996890068054,
        0.6414647698402405,
        -0.16434189677238464,
        -0.07530486583709717,
        -0.12687933444976807,
        0.46444255113601685,
        0.29151779413223267,
        1.2125324010849,
        0.23850619792938232,
        -0.23483383655548096,
        -0.9644409418106079,
        -0.4105597734451294,
        -1.174548625946045,
        -1.046717643737793,
        0.5281945466995239,
        0.06288430094718933,
        0.3918163478374481,
        0.6534101366996765,
        -0.12117871642112732,
        -0.764818012714386,
        0.1569972187280655,
        0.393362432718277,
        -0.9446916580200195,
        -0.5423172116279602,
        0.009857863187789917,
        0.4833871126174927,
        -0.6609999537467957,
        0.33095091581344604,
        0.12184542417526245,
        0.27919071912765503,
        0.5405192375183105,
        0.6894955635070801,
        0.09065505862236023,
        -0.19334539771080017,
        0.23235464096069336
    ]
}