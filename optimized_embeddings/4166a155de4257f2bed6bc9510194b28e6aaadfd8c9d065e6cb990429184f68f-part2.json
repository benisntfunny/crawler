{
    "id": "4166a155de4257f2bed6bc9510194b28e6aaadfd8c9d065e6cb990429184f68f-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_platform_cache.htm&language=en_US&type=5",
    "content": "nullSalesforce B2B Commerce for Visualforce\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce B2B Commerce for Visualforce\n Get Started with B2B Commerce for Visualforce\n Manage Storefront Details and Metadata\n Set Up Product Data for B2B Commerce for Visualforce\n Help Buyers Discover Products on Your Storefront\n Price and Sell Products for B2B Commerce for Visualforce\n Support Buyer Accounts for B2B Commerce for Visualforce\n Provide a Smooth Path to Purchase for Storefront Buyers\n Customize the Storefront User Experience\n Strategize for Storefront Success\n Deliver Storefront Performance and Security\n Improve Storefront Performance with Platform Cache\n Enable Caching for Storefront Pages\n Log Storefront Code Execution\n Measure and Evaluate Performance of Your Storefront Pages\n Adjust Field-Level Security for B2B Commerce for Visualforce Objects\n Enable Shield Platform Encryption for B2B Commerce for Visualforce...\n Transform API Return Data on the Salesforce Platform\n Supported Browsers for B2B Commerce for Visualforce Storefronts\n Browser Cookies Set by B2B Commerce for Visualforce\n Market Templates for B2B Commerce for Visualforce\n Solution Resources for B2B Commerce for Visualforce\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE\nImprove Storefront Performance with Platform Cache\n\nCache storefront data to improve your storefront’s responsiveness during times of high traffic. You can cache both org data (such as products and categories) and session data (such as shopping cart items), depending on your managed package version.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13)\nB2B Commerce for Visualforce Spring ’20 (version 4.12)\nB2B Commerce for Visualforce Summer ’19 (version 4.11)\nB2B Commerce for Visualforce Spring ’19 (version 4.10)\nB2B Commerce for Visualforce Summer ’18 (version 4.9)\n\n\nUSER PERMISSIONS NEEDED\nTo access CC Admin and change settings:\tAccess B2B Commerce for Visualforce Admin Settings permission set\n\nAfter installation, B2B Commerce for Visualforce automatically creates a ccrz.corebd partition, but the partition is not automatically allocated any space. After you manually allocate space to the partition, B2B Commerce for Visualforce immediately begins using it when users access the storefront. If you don’t allocate any space, B2B Commerce does not use Platform Cache.\n\nB2B Commerce for Visualforce includes storefront configuration settings that specify separate time to live (TTL) values for each of the following types of cached data.\n\nDATA\tCACHE TYPE\tCONFIGURATION SETTING\tDEFAULT TTL (SECONDS)\tAVAILABLE IN B2B COMMERCE FOR VISUALFORCE VERSION\nAccount group price lists\tOrg cache\tAccount Group Price Lists Cache TTL\t86400\tSummer ’19 (version 4.11) or later\nAnonymous account data\tOrg cache\tAnonymous Account Cache TTL\t86400\tCloudCraze 4.8 or later\nCategory data\tOrg cache\tCategory Data Cache TTL\t86400\tCloudCraze 4.8 or later\nCategory tree data\tOrg cache\tCategory Tree Cache TTL\t86400\tCloudCraze 4.8 or later\nPage labels\tOrg cache\tPage Label Cache TTL\t86400\tCloudCraze 4.8 or later\nProduct data\tOrg cache\tProduct Data Cache TTL\t86400\tCloudCraze 4.8 or later\nShopping cart items data\tSession cache\tCart Items Cache TTL\t28800\tSummer ’19 (version 4.11) or later\nWish list selector data\tSession cache\tWishlists Cache TTL\t28800\tSummer ’19 (version 4.11) or later\n\nTTL defines how long (in seconds) that type of data remains in the cache. For example, a TTL value of 300 is 300 seconds, or five minutes. When the TTL expires for that type of cached data, B2B Commerce for Visualforce must reload the data from the underlying objects instead of loading from the cache.\n\nImagine that you specify a TTL value of 300 for category tree data. When one user visits the storefront, B2B Commerce for Visualforce queries the category tree data from the underlying objects and places the data in the Platform Cache. Three minutes later, a second user visits the storefront, and B2B Commerce for Visualforce quickly loads category tree data from the cache. Three minutes later (six minutes after B2B Commerce for Visualforce cached the category tree data), a third user visits the storefront. Because the TTL has now expired, B2B Commerce for Visualforce must query category tree data from the underlying objects again and create a new five-minute cache.\n\nThe minimum supported TTL value for any type of data is 300. If you specify a value less than 300, the data is not cached.\n\nAllocate space to the ccrz.corebd partition.\nMake sure that you've created a sharing rule for the CC Public Cache custom object.\nTIP This sharing rule ensures that storefront configuration settings where Externally Safe is true function correctly on the Site Login page. This sharing rule doesn't affect the actual action of logging in to the storefront.\nFrom Setup, enter Platform Cache in the Quick Find box, and then select Platform Cache.\nFind the partition named corebd, and click Edit.\nIn the Org Cache Allocation section, enter the amount of partition space (in MB) for the Organization, and save your changes.\nNOTE The amount of space that you can allocate for B2B Commerce for Visualforce data depends on which B2B Commerce license you’ve purchased. The minimum partition size is 5 MB.\nAdjust the TTL values for each type of cached data in your partition.\nOn the CC Admin tab in your org, select your storefront (1).\nIn the Storefront Settings menu, select Configuration Settings (2).\nFrom the Module picklist, select Platform Cache (3).\nTo change the TTL value for a piece of cached data, click Override in the Action column next to the type of data you want to modify.\nIn the New Page Setting window, enter the new TTL value for Value, and click Create.\nTIP If you don’t want to cache a certain type of data, enter 0 for Value.\nBuild and activate a new configuration cache.\n\nB2B Commerce for Visualforce periodically clears data from the Platform Cache as part of normal operation. For example, when you enable a different configuration cache, B2B Commerce for Visualforce clears the Platform Cache data associated with the configuration cache you disabled. B2B Commerce for Visualforce clears the session cache data when the buyer logs out.\n\nOne exception to this behavior is for anonymous account data. If a change occurs on the anonymous account or its corresponding account group, manually clear the Platform Cache:\n\nOn the CC Admin tab in your org, select Global Settings (1).\nIn the Global Settings menu, select Settings (2).\nClick Clear Core Data Cache (3).\n\nTIP\nIf you click Clear Core Data Cache and then return to Platform Cache under Setup, the amount of allocated space sometimes doesn’t appear to update. Clearing the cache directly from Setup can more reliably update the amount of reported allocated space.\nTo programmatically clear session cache data, create subscriber code that calls the ccrz.ccApi.flushCache() method. In the method's input map, pass cartItems or wishlist, depending on which session cache data you want to clear.\nTo customize how B2B Commerce for Visualforce manages some types of cached data, you can create subscriber code that extends the following methods of the B2B Commerce for Visualforce API:\nTYPE OF CACHED DATA\tEXTENSION POINT\nCategory data, category tree data\tccrz.ccApiCategory.fetch()\nProduct data\tccrz.ccApiProduct.fetch()\nAnonymous account data\tccrz.ccLogicAccountGetAnonymous.process()\nAccount group price lists data\tccrz.ccLogicPLEntLists.fetchAccountGroupPriceListIDs()\nShopping cart items data\tccrz.ccApiCart.fetchCartItems()\nWish lists selector data\tccrz.ccApiWishList.fetch()\nSEE ALSO\n(Salesforce Developers) ccrz.ccApiPublicCache\n(Salesforce Developers) ccrz.ccApiPrivateCache\n(Salesforce Developers) Batch Processing Classes for B2B Commerce for Visualforce\n(Salesforce Developers) Platform Cache Features\n(Salesforce Developers) Platform Cache Limits\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Improving Storefront Performance with Platform Cache",
    "keywords": [
        "Platform Cache",
        "B2B Commerce",
        "Visualforce",
        "cache storefront data",
        "improve performance",
        "Salesforce"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_visualforce.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_start.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_community_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_self_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_global.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_settings_loader.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_types.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_dynamic_kit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_image.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_discovery.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category_media.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_sell.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_price_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_promotion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_coupon.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_buyer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_account_group.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_purchase.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_ux.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_home.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_compare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_detail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_scaled_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_shopping_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_effective_account_selector.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_feature_filtering.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_spotlight_featured_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_labels.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_theme.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_extension.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_localize.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_friendly_urls.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_bot_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_shield.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_cache.htm&language=en_US&type=5"
    ],
    "embedding": [
        0.3772512972354889,
        -0.14427123963832855,
        -0.15374232828617096,
        -0.3301491141319275,
        0.08847112953662872,
        -0.474343478679657,
        0.40787777304649353,
        -0.23875769972801208,
        0.1337997019290924,
        -0.256122350692749,
        0.0150737464427948,
        -0.9239256381988525,
        -0.17584943771362305,
        -0.17252865433692932,
        0.6689741015434265,
        0.08940446376800537,
        -0.02454337105154991,
        -0.46673285961151123,
        0.011700659990310669,
        0.046695999801158905,
        -0.4843899607658386,
        0.3034917712211609,
        0.23241794109344482,
        0.6093575954437256,
        0.3876788914203644,
        0.10018238425254822,
        0.6082571744918823,
        0.540270209312439,
        0.022643204778432846,
        0.27271923422813416,
        -0.3331924080848694,
        0.2663596272468567,
        0.2603723406791687,
        -0.13138218224048615,
        0.7897014617919922,
        -0.41095706820487976,
        0.4899785816669464,
        0.18240410089492798,
        -0.148969829082489,
        -0.23861899971961975,
        -0.5000885725021362,
        -0.897680401802063,
        -0.9393733143806458,
        -0.23571395874023438,
        0.43622544407844543,
        -0.20132295787334442,
        -0.21819546818733215,
        0.2084115743637085,
        0.058255910873413086,
        0.14483673870563507,
        -0.6962056756019592,
        0.061167702078819275,
        -0.5470018982887268,
        0.9061007499694824,
        -0.06342937797307968,
        -0.0038758963346481323,
        0.03761632740497589,
        0.055625393986701965,
        -0.4697254002094269,
        -0.7746528387069702,
        -0.03548915311694145,
        0.32793205976486206,
        -0.9122962951660156,
        0.11929053068161011,
        -0.1364375799894333,
        0.30894267559051514,
        0.314972847700119,
        1.0307941436767578,
        -0.537175714969635,
        0.07186752557754517,
        0.5226023197174072,
        -0.3804117739200592,
        0.6122451424598694,
        0.52640700340271,
        -1.0081744194030762,
        -0.371839702129364,
        -0.9139171838760376,
        -0.7000020146369934,
        -0.016352513805031776,
        0.3284124433994293,
        -0.44279181957244873,
        0.37425097823143005,
        -0.017788447439670563,
        -0.7573107481002808,
        -0.057117760181427,
        -0.2119251787662506,
        -0.7393345236778259,
        -0.4184507131576538,
        -0.12329628318548203,
        -0.8587028384208679,
        0.48020175099372864,
        0.07034463435411453,
        0.5166958570480347,
        0.492203950881958,
        -0.1381281465291977,
        -0.05982883274555206,
        0.76026850938797,
        0.2059057354927063,
        0.4114082157611847,
        0.8904659748077393,
        0.4199379086494446,
        1.1534987688064575,
        0.15689755976200104,
        -0.10865294933319092,
        -0.11051475256681442,
        -0.17332839965820312,
        -0.3047473430633545,
        -0.11162199079990387,
        -0.19100728631019592,
        -0.45967844128608704,
        -0.8632234334945679,
        -0.014017283916473389,
        1.1035360097885132,
        -0.2530762851238251,
        -0.26854825019836426,
        -0.1506122350692749,
        0.24148039519786835,
        -0.37577110528945923,
        0.6605170965194702,
        -0.16851767897605896,
        0.013425901532173157,
        -0.23543375730514526,
        -0.4412197470664978,
        0.24309980869293213,
        -0.32016682624816895,
        4.212313652038574,
        0.3672870397567749,
        0.9869688749313354,
        0.5539974570274353,
        1.1122263669967651,
        1.8292639255523682,
        -0.44701850414276123,
        -0.0943673700094223,
        0.3755947947502136,
        -0.5974287986755371,
        0.2542226314544678,
        -0.18221817910671234,
        0.31973135471343994,
        0.4411490857601166,
        -0.6584786772727966,
        0.172905832529068,
        -0.20437508821487427,
        0.16337676346302032,
        0.3327981233596802,
        -0.5567013025283813,
        -0.41337770223617554,
        0.31381675601005554,
        0.16085579991340637,
        0.8067368865013123,
        0.2052621692419052,
        -0.5273084044456482,
        0.1491813063621521,
        -0.44909968972206116,
        0.2460344135761261,
        -0.6549544334411621,
        -0.04927574098110199,
        0.02369154617190361,
        1.225292682647705,
        -0.5827946662902832,
        0.0019135475158691406,
        0.7167049646377563,
        0.48781219124794006,
        -0.7851190567016602,
        0.738204300403595,
        -0.338026762008667,
        0.13927403092384338,
        -0.6790711283683777,
        -0.5395870804786682,
        -0.041669026017189026,
        -0.16081716120243073,
        -0.010381657630205154,
        -0.17534413933753967,
        -0.3424251973628998,
        0.16756567358970642,
        0.2692517042160034,
        0.5595644116401672,
        -0.94707190990448,
        0.5218417048454285,
        0.2475365698337555,
        -0.42716118693351746,
        -0.2583693861961365,
        0.30617961287498474,
        -0.32472872734069824,
        0.48741239309310913,
        0.3971079885959625,
        0.2728840410709381,
        0.3007194995880127,
        -0.22995615005493164,
        0.46131181716918945,
        -0.47846102714538574,
        -0.40513139963150024,
        -0.20682984590530396,
        0.9434987306594849,
        -0.2834070026874542,
        -0.5497307777404785,
        0.26770782470703125,
        -0.4405544400215149,
        -0.6784303188323975,
        -0.4647727310657501,
        -0.4210556149482727,
        -0.3374367356300354,
        -0.34366369247436523,
        0.616524338722229,
        -0.44476836919784546,
        -1.0099081993103027,
        0.2506854236125946,
        -0.4352751672267914,
        0.07560747861862183,
        -0.000863879919052124,
        0.6128610372543335,
        0.0395800843834877,
        -0.7164269089698792,
        -0.09467215836048126,
        0.39640435576438904,
        0.17152400314807892,
        -0.18311619758605957,
        0.7296263575553894,
        -0.14325138926506042,
        -0.059191491454839706,
        0.5382340550422668
    ]
}