{
    "id": "adc854077b9873eb886d9e230de439ab2f23008d1af7c1ed15ff466319177659-part2",
    "url": "https://help.salesforce.com/s/articleView?id=000394078&type=1&language=en_US",
    "content": "nullPreferred Alternatives to IP Allowlisting on Hyperforce\nPublish Date: Jul 1, 2024\nDescription\nAt Salesforce, Trust is our #1 value. We understand that our customers need to be confident that they are communicating with Salesforce in a secure environment. Despite it being a common connectivity practice, we discourage IP allowlisting because the maintenance overhead to update IP addresses can be burdensome. Hyperforce runs in the cloud, and cloud infrastructure is ephemeral by nature. IPs are updated frequently in Hyperforce, outside of Salesforce's control. When this happens, customers can experience connection interruptions until they update their allowlist databases.\nResolution\n\nWe recommend that Hyperforce customers adopt the following best practices as soon as possible.\n \n\nAllowlist Domains\nUse Service Name Indicators (SNI)\nImplement Mutual TLS (mTLS)\nUse an Authentication Provider (Optional)\nUse Connected Apps\n\n\nRead further for detailed explanations of the benefits of each of these practices.\n \n\nAllowlist Domains\n\n\nFor connections from the customer's network into Salesforce, instead of allowlisting IPs, customers can allowlist Salesforce domain names such as *.force.com. Domain name allowlisting is more secure because the cloud provider manages the IP addresses under each domain.\n\nFor most customers, switching to domain allowlisting has a low level of effort, and domain allowlists require only rare updates. This is the easiest change for customers to implement.\n \n\nResources\nAllow the Required Domains\nDomain Name System Security\n\nUse Service Name Indication (SNI)\n\n\nService Name Indication extends the Transport Layer Security (TLS) protocol by allowing a client or browser to specify the hostname to which it wants to connect. This is important because a server might present multiple certificates on the same IP address. A common analogy for understanding SNI is sending a package to someone who lives in an apartment building. TLS guarantees that the package is sent to the right address, and SNI guarantees that the package is sent to the right apartment at that address.\n\nIn Hyperforce, each Salesforce domain has a separate HTTPS certificate. In the absences of SNI, Hyperforce returns a default certificate that supports all *.my.salesforce.com and *.sandbox.my.salesforce.com domains, but to address any other domains, web browsers and API callers must specify the desired domain by including SNI in their ClientHello message. Even when addressing default domains, sending SNI is recommended. (Read more in Resolve HTTPS/SSL connection errors in Hyperforce with SNI.)\n\nTo establish secure connections from Hyperforce to a customer's internal network, instead of IP allowlists, we recommend that customers investigate whether their network infrastructure supports SNI header inspection. By inspecting the SNI header, the customer can ensure that traffic sent by Salesforce is directed into the customer's own Salesforce environment.\n\nSNI provides the following benefits\n\nAccuracy: Guarantees that all traffic is routed to the correct destination\nSimplicity: Customers add an extension to a common protocol\nScalability: Expands the number of connections a customer can make, especially if they use IPv4\nSecurity: Connections are based on TLS, which is more secure than IP allowlists.\n\nResources\nTLS 1.2 and SNI Enablement Overview\nInclude the Server Name Indicator (SNI) Extension for Custom Domain Request\nResolve HTTPS/SSL Connection Errors in Hyperforce with SNI\nInclude SNI Extension for Custom Domains using Salesforce Cloud option with Salesforce Edge Network\n\nImplement Mutual TLS (mTLS)\n\n\nTransport Layer Security (TLS) is an encryption-based connection protocol that establishes secure links from a client to a server. Mutual TLS (mTLS) goes a step further, and also establishes secure links from the server to the client. By validating the certificates of both entities before establishing a connection, mTLS provides enhanced security. Customers who implement mTLS can be absolutely sure that they are connecting to Salesforce, and vice versa.\n \n\nResources\nAuthentication Settings for External Systems\nTwo-way SSL Authentication with Certificates\nUsing Salesforce Client Certificate for Outbound Messages\n\nUse an Authentication Provider (Optional)\n\n\nFor customers who want to use an authentication provider such as Github or Okta to access their Salesforce environment, Salesforce will manage the authentication app for them.\n\nThis option provides customers with choice and control over their authentication process, but is not a Salesforce requirement.\n \n\nResources\nAuthentication Providers\nUse Salesforce-Managed Authentication Providers\nConfigure a Salesforce Authentication Provider\nSet up SSO for your Internal Users\n\nUse Connected Apps\n\n\nIf you need to access Salesforce from external Applications, use Connected Apps. The connected app framework enables external applications to integrate with Salesforce using APIs and standard protocols, such as Security Assertion Markup Language (SAML), OAuth, and OpenID Connect. Connected apps use these protocols to authorize, authenticate, and provides single sign-on (SSO) for external apps. Connected apps can securely access data with API integration, integrate service providers with Salesforce, provide authorization for external API gateways, and manage access to 3rd party apps.\n \n\nResources\nConnected App Basics -- Trailhead\nConnected App Use Cases\nHow to Create a Connected App\nOpenID Connect -- Dynamic Client Registration for External API Gateways\n\nSee Also\nIntroducing Hyperforce -- General Information and FAQ\nRetain Uninterrupted Access to Salesforce on Hyperforce\nSalesforce IP Addresses and Domains to Allow\n\n\nFor customers with an insurmountable business or compliance need to maintain IP allowlists, Hyperforce External IPs contains IPs for connections from Salesforce to the customer's network, for products built on the Salesforce platform. These IPs are not for email, and not for Marketing Cloud, Commerce Cloud, Slack, or MuleSoft.\n\nKnowledge Article Number\n\n000394078\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Alternatives to IP Allowlisting on Hyperforce",
    "keywords": [
        "IP allowlisting alternatives",
        "Hyperforce security",
        "mutual TLS",
        "Service Name Indication (SNI)",
        "authentication providers"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.setup_domains.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=000392990&type=1&language=en_US",
        "https://help.salesforce.com/s/articleView?id=000386840&type=1&language=en_US",
        "https://help.salesforce.com/s/articleView?id=000389364&type=1&language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.external_authentication.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.sso_authentication_providers.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_global_auth.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_about.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_create.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oidc_dynamic_client_reg_flow.htm&type=5&language=en_US",
        "https://help.salesforce.com/s/articleView?id=000356459&type=1&language=en_US",
        "https://help.salesforce.com/s/articleView?id=000392992&type=1&language=en_US",
        "https://help.salesforce.com/s/articleView?id=000321501&type=1&language=en_US"
    ],
    "embedding": [
        -0.3664574921131134,
        0.3035501539707184,
        0.7937991619110107,
        -0.1919359266757965,
        -0.2749791443347931,
        0.5245026350021362,
        0.0156853087246418,
        0.48055151104927063,
        0.17052413523197174,
        -0.6084206700325012,
        0.5586807131767273,
        0.23207715153694153,
        0.09493131935596466,
        -0.5747530460357666,
        0.3361453711986542,
        0.21901783347129822,
        0.32768675684928894,
        0.21951311826705933,
        0.03021838888525963,
        -0.2969248592853546,
        -0.2852867841720581,
        0.8769389390945435,
        0.4340951144695282,
        -0.26858773827552795,
        -0.05988837033510208,
        -0.20743227005004883,
        -0.6322650909423828,
        0.4978194534778595,
        0.33804571628570557,
        1.013142466545105,
        0.07085970044136047,
        -0.7358091473579407,
        -0.5876330733299255,
        0.42715615034103394,
        -0.5824781060218811,
        -1.398665189743042,
        -0.5184518098831177,
        -0.5255404114723206,
        0.6402530670166016,
        0.4493226110935211,
        0.7681958675384521,
        -0.494540810585022,
        -0.25837379693984985,
        0.7751777768135071,
        -1.0719780921936035,
        0.42620909214019775,
        0.48600897192955017,
        -0.07444560527801514,
        -0.46122947335243225,
        0.07465410232543945,
        0.6667737364768982,
        -0.0071534886956214905,
        0.38688015937805176,
        0.3758522570133209,
        -0.39295291900634766,
        -0.03261692449450493,
        0.07898978888988495
    ]
}