{
    "id": "4dd8efde40f1068aead8df8f0221f6624803eb889ffea9f5d05ac7c9095b8f43-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_stored_payments.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n Upgrade to B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n Cart: Scale Your Storefront's Capabilities\n Checkout: Deliver an Efficient Buyer Experience\n Lightning Components: Create a Unified B2B Commerce for Visualforce...\n Trust: Keep Your Storefront Secure and Reliable\n Admin Experience: Support Your Storefront's Requirements with Fewer...\n Developer Experience: Maintain and Extend Your Storefront Code More...\n Extend My Wallet Functionality More Easily\n Maintain Your Storefront's Third-Party JavaScript Dependencies\n Improve Page Performance When Returning Data from the API\n Process Deprecated Apex Classes and Visualforce Pages\n Other Fixes in B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n Patch Notes for B2B Commerce for Visualforce Winter ’21 (Version 4.13)\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nExtend My Wallet Functionality More Easily\n\nIf your storefront allows a buyer to manage stored payments from the My Wallet section of the My Account page, implement customized functionality with fewer headaches. You can now specify whether to use the legacy extension hook or standard B2B Commerce for Visualforce global API for fetching and removing stored payments in the My Wallet section.\n\nWhere: This change applies to B2B Commerce for Visualforce Winter ’21 (version 4.13) in Lightning Experience and Salesforce Classic in Enterprise, Performance, Unlimited, and Developer editions.\n\nWhy: In previous versions of B2B Commerce for Visualforce, the My Wallet section of the My Account page referenced methods of the ccrz.cc_hk_Payment extension point class. The managed package also provided the ccrz.ccApiStoredPayment global API, which provides a more standardized interface and extensibility architecture than the extension point class. But, the My Wallet section didn't use the global API methods, which made implementing and maintaining custom business logic more difficult.\n\nThis release adds the following enhancements for stored payments functionality:\n\nThe My Wallet module of storefront configuration settings includes a new configuration, Use Payment Hook, which specifies whether the My Wallet section invokes methods of the ccrz.cc_hk_Payment or ccrz.ccApiStoredPayment class. If you've previously extended ccrz.cc_hk_Payment and want to continue using those extensions, change this configuration to TRUE. For new solutions, leave this configuration FALSE, and create extensions for the ccrz.ccApiStoredPayment data service provider and logic service provider classes.\nThe ccrz.ccApiStoredPayment.fetch method now accepts the following inputs:\nccrz.ccApiStoredPayment.ACCOUNTTYPES\nccrz.ccApiStoredPayment.BYUSER\nccrz.ccApiStoredPayment.ISREADONLY\nThe output data for the ccrz.ccApiStoredPayment.fetch and ccrz.ccApiStoredPayment.remove methods can now include a stored payment's related subscription data in the ccrz.ccApiSubscription.SUBSCRIPTIONS key.\n\nHow: These enhancements are available after you upgrade the managed package.\n\nSEE ALSO\nAllow a Buyer to Manage Stored Payments on the My Account Page\n(Salesforce Developers) ccrz.ccApiStoredPayment\n(Salesforce Developers) Extension Examples for Stored Payments\n(Salesforce Developers) ccrz.cc_hk_Payment\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Extending My Wallet Functionality in B2B Commerce",
    "keywords": [
        "my wallet",
        "stored payments",
        "b2b commerce",
        "visualforce",
        "extension hook",
        "payment api"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account_my_wallet.htm&language=en_US&type=5"
    ],
    "embedding": [
        -1.4831311702728271,
        -0.1342845857143402,
        0.018567316234111786,
        0.7939806580543518,
        -1.0901522636413574,
        -1.0610995292663574,
        0.7690987586975098,
        1.0667673349380493,
        -0.4345192313194275,
        0.6707963347434998,
        -0.583747923374176,
        0.7667529582977295,
        0.11351349204778671,
        -0.7520877122879028,
        -0.18370629847049713,
        -0.4343748986721039,
        0.45186805725097656,
        -0.2997211217880249,
        0.5335705280303955,
        0.33151760697364807,
        -0.48681995272636414,
        0.35324445366859436,
        0.02853298932313919,
        0.4480741620063782,
        -0.7730876803398132,
        -0.5788471698760986,
        -0.2599819302558899,
        -0.08208442479372025,
        -0.5517334342002869,
        0.3555653393268585,
        0.06285250931978226,
        0.4992709755897522,
        0.7822403311729431,
        -0.24358198046684265,
        0.051574524492025375,
        -0.6785042881965637,
        -0.06869293749332428,
        0.008451089262962341,
        1.1167092323303223,
        -0.18697646260261536,
        -0.31202343106269836,
        0.09160138666629791,
        -0.30404070019721985,
        -0.746606171131134,
        -0.363567978143692,
        0.1681060642004013,
        0.3717387914657593,
        -0.518078625202179,
        -0.30337733030319214,
        1.0493274927139282,
        -0.2675914168357849,
        0.022396139800548553,
        0.39110445976257324,
        -0.21458429098129272,
        -0.7147012948989868,
        0.6207822561264038,
        0.39378973841667175,
        -0.4540046751499176,
        -0.06414271891117096,
        0.17174164950847626,
        0.29198938608169556,
        0.3805457055568695,
        0.15574756264686584,
        -0.6125637292861938,
        -0.18493470549583435,
        0.8121628165245056
    ]
}