{
    "id": "02708775520ecc0dbb40f50d9382694d5628d56e520e3c0ba7c01fcd1b967e85-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_discovery_custom_error_exception.htm&language=en_US&type=5",
    "content": "nullIdentify Your Users and Manage Access\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Identify Your Users and Manage Access\n Who Is Salesforce Identity For?\n Salesforce Identity Licenses\n Multi-Factor Authentication\n Single Sign-On\n Identity Connect\n Custom Login Flows\n Login Access\n Manage User Passwords\n Lightning Login for Password-Free Logins\n Certificate-Based Authentication\n Connected Apps\n External Client Apps\n Authorize Apps with OAuth\n App Launcher\n Manage API Access\n Manage Salesforce User Identities with SCIM\n Salesforce Customer Identity\n Prepare Your Org for Salesforce Customer Identity\n Passwordless Login\n Email or Phone Number Registration with Passwordless Login\n Create a Custom Login Discovery Page\n Customize the LoginDiscovery Handler\n Create Custom Error Messages in the Login Discovery Handler\n Identity Verification with Passwordless Login\n Passwordless Login Coding Considerations\n Self-Registration\n Single Sign-On for Salesforce Customer Identity\n Headless Identity APIs for Customers and Partners\n Embedded Login\n Customize Login, Logout, and Password Management Pages\n Brand Your Identity Experience\n Manage Sites with Contactless Users\n Monitor Access to Your Salesforce Orgs and Experience Cloud Sites\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nIDENTIFY YOUR USERS AND MANAGE ACCESS\nCreate Custom Error Messages in the Login Discovery Handler\n\nIf a user makes a mistake when trying to log in to your site, the Apex handler displays a generic error message. You can customize the error message that appears on the login page using the Auth.DiscoveryCustomErrorException exception.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nAvailable in: Salesforce Classic and Lightning Experience\nAvailable in: Enterprise, Performance, Unlimited, and Developer Editions\n\n\nUSER PERMISSIONS\nNEEDED\nTo access Experience Workspaces:\t\nAccess Experience Management OR Manage Experiences OR Create and Set Up Experiences\nAND is a member of the Experience Cloud site\n\nTo create and edit Visualforce pages:\tCustomize Application\nTo edit Apex classes:\t\nAuthor Apex\nAND Customize Application\nFrom Setup, in the Quick Find box, enter Apex, and then select Apex Classes.\nFrom the list of Apex classes, find the class that implements Auth.LoginDiscoveryHandler.\nYou can find the name of the handlers on the Login & Registration page of the Administration workspace. If you haven’t renamed the handler, the name is similar to AutocreatedDiscLoginHandler1535677786093.\nTo add the custom error message, edit the Apex class using the Auth.DiscoveryCustomErrorException exception.\nFor example, throw new Auth.DiscoveryCustomErrorException('Custom error message defined by the admin.').\n(Optional) Instead of entering the custom error message in the Apex class, you can create the error message as a custom label.\nCustom labels are custom text values that can be translated to the user’s native language. In this example, CustomError is a custom label.\n\nthrow new Auth.DiscoveryCustomErrorException(Label.CustomError)\n\nNOTE You create a custom error message from the Custom Labels Setup page. The error message can be up to 200 characters.\n\nLogin Discovery custom error messages appear on the login page.\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Customizing Salesforce Login Experience",
    "keywords": [
        "Salesforce Identity",
        "Multi-Factor Authentication",
        "Single Sign-On",
        "Login Access",
        "Password Management",
        "Auth Discovery CustomErrorException",
        "Apex Handler",
        "Custom Labels"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.identity_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_overview_2fa.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_2fa_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_mfa_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.use_built_in_authenticators_as_a_verification_method.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_u2f_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_disconnect_verification_methods.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_sp_rp_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml_setting_up.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_saml_login_history.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_jit_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_authentication_providers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_predefined_authentication_provider_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_apple.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_provider_addl_params.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_idp_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_idp_saml_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_both_sp_idp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sites_portals_about.htm&language=en_US&type=5#sso_sites_portals_about",
        "https://help.salesforce.com/s/articleView?id=sf.sso_sfdc_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_provider_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.config_auth_provider_examples.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.slo_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.sso_delauthentication.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identityconnect_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_login_flow.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_login_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_overview_passwords.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_ll_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_certificate_based_auth.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_create.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_edit_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_manage.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_user_provisioning.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_notifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_mobile_push_notifications.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_test_push.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_notifications_custom.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_custom_push_payload.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.create_a_local_external_client_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.enable_oauth_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps_oauth_credential_rotation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_client_apps_oauth_flow_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.configure_oauth_code_credentials_flow_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.manage_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_external_client_apps_creation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_set_up_external_client_apps_permissions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_create_a_local_external_client_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_enable_oauth_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_configure_packageable_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_that_references_the_source_org.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_with_global_settings_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.associate_and_disassociate_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.disassociate_an_external_client_app_from_the_source_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.associate_an_external_client_app_with_the_source_global_settings_file.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.deploy_external_client_app_metadata_between_two_orgs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.disable_an_external_client_app_plugin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_external_client_apps_oauth_credential_rotation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.meta_custom_attributes_for_external_client_apps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_authenticate.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_token_exchange_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_hybrid_app_flow_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_access_tokens.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.connected_app_enable_jwt.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_oauth_customscopes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_app_launcher.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.reordering_custom_apps_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.reordering_custom_apps_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_api_access_control_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_scim_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_about_customers_partners.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_prepare_your_org.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_discovery_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_passwordless_login_verification_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_self_registration_configure.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_single_sign_on_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_customers_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_experience_settings_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.headless_identity_flows_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_embedded_login_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_all_steps.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_prereqs.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_2.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_3.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_step_5.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_login_page_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_custom_login_page_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_branding_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_dynamic_create_brands.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.external_identity_contactless_users_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.identity_monitor_access.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.users_login_history.htm&language=en_US&type=5#users_login_history",
        "https://help.salesforce.com/s/articleView?id=sf.security_sms_identity_verification.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.security_device_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        0.5637281537055969,
        0.23517020046710968,
        -0.33672016859054565,
        -0.25845348834991455,
        0.7135626077651978,
        0.17825718224048615,
        -0.2759005129337311,
        0.5621857643127441,
        -0.08876369893550873,
        0.021911144256591797,
        -0.4905945062637329,
        -0.32926318049430847,
        -0.10188725590705872,
        -0.04759405925869942,
        0.10195395350456238,
        0.044570013880729675,
        -0.7102378010749817,
        0.6732658743858337,
        0.15020790696144104,
        -0.16214579343795776,
        -0.2392427623271942,
        -1.1997092962265015,
        0.6384621262550354,
        0.4117494821548462,
        -0.14882606267929077,
        -0.1272006332874298,
        0.21904762089252472,
        -0.05825147032737732,
        0.6357371211051941,
        0.2622898519039154,
        -0.7522072196006775,
        -0.6485756039619446,
        -0.13713526725769043,
        0.19640031456947327,
        -0.18028570711612701,
        0.21294747292995453,
        -0.37735500931739807,
        -0.32559627294540405,
        -0.1912369728088379,
        0.4046827554702759,
        0.20405206084251404,
        -0.005959354341030121,
        0.3008210062980652,
        -0.5965437293052673,
        0.16467732191085815,
        -0.4344836175441742,
        -0.4777437150478363,
        -1.0615737438201904,
        -0.6885236501693726,
        0.8756364583969116,
        -0.5537580847740173,
        -0.2484700083732605,
        0.4973866045475006,
        -0.14981400966644287,
        0.36054763197898865,
        -0.5163513422012329,
        0.6139208078384399,
        0.7657237648963928,
        0.5393372774124146,
        0.5819100141525269,
        -0.7125635743141174,
        -0.49954521656036377,
        -0.04011731594800949,
        -0.8816930055618286,
        -0.5156156420707703,
        0.03843343257904053,
        0.2977699935436249,
        -0.7191964387893677,
        -0.5941039323806763,
        -0.9036003947257996,
        0.03020406886935234,
        0.6077448725700378,
        0.2974644899368286,
        -0.35132044553756714,
        -0.036148447543382645,
        0.4024703800678253,
        -0.3267875909805298,
        0.2137296199798584,
        0.1753089725971222,
        0.38212522864341736,
        0.25360479950904846,
        -0.5020435452461243,
        0.06545820832252502,
        -0.3571017384529114,
        -0.20331551134586334,
        -0.660455048084259,
        -0.3688250482082367,
        -0.10373738408088684,
        -0.42729273438453674,
        -0.06486358493566513,
        -0.5416004061698914,
        -0.3187665045261383,
        -0.13551898300647736,
        0.0918215960264206,
        -0.417987585067749,
        0.2201576828956604,
        0.2472112774848938,
        -0.0969531461596489,
        0.8003961443901062,
        0.3931592106819153,
        0.08243971318006516,
        0.7351762056350708,
        1.0379328727722168,
        -0.3283923864364624,
        0.4372563660144806,
        0.3781166076660156,
        -0.528425931930542,
        0.08511745929718018,
        -0.2164979726076126,
        0.0003051944077014923,
        -0.45794808864593506,
        0.35493069887161255,
        0.04594540596008301,
        -0.08784857392311096,
        -0.2440851628780365,
        -0.44518399238586426,
        -0.03478802740573883,
        0.761929452419281,
        0.6940322518348694,
        -0.49138858914375305,
        -0.5197082757949829,
        -0.16675062477588654,
        -1.2038395404815674,
        0.2779756486415863,
        -0.28243786096572876,
        0.5820533037185669,
        -0.23852330446243286,
        0.06647974997758865,
        1.3032687902450562,
        -0.8372390270233154,
        4.028450012207031,
        0.6259898543357849,
        0.7515770196914673,
        0.3591478168964386,
        0.2835705876350403,
        0.8628561496734619,
        0.27787625789642334,
        0.24192167818546295,
        -0.23187775909900665,
        -0.8701105117797852,
        -0.28866714239120483,
        -0.29494708776474,
        0.1498231589794159,
        0.8498662710189819,
        -0.25111448764801025,
        0.4025440514087677,
        -1.1545463800430298,
        0.466305136680603,
        0.08999863266944885,
        -0.8953506946563721,
        -0.9738168716430664,
        0.1683303713798523,
        0.12239240109920502,
        1.2447500228881836,
        -0.13609758019447327,
        0.20719219744205475,
        -0.011381793767213821,
        -0.2805030345916748,
        -0.43150007724761963,
        -0.8440800905227661,
        0.046553101390600204,
        -0.7348352670669556,
        0.4514102041721344,
        -0.3452557623386383,
        -0.08045044541358948,
        0.5504249930381775,
        0.2005685716867447,
        -0.03456246107816696,
        -0.1950535774230957,
        -0.10725357383489609,
        0.9891204833984375,
        0.040115222334861755,
        -0.761996328830719,
        -0.41981935501098633,
        0.22501018643379211,
        -0.433455228805542,
        0.07737812399864197,
        -0.03070627897977829,
        0.9431847333908081,
        -0.0429728701710701,
        1.2573158740997314,
        -0.7557222843170166,
        0.40200963616371155,
        -0.06365755200386047,
        0.01458340510725975,
        0.3278249204158783,
        -0.321959525346756,
        -0.7297554612159729,
        -0.3635714054107666,
        0.3405737578868866,
        0.3426191806793213,
        0.14299562573432922,
        0.44656676054000854,
        -0.42197513580322266,
        -0.3123055100440979,
        0.9822538495063782,
        0.19171619415283203,
        0.7500876784324646,
        -0.41359227895736694,
        -0.6200212240219116,
        0.29626965522766113,
        -0.5362101197242737,
        -0.8073592782020569,
        -0.38097190856933594,
        0.7451435327529907,
        0.2986662983894348,
        -0.3285742998123169,
        0.6683093905448914,
        0.4559483230113983,
        -0.9593241810798645,
        0.11605384945869446,
        0.38500553369522095,
        -0.3387696444988251,
        0.08760087937116623,
        0.11034921556711197,
        -0.18502694368362427,
        -0.9961755871772766,
        -0.288490355014801,
        -0.5234854817390442,
        -0.1382763683795929,
        -0.475216805934906,
        0.6719379425048828,
        -0.39136165380477905,
        -0.47496533393859863,
        0.15537600219249725
    ]
}