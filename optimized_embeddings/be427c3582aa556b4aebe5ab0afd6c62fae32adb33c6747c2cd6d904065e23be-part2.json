{
    "id": "be427c3582aa556b4aebe5ab0afd6c62fae32adb33c6747c2cd6d904065e23be-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Install the B2B Commerce for Visualforce Release or Patch for Guest...\n Remove View All Users Permission from Guest User Profiles for B2B...\n Assign Records Created by Guest Users to a Default Owner for B2B...\n Secure Guest Users' Org-Wide Defaults and Sharing Model for B2B...\n Remove Sharing Rules for Carts, Orders, and Addresses\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nResolve Guest User Security Alerts to Keep Your Storefronts Secure by Default\n\nSeveral security alerts are automatically enabled with the Salesforce Summer ’20 release and become mandatory with the Salesforce Winter ’21 release. These alerts affect the ability of any storefront user to log in, and affect the ability of guest users to self-register, browse, create carts, and check out. These alerts also affect managed package code that executes in the context of a guest user. To maintain guest user access on your storefront, install B2B Commerce for Visualforce Spring ’20 (version 4.12) or the latest patch for your version. Then, complete the extra steps required for resolving the security alerts.\n\nREQUIRED EDITIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13) release build 3.149 or later\nB2B Commerce for Visualforce Spring ’20 (version 4.12) release build 3.147 or later\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.9 or later\nB2B Commerce for Visualforce Spring ’19 (version 4.10) patch 3.142.20 or later\nB2B Commerce for Visualforce Summer ’18 (version 4.9) patch 3.136.36 or later\nCloudCraze 4.8 patch 3.133.24 or later\nCloudCraze 4.7 patch 3.124.36 or later\n\nThe specific security alerts that affect guest user access on a storefront include:\n\nRemove View All Users Permission from Guest User Profiles\nAssign Records Created by Guest Users to a Default Owner\nSecure Guest Users' Org-Wide Defaults and Sharing Model\n\nEach B2B Commerce for Visualforce release or patch contains fixes that ensure that guest users can still self-register and create carts after you resolve these security alerts. But, the release or patch itself doesn't maintain all guest user access. Other manual steps are required to comply with the alerts and keep your storefronts functional.\n\nIMPORTANT\nSome steps are required even for storefronts that require all users to log in, and don't allow any guest user access.\nComplete these steps for each Experience Cloud site that supports a storefront.\nTest these steps in a sandbox org before you attempt them in a production org.\nTo avoid service interruptions on your storefront, follow these steps exactly so that you install the appropriate patch before you complete each security alert.\nInstall the B2B Commerce for Visualforce Release or Patch for Guest User Security\nInstall the appropriate build for your version of B2B Commerce for Visualforce. The build contains fixes that ensure that guest users can self-register and create carts after you complete the security alerts.\nRemove View All Users Permission from Guest User Profiles for B2B Commerce for Visualforce\nThe security alert View All Users and Other Permissions Disabled in Guest User Profiles disables the View All Users permission on all guest user profiles. This alert affects the profile assigned to your storefront guest users. To complete this security alert, verify that this permission is deselected on your Experience Cloud site's guest user profile. While you're at it, make a couple of other updates to ensure that guest users can continue to receive order confirmation emails.\nAssign Records Created by Guest Users to a Default Owner for B2B Commerce for Visualforce\nThe security alert Assign Records Created by Guest Users to a Default Owner adds a Digital Experiences setting, Assign new records created by guest users to the default owner. When enabled, this setting restricts a guest user from owning any sObject records, including B2B Commerce for Visualforce custom objects such as CC Carts. To complete this security alert, create a user that you can assign as the default owner for guest user records.\nSecure Guest Users' Org-Wide Defaults and Sharing Model for B2B Commerce for Visualforce\nThe security alert Secure Guest Users' Org-Wide Defaults and Sharing Model adds a sharing setting, Secure guest user record access. This setting restricts access for many B2B Commerce for Visualforce custom objects, which makes the storefront unusable for guest users, even for self-registration. To complete this security alert and keep your storefront accessible for guest users, create and deploy sharing rules for the affected objects.\nRemove Sharing Rules for Carts, Orders, and Addresses\nIn some releases, B2B Commerce for Visualforce fixed an issue that potentially exposed personal identifiable information (PII) in carts, orders, and addresses. This issue resulted from the sharing rules that you previously created for CC Cart, CC Contact Address, and CC Order custom objects. This fix removes the dependency on the specific sharing rules. After you install the patch, remove the affected sharing rules and update the sharing attributes in the order confirmation email template.\nSEE ALSO\nAllow a B2B Commerce for Visualforce Guest Buyer to Browse Your Storefront\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Resolving Security Alerts for B2B Commerce",
    "keywords": [
        "security alerts",
        "guest user security",
        "b2b commerce",
        "visualforce release notes",
        "upgrade guide",
        "salesforce compatibility",
        "experience cloud site"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_patch.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_profile.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_record_owner.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_sharing.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.4872182309627533,
        -0.5586572289466858,
        -0.14099615812301636,
        -0.42268601059913635,
        -0.4863501191139221,
        0.3555217683315277,
        -0.12228043377399445,
        0.656829833984375,
        0.5389426946640015,
        0.5161490440368652,
        -0.40500980615615845,
        0.34627193212509155,
        0.3784743547439575,
        0.1982204020023346,
        0.5643618702888489,
        -0.2929691672325134,
        0.27634233236312866,
        0.16974225640296936,
        0.14126086235046387,
        -0.3467983305454254,
        -0.23521165549755096,
        -0.18910489976406097,
        -0.22543226182460785,
        -0.3356904983520508,
        -0.7089467644691467,
        -0.22727136313915253,
        0.22240859270095825,
        0.872478723526001,
        -0.28661271929740906,
        -0.4385991096496582,
        -0.24777492880821228,
        0.04325628653168678,
        -0.6882428526878357,
        0.338654488325119,
        -0.830487847328186,
        -0.6155176758766174,
        0.37345126271247864,
        -0.016166362911462784,
        0.35124579071998596,
        -0.1638881117105484,
        4.473275184631348,
        0.6423048973083496,
        0.5912120342254639,
        0.5638028979301453,
        0.4208455979824066,
        1.0791547298431396,
        -0.5465917587280273,
        -0.19707795977592468,
        -0.18273919820785522,
        -0.27190786600112915,
        -0.03653237223625183,
        0.3277367353439331,
        0.7013564109802246,
        0.09909521043300629,
        -0.2430594563484192,
        -0.1909029185771942,
        -0.24583299458026886,
        0.031226325780153275,
        0.6829515695571899,
        -0.5691448450088501,
        -0.528865396976471,
        -0.21309494972229004,
        -0.039668843150138855,
        0.6098673343658447,
        0.12009666860103607,
        -0.09448997676372528,
        0.32054436206817627,
        -0.1720794290304184,
        -0.6681020259857178,
        -1.263388991355896,
        0.30421316623687744,
        -0.19312164187431335,
        1.0524556636810303,
        -0.29533642530441284,
        -0.4069342613220215,
        0.3302285373210907,
        -0.02322724089026451,
        0.28183868527412415,
        -0.04241269826889038,
        -0.09894105046987534,
        0.4226732850074768,
        0.18706014752388,
        -0.7076971530914307,
        0.050553061068058014,
        0.2253154069185257,
        -0.29734674096107483,
        0.5483683347702026,
        0.01876191422343254,
        0.6546212434768677,
        -0.2652900218963623,
        0.4133704900741577,
        -0.374785453081131,
        0.7028548121452332,
        0.0577249601483345,
        -0.23016265034675598,
        0.5836814045906067,
        -0.12207061052322388,
        -0.2111893594264984,
        0.5973193049430847,
        0.044522725045681,
        -0.21303385496139526,
        0.2987191081047058,
        -0.5230156183242798,
        -0.007090330123901367,
        -0.2666682004928589,
        -0.11915305256843567,
        0.7433304786682129,
        0.7262208461761475,
        0.017092660069465637,
        -0.4921138286590576,
        0.037871308624744415,
        0.34943222999572754,
        -0.4962753355503082,
        -0.8336113691329956,
        -0.18068572878837585,
        -0.016546770930290222,
        -0.1378456950187683,
        -0.0121207470074296,
        0.7657182216644287,
        -0.6600293517112732,
        -0.5983937978744507,
        -0.012449558824300766,
        -0.28387701511383057,
        0.08730009198188782,
        0.7994247674942017,
        0.3604862093925476,
        -0.4994381070137024,
        -0.4988313615322113,
        0.211746484041214,
        0.3371601104736328,
        -0.46339935064315796,
        0.28432419896125793,
        0.09140297770500183,
        -0.0494091734290123,
        -0.19868198037147522
    ]
}