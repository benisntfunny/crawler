{
    "id": "398423f9d2ea6eda8cd77d6156d264cf7daa15190813d9aac6bbb4e33c0ced39-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Prepare Your Existing B2B Commerce for Visualforce Data for Upgrade\n Example Scripts for Migrating Rich Text Field Content for B2B...\n Upgrade the B2B Commerce for Visualforce Managed Package\n Update External Access Sharing Settings for B2B Commerce for...\n Create Metadata for the Namespace List Configuration Added in a Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nPrepare Your Existing B2B Commerce for Visualforce Data for Upgrade\n\nTo help make sure that your upgrade experience is smooth and successful, first clean up some existing data and settings in your org.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nSalesforce CompatibilitySalesforce not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13)\nB2B Commerce for Visualforce Spring ’20 (version 4.12)\nB2B Commerce for Visualforce Summer ’19 (version 4.11)\nB2B Commerce for Visualforce Spring ’19 (version 4.10)\nB2B Commerce for Visualforce Summer ’18 (version 4.9)\n\n\nUSER PERMISSIONS NEEDED\nTo edit system permissions:\tManage Profiles and Permission Sets\nTo modify custom objects:\tCustomize Application\nAdd the Customize Application permission to the permission set assigned to your admin users, if that permission isn't already added.\nNOTE The Customize Application permission is required to modify settings in CC Admin and modify other custom settings and objects that B2B Commerce for Visualforce installs.\nFrom Setup, enter Permission in the Quick Find box, and then select Permission Sets.\nFind the permission set assigned to your admin users, and click Edit.\nOn your permission set details, scroll to the System section and click System Permissions.\nIn System Permissions, click Edit.\nEnable Customize Application, and save your changes.\nEnsure that all B2B Commerce for Visualforce custom objects have Allow Activities enabled.\nNOTE B2B Commerce for Visualforce enables this option by default for all its custom objects. If this option is disabled for any custom objects and you try to install a new version of the managed package, the installation fails. Salesforce sends an email with a list of custom objects for which Allow Activities is disabled. Enable this option for the affected objects, and then repeat these steps.\nFind the list of B2B Commerce for Visualforce custom objects.\nIn Lightning Experience, click the Object Manager tab in Setup.\nIn Salesforce Classic, enter Object in the Quick Find box in Setup, and then select Objects.\nFor each custom object prefixed with CC, click Edit, scroll to the Optional Features section of the record’s Details, and enable Allow Activities.\nSave your changes.\nMigrate rich content from fields that aren't Rich Text Area field types, such as product short and long descriptions. Instead, use the counterpart rich text (RT) fields.\nIMPORTANT B2B Commerce for Visualforce Summer ’18 (version 4.9) deprecates all non-RT fields in the managed package. If your upgrade path includes this version, make sure that you complete this step so that you don't lose any data during the upgrade. If you've already upgraded to Summer ’18 (version 4.9), you can skip this step.\nGo to CC Admin | Global Settings | Settings.\nEnable both Always Use RT Fields and Copy Text to RT, and then save.\nReview the B2B Commerce for Visualforce records in your org. For any record where the non-RT field has content but the RT field is empty, resave the record.\nWhen you enabled Copy Text to RT, B2B Commerce for Visualforce automatically copies content from a non-RT field to an RT field when you save.\nIf you don't see the RT fields in your page layouts, edit your object page layouts and add them.\nRT fields support only a subset of HTML tags. If you used any unsupported tags such as<iframe>, that content isn't automatically copied or migrated.\nIf you have a significant amount of rich content to migrate to RT fields, you can automate the migration with a script.\nEnsure that you’ve migrated storefront metadata from legacy page settings to sObject configuration data.\nNOTE The option to migrate legacy page settings to sObject configurations has existed in the managed package since CloudCraze 4.4. Most storefronts have already completed this migration. If you haven’t migrated page settings yet, make sure that you do so before you upgrade the managed package. Complete the steps in:\n\n(PDF) Migrate from Page Settings to sObject Configurations\n\nIMPORTANT The PDF content was authored for older versions of the managed package and doesn't necessarily represent the most recent version of B2B Commerce for Visualforce. This content is updated infrequently, and only for resolving critical inaccuracies or changes in behavior.\nExample Scripts for Migrating Rich Text Field Content for B2B Commerce for Visualforce\nTo quickly migrate rich content from fields that aren't Rich Text Area types, execute a batch job for each object affected.\nSEE ALSO\nRich Text: Discontinue Use of Non-RT Fields\nNEXT\n\nUpgrade the B2B Commerce for Visualforce Managed Package\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Preparing B2B Commerce for Visualforce Upgrade",
    "keywords": [
        "upgrade guide",
        "visualforce commerce",
        "b2b commerce upgrade",
        "salesforce compatibility",
        "permission sets",
        "migration scripts",
        "rich text fields",
        "legacy page settings"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.customize_layoutcreate.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.fields_using_html_editor.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_rich_text.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_rich_text.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_managed_package.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.32243701815605164,
        0.019285663962364197,
        0.8102249503135681,
        0.10131137818098068,
        0.4829064905643463,
        0.34021425247192383,
        -0.001752808690071106,
        -0.12391331791877747,
        -0.1551940143108368,
        0.1387646645307541,
        -0.7905776500701904,
        0.054280538111925125,
        -0.10497832298278809,
        0.1659790277481079,
        0.36223751306533813,
        -0.3118443191051483,
        -0.19618353247642517,
        1.014075517654419,
        -0.32065171003341675,
        -0.20635859668254852,
        -0.07223828136920929,
        0.7658296227455139,
        -0.4421776533126831,
        -0.23768500983715057,
        -0.7791938185691833,
        -0.1231660395860672,
        0.22138860821723938,
        0.18809784948825836,
        0.9255068898200989,
        -0.5462592244148254,
        4.283543109893799,
        0.6959536671638489,
        0.7976152896881104,
        -0.11832977831363678,
        0.07258927822113037,
        0.8018157482147217,
        0.24627438187599182,
        -0.5171301960945129,
        1.1422607898712158,
        -0.7784178256988525,
        0.12318958342075348,
        0.04414193332195282,
        0.12032581120729446,
        0.32977989315986633,
        -0.6702683568000793,
        0.04198524355888367,
        -0.49424031376838684,
        -0.6850250959396362,
        -0.2611989378929138,
        -0.2110159695148468,
        -0.5047640800476074,
        0.41379159688949585,
        -0.0421394482254982,
        0.9524747729301453,
        0.5624009370803833,
        -0.49833595752716064,
        -0.0009778141975402832,
        -0.08769957721233368,
        -0.16843566298484802,
        -1.0891880989074707,
        0.08097361773252487,
        -0.21296840906143188,
        0.17306241393089294,
        -0.5456222891807556,
        -0.42628586292266846,
        0.20171399414539337,
        0.004803696647286415,
        -0.5348861813545227,
        -0.2263631522655487,
        0.3270809054374695,
        0.6500270366668701,
        -0.7743649482727051,
        -0.2626422345638275,
        0.14855794608592987,
        -0.13484445214271545,
        -0.003649311140179634,
        0.11114858090877533,
        0.25695061683654785,
        0.3868933916091919,
        0.6641435027122498,
        0.7838002443313599,
        -0.5744274258613586,
        0.2860468626022339,
        -0.5984787940979004,
        -0.09782891720533371,
        0.6852867007255554,
        -0.22912545502185822,
        -0.3119121193885803,
        0.5957750082015991,
        0.08357542008161545,
        0.15513449907302856,
        0.5856117010116577,
        -0.7295156121253967,
        0.08425911515951157,
        -0.5431250929832458,
        0.04274121671915054,
        0.4349655508995056,
        0.8080083727836609,
        -0.17335155606269836,
        -1.2805614471435547,
        0.358401894569397,
        -0.4456830322742462,
        -1.2358241081237793,
        -0.23060908913612366,
        -0.46501624584198,
        -0.4670121669769287,
        -0.12128812074661255,
        0.09132019430398941,
        0.0015137065201997757,
        -0.8392645716667175,
        0.3034846782684326,
        0.23628483712673187,
        0.17708545923233032,
        -0.4941108226776123,
        0.8520809412002563,
        0.5236947536468506,
        -1.019164800643921,
        -0.41538602113723755,
        0.3931748569011688,
        0.10518708825111389,
        -0.19334807991981506,
        0.7416558265686035,
        -0.2904835045337677,
        0.23232504725456238,
        0.4021754264831543
    ]
}