{
    "id": "a72e0dde33263388f3ab4aaebeec87230094d0613e163d93468b89e52d1a1a9f-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_calc_seq.htm&language=en_US&type=5",
    "content": "nullManage Your Quotes with CPQ\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Manage Your Quotes with CPQ\n Salesforce CPQ Patch Notes\n Getting Started with Salesforce CPQ\n CPQ Products\n Create and Edit CPQ Quotes\n Managing Bill To and Ship To Addresses on CPQ Quotes\n Using the Quote Line Editor\n Manage Your Bundles in the Configurator\n Product Rules\n Discounts\n Price Rules\n Refreshing Quote Prices\n The CPQ Quote Calculation Sequence\n Add Fields to Trigger Quote Recalculation\n CPQ Quote Calculation Stages\n Disable Real-Time Calculation for CPQ Quotes\n Enable Asynchronous Calculation for Quotes\n Enhance Quotes with Custom Scripts\n Lookup Queries\n CPQ Quote Fields\n CPQ Quote Line Fields\n CPQ Subscription Fields\n CPQ Quote Line Group Fields\n Send Your CPQ Quotes\n Advanced Approvals\n Manage Your CPQ Orders\n Manage Your Subscriptions and Assets\n Amend Your Contracts and Assets\n Renew Your Contracts and Assets\n Printable Tip Sheets & User Guides — For Salesforce CPQ\n Explore CPQ Solution Kits\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE CPQ\nThe CPQ Quote Calculation Sequence\n\nSalesforce CPQ’s Advanced Quote Calculator determines quote and quote line prices in response to user or automated actions. Review which types of actions cause your quote to recalculate. You can also customize workflow rules and price rules to target objects during various stages of the quote calculation sequence.\n\nREQUIRED EDITIONS\nAvailable in: Salesforce CPQ Spring ’16 and later.\n\nWhen the Advanced Quote Calculator performs a calculation, it updates quote and quote line fields based on changes that users made after the last calculation. For example, if you gave a quote line a 10% additional discount and clicked Calculate, Salesforce CPQ calculates the new pricing for that quote line. It then updates your quote’s total to reflect the quote line’s price change.\n\nBy default, the Advanced Quote Calculator performs a calculation when a user or process does any of the following actions.\n\nSelects Calculate in the line editor\nAdds products or deletes lines in the line editor\nSelects Save or Quick Save in the line editor\nIn Salesforce Classic, the package setting Disable Background Calculation Refresh affects the results of a save action in the quote line editor. If the setting is active, Salesforce CPQ doesn’t update standard object pages following a background quote calculation triggered by a save. This setting is always disabled in Lightning Experience and Salesforce1.\nEdits a quote line using the Edit button\nClicks Calculate on the quote detail page. The quote detail page's Calculate button is available in Salesforce CPQ Spring ’19 and later.\nInserts or updates a quote line through Apex, a workflow rule, a Process Builder, a flow, or via a data load process.\nIMPORTANT\nThe Advanced Quote Calculator doesn’t support inserting a quote line or updating the calculating fields directly from a queueable job. These actions start a queued calculation from the quote line trigger, which results in an error.\nAfter placing an order against a quote, do not modify any parts of the quote that affect cost. Do not modify products, dates and schedules, quantity, or price.\nWhen multicurrency is enabled, the currency value from a product record is converted via exchange rate and the quote line inherits the converted value. However, the Advanced Quote Calculator in Lightning Experience doesn’t support currency conversion, so this value isn’t mapped properly from quote line to the opportunity product. To get the correct currency value, create a formula field on the opportunity product instead of mapping the fields from the quote line.\nCalculating Fields Field Set\n\nCalculating Fields is a quote line field set. A field in this set triggers a quote calculation when its value changes. The following fields are part of Calculating Fields by default and still trigger calculations even if you remove them from the field set.\n\nAdditional Discount (%)\nDistributor Discount\nEnd Date\nFirst Segment Term End Date\nMarkup (%)\nPartner Discount\nPrimary\nStart Date\nSubscription Term\n\nYou can also add other fields to Calculating Fields, and remove them if you no longer want their changes to trigger a calculation.\n\nAdd Fields to Trigger Quote Recalculation\nThe quote’s Calculating Fields field set contains a list of quote fields that trigger a quote calculation when their value changes, either manually or by an automated process. You can add other fields to expand the list of fields that trigger calculations.\nCPQ Quote Calculation Stages\nWhen an action causes a calculation, the Salesforce CPQ Advanced Quote Calculator runs through a series of steps to determine pricing for quote lines and quote.\nDisable Real-Time Calculation for CPQ Quotes\nBy default, Salesforce CPQ calculates quote prices in real-time based on user actions and changes to fields in the quote’s Calculating Fields field set. If you want Salesforce CPQ to calculate prices only when a sales rep clicks Quick Save or Save in the quote line editor, you can disable real-time calculation.\nEnable Asynchronous Calculation for Quotes\nBy default, calculations performed outside the quote line editor time out if they take more than 30 seconds. Timeouts can be prevented by enabling asynchronous calculation, however, there are some drawbacks to doing so.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Advanced Quote Calculation in Salesforce CPQ",
    "keywords": [
        "Salesforce CPQ",
        "CPQ Quotes",
        "Quote Calculation",
        "Calculating Fields",
        "Real-Time Calculation",
        "Asynchronous Calculation",
        "quote recalculation"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_master.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_get_started.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_install_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_permissions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_favorites_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_import_lines_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_localization_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lightning_comm_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_bp_layout_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_package_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_products_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_types_of_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_bundle_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_option_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_global_attributes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_mdq_doc_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscription_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_percent_of_total.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_evergreen_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_evergreen_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_products_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_pricing_use_cases.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_usage_product_qle.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pricing_methods.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contracted_prices_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_summary_variables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_sv_in_quote.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_make_a_quote.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_use_the_qle.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_groups.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_line_groups.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_actions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_action_links_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_action_conditions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_qle_search_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_guided_selling.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_configurator_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_product_actions.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_validation_rules_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_selection_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_discounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_discount_schedules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_ds_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pricing_guidance_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_what_do.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_setup_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_pg_things_to_know.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_rules_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_condition_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_action_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_price_rule_pricing_guidance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_refresh_quote_prices_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_calc_seq.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_custom_scripts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_lookup_queries.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_send_your_quotes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_template_content.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_merge_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_terms.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_template_section_task.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_line_columns.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_print_option_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_document_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_styling_cpq_quote_doc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_advanced_approvals.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_setup_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_approvers.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_variables.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_tracked_fields_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_approval_chains.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_email_templates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_smart_approvals.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_aa_perm_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_orders.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_create_orders.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_manage_subs_assets_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contract_opp_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_contract_order_concept.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_assets_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscription_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_subscriptions_prorate_precision_1.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amend_and_renew_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_service_cloud_parent.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amendment_parent_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_amendment_processes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_asset_upgrades_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_renewal_parent_new.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_renewal_product_guidelines.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_fields_trigger_calc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_quote_calc_process.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_disable_calc_immediately.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cpq_enable_async_calculation.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.22376784682273865,
        -0.26592960953712463,
        -0.895563542842865,
        -0.11723803728818893,
        0.24879489839076996,
        0.7565367221832275,
        0.8986237645149231,
        -0.5525410771369934,
        -0.14616434276103973,
        -0.0701940655708313,
        -0.2016117125749588,
        0.13291676342487335,
        -0.5819054245948792,
        0.6147329211235046,
        -0.1786627471446991,
        -0.037143558263778687,
        0.3760666847229004,
        -0.2766915559768677,
        -1.226485013961792,
        -0.4319746792316437,
        -0.09293173253536224,
        -0.4012587070465088,
        0.32477259635925293,
        -0.5399324893951416,
        -0.6383861899375916,
        -0.12789057195186615,
        0.19656020402908325,
        -0.5233415365219116,
        0.0572529137134552,
        -0.318291574716568,
        -0.09425650537014008,
        0.46478503942489624,
        0.10147078335285187,
        -0.32486072182655334,
        0.7026475071907043,
        0.40419265627861023,
        0.14537861943244934,
        -0.12292659282684326,
        -0.012583419680595398,
        0.5109513401985168,
        0.09750677645206451,
        -0.33355745673179626,
        -0.25734609365463257,
        0.39945507049560547,
        -0.0239628404378891,
        -0.3669516444206238,
        -0.3491620123386383,
        0.9737276434898376,
        -0.43879008293151855,
        0.602774441242218,
        -0.19199132919311523,
        0.06441985070705414,
        0.25720399618148804,
        -0.12317506968975067,
        -0.06813840568065643,
        -0.508348822593689,
        -0.6548364162445068,
        -0.2706497013568878,
        -0.33729809522628784,
        -1.146715521812439,
        0.5781928300857544,
        0.12203176319599152,
        0.055010706186294556,
        -0.1220865547657013,
        0.44112661480903625,
        -0.13692933320999146,
        0.5879327058792114,
        0.5539279580116272,
        -0.8424652814865112,
        -0.24473704397678375,
        0.18933281302452087,
        -0.3022554814815521,
        -0.17476604878902435,
        0.1772947609424591,
        -0.2590877413749695,
        -0.9977964162826538,
        0.7775363922119141,
        -0.9252241253852844,
        0.04039336368441582,
        0.2572222352027893,
        -0.007742375135421753,
        -0.9571822881698608,
        -0.2776082456111908,
        -0.23222079873085022,
        0.38079771399497986,
        0.43031176924705505,
        0.23021432757377625,
        0.10962847620248795,
        0.29722142219543457,
        -0.9965181350708008,
        0.4749969244003296,
        -0.2855052053928375,
        -0.2108214795589447,
        -0.5151723027229309,
        -0.5799395442008972,
        0.25773435831069946,
        -0.9807127714157104,
        -0.7631199359893799,
        0.14645835757255554,
        -0.1238909661769867,
        -0.12572608888149261,
        -0.45504143834114075,
        -0.5778464674949646,
        1.0270836353302002,
        -0.09070577472448349,
        0.3782653212547302,
        -0.1529342532157898,
        -0.5892075896263123,
        0.4382230043411255,
        0.3133530914783478,
        0.8397761583328247,
        0.4879249036312103,
        0.8888406753540039,
        1.3154658079147339,
        0.008360102772712708,
        0.2868060767650604,
        0.48984819650650024,
        0.37649402022361755,
        -0.006446005776524544,
        0.18375477194786072,
        -0.09315229952335358,
        -0.09070873260498047,
        -0.408553808927536,
        -0.5321850776672363,
        0.254776269197464,
        0.885474443435669,
        -0.5372229218482971,
        -0.17041435837745667,
        -0.2616063952445984,
        -0.09092913568019867,
        -0.6679524779319763,
        -0.20532909035682678,
        -0.9476842284202576,
        0.18659311532974243,
        0.2561761736869812,
        0.03489164263010025,
        0.07938417792320251,
        -0.3492719233036041,
        4.344235897064209,
        0.07485752552747726,
        0.6139321327209473,
        0.2302788943052292,
        0.4778272807598114,
        0.21966728568077087,
        -0.009541131556034088,
        -0.4052315652370453,
        0.27509739995002747,
        -0.5592302680015564,
        0.07787728309631348,
        -0.15940850973129272,
        -0.27764400839805603,
        0.5875945687294006,
        -0.1370573490858078,
        0.2684473693370819,
        -0.7124488949775696,
        -0.2935076057910919,
        0.26908183097839355,
        -0.631894588470459,
        -0.7588583827018738,
        0.16193319857120514,
        0.5804656744003296,
        1.1073352098464966,
        -0.23645085096359253,
        0.24723203480243683,
        -0.5046099424362183,
        -0.3410761058330536,
        -0.3076624572277069,
        -0.47122979164123535,
        0.4225147068500519,
        -0.0784028172492981,
        0.08017107844352722,
        -0.12515869736671448,
        -0.45855912566185,
        0.34494537115097046,
        -0.1889631450176239,
        0.6211358308792114,
        0.14689356088638306,
        -0.24454040825366974,
        0.8898224830627441,
        1.052410364151001,
        -1.3023269176483154,
        0.1912928968667984,
        -0.214151069521904,
        0.19732800126075745,
        0.03871264308691025,
        0.7666813731193542,
        0.2954559922218323,
        -0.6125743985176086,
        0.6667529344558716,
        0.14452052116394043,
        0.48904743790626526,
        0.018343724310398102,
        -0.7378853559494019,
        0.26348012685775757,
        -0.11767532676458359,
        -0.22990688681602478,
        -0.5406679511070251,
        0.9847860932350159,
        0.21699345111846924,
        -0.0904722660779953,
        0.600263237953186,
        0.2899545431137085,
        -0.029564306139945984,
        0.0367499515414238,
        -0.007978573441505432,
        0.8199304342269897,
        -0.9052497148513794,
        0.4611334800720215,
        0.3469661474227905,
        -0.805359959602356,
        -0.8275800347328186,
        -0.8861274719238281,
        -0.01883751153945923,
        0.020782947540283203,
        -0.6293678879737854,
        -0.010639031417667866,
        0.6702989935874939,
        -0.8448804020881653,
        0.21312814950942993,
        0.22360950708389282,
        -0.0553407296538353,
        -0.5186507701873779,
        0.6576356291770935,
        0.518234372138977,
        -0.6742013096809387,
        0.6469147205352783,
        0.10610781610012054,
        0.5645090341567993,
        -0.26961183547973633,
        0.9056733250617981,
        -0.2974649965763092,
        -0.419828861951828,
        -0.11595398187637329
    ]
}