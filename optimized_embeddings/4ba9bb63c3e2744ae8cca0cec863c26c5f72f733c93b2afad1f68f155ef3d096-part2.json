{
    "id": "4ba9bb63c3e2744ae8cca0cec863c26c5f72f733c93b2afad1f68f155ef3d096-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart_extension.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n Upgrade to B2B Commerce for Visualforce Spring ‘19 (Version 4.10)\n SEO: Provide More Storefront Data to External Search Engines\n Shield Platform Encryption: Protect Your B2B Commerce for...\n Shopping Cart Page 2.0: Easier Extension and Enhanced Performance\n Extend Cart Save and Validation Logic in Fewer Steps\n Deliver a Faster Cart Experience to Storefront Users\n Account for Updated Cart Data in Front-End Extensions\n Shopping Cart Page Extensions for Version 2.0\n Storefront Experience: Learn and Customize B2B Commerce for...\n Performance and Security: Help Users Browse Pages and Complete Tasks...\n Admin Experience: More Easily Manage Storefront Data in Your Org\n Other Fixes in B2B Commerce for Visualforce Spring ’19 (Version 4.10)\n Patch Notes for B2B Commerce for Visualforce Spring ’19 (Version 4.10)\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nShopping Cart Page Extensions for Version 2.0\n\nDid you extend the Shopping Cart page version 1.0 in a previous version of B2B Commerce for Visualforce, but you want to start using version 2.0? Carefully migrate your existing code that extended version 1.0 to use the correct extension points in version 2.0.\n\nREQUIRED EDITIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13)\nB2B Commerce for Visualforce Spring ’20 (version 4.12)\nB2B Commerce for Visualforce Summer ’19 (version 4.11)\nB2B Commerce for Visualforce Spring ’19 (version 4.10)\nB2B Commerce for Visualforce Summer ’18 (version 4.9)\n\nThe Shopping Cart page version 2.0 provides a set of API extension points that differ from version 1.0. Use this information to help you successfully port existing customizations to the Shopping Cart page version 2.0 API.\n\nUSE CASE\tVERSION 1.0 EXTENSION POINT\tVERSION 2.0 EXTENSION POINT\tTHINGS TO KNOW\nUpdate cart items before continuing to the Checkout page.\tccrz.​cc_api_cartExtension.​prepareForSave() method\tccrz.​ccLogicCartSave.​updateBeforeSave() method\tThe new method is empty by default, and uses sObjects instead of beans.\nSet prices from an external source.\tccrz.​cc_api_PriceAdjustment class\tccrz.​ccLogicCartPrice class\tThe ccrz.​ccLogicCartPrice class and ccrz.​ccLogicProductPrice work together to price the cart1.\nSet discounts.\tccrz.​cc_api_PriceAdjustment class\tccrz.​ccLogicCartPrice class\tTo apply a discount or make a price adjustment on a cart item during or after pricing, override the logic class.\nCheck product quantity rules.\tccrz.​cc_api_ProductQuantityRule class\tccrz.​cc_api_ProductQuantityRule class\tNo change.\nInclude custom cart object fields in the data model for the Handlebars templates that construct the Shopping Cart page front end.\tNone available\tVarious classes under ccrz.​ccService\tOverride the appropriate service class to fetch the custom object fields.\nWhen effective accounts are enabled, modify the cart before checkout.\tccrz.​cc_hk_EffectiveAccount.​saveCart() method\tccrz.​cc_hk_EffectiveAccount.​saveCart() method2\tNo change.\n1 You can also control external pricing by extending the ccrz.​ccLogicCartSave class. However, any cart price updates made in this class show up on the Checkout page, not the Shopping Cart page.\n2 The saveCart() method sets the correct billing and shipping addresses. Take care to maintain this functionality even if you extend this method.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Migrating Shopping Cart Page Extensions",
    "keywords": [
        "Shopping Cart Page",
        "API Extension Points",
        "cart item updates",
        "price adjustments",
        "discounts",
        "product quantity rules",
        "custom cart object fields"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.8721213340759277,
        -0.3755597770214081,
        0.2242060899734497,
        1.2707304954528809,
        0.09858156740665436,
        0.09427518397569656,
        -0.5030035376548767,
        -0.6431005001068115,
        -0.08918892592191696,
        -1.1968108415603638,
        0.6111775040626526,
        -0.31075969338417053,
        0.22205913066864014,
        -0.3505218029022217,
        -0.6632445454597473,
        0.6947671175003052,
        0.002984793856739998,
        0.1758633702993393,
        -0.02445371448993683,
        -0.22474487125873566,
        0.5282005071640015,
        -0.16377633810043335,
        -0.6499633193016052,
        0.10429009795188904,
        0.05768214911222458,
        0.13651543855667114,
        -0.28513795137405396,
        0.26565980911254883,
        0.46310311555862427,
        0.14536933600902557,
        0.8133785724639893,
        -0.6565834283828735,
        0.46814996004104614,
        0.4599400460720062,
        -0.21046553552150726,
        -0.45296379923820496,
        0.1689056009054184,
        -0.8657175898551941,
        0.4110327959060669,
        0.3001198172569275,
        0.5929104685783386,
        0.14882460236549377,
        -0.4192253053188324,
        0.05711016431450844,
        -0.1277438998222351,
        -0.6853171586990356,
        -0.21080514788627625,
        1.0465455055236816,
        0.26624688506126404,
        -0.4186742305755615,
        0.5625038743019104,
        0.1327298879623413,
        -0.30497318506240845,
        -0.17195679247379303,
        -0.1296459138393402,
        0.18286970257759094,
        -0.6120821833610535,
        1.0020966529846191,
        0.1411619484424591,
        -0.9116040468215942,
        -0.22557953000068665,
        0.15571075677871704,
        0.4573991596698761,
        0.019800830632448196,
        0.6123467087745667,
        0.9110028743743896,
        -0.6375746130943298,
        0.5766987800598145,
        0.37508147954940796,
        0.3050045669078827,
        0.051853809505701065,
        0.5623751282691956,
        -0.42685022950172424,
        -0.15933288633823395,
        0.10059414803981781
    ]
}