{
    "id": "904b123b3f7e69f8fa9485057da1af65d5848b64a7fda3d4ca66a6632074b9e4-part2",
    "url": "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_using_a_trigger_and_an_on_creation_action_182167.htm&language=en_US&type=5",
    "content": "nullGeneral Administration and Developer Help for Salesforce Industries...\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n General Administration and Developer Help for Salesforce Industries...\n Bulk Async Engine For Cart APIs\n Developer Documentation\n System Administration and Set Up\n Assign Vlocity Licenses to Users Automatically\n Add Vlocity Package Licenses to a Group of Users\n Allocate Space in the Platform Cache Partitions\n Overview of Attributes\n Overview of Profiles and Security for Vlocity\n When to Use Salesforce Person Accounts with Vlocity Products\n Add your Salesforce Instance to the Remote Site Settings List\n Configure a Sandbox after a Refresh\n Enable the Enhanced Lookups Search Setting\n How to Resolve Known Installation and Upgrade Issues\n Vlocity Triggers\n Relationships Between Objects\n Campaign Call List\n Overview of State Models, Transitions, Rules, and Actions\n Workflow for Preparing the Base Object for a State Model\n Workflow for Creating a State Model, States, and Transitions\n Workflow for Creating State Transition Rules\n Workflow for Creating Actions for States and Rules\n Workflow for Testing a State Model\n State Transition Rule Examples\n Workflow for Using a Trigger and an On Creation Action\n Create an EnableStateModel Trigger in Custom Settings\n Create a Trigger for the Base Object\n Create the Email Template for the On Creation Action\n Create the Vlocity Action for the On Creation Action\n Add the On Creation Action\n Test the On Creation Action\n Automatic State Model Transitions\n Workflow for Setting Up Caching for State Models\n Custom Rule Evaluator Class\n Industries Data Models for Communications, Media, Energy,...\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nADMINISTRATION AND DEVELOPER HELP\nWorkflow for Using a Trigger and an On Creation Action\n\nYou can configure a trigger to perform initialization tasks when a new base object record is created. A common initialization task, available in Spring '20 and later releases, is to process an On Creation Action associated with the State Model Version. Other initialization tasks are possible. For example, a trigger for Application__c records sets the initial state of the associated State Model to the Submitted state.\n\nBefore You Begin\n\nBefore you can set up a trigger and an On Creation Action, you must prepare the base object and create the State Model, States, and State Transitions. You don't need the State Rules or other actions, because your State Model only needs to reach the initial state. However, you do need the ReportCardEmail class that other actions use.\n\nTo create the example On Creation Action, you must first perform these tasks at a minimum:\n\nComplete the Workflow for Preparing the Base Object for a State Model.\n\nComplete the Workflow for Creating a State Model, States, and Transitions.\n\nCreate the Apex Class that Sends Emails.\n\nIn the Report Card State Model example, an enrollment email is sent to the student when a new Report_Card__c object is created.\n\nAs an alternative to using an On Creation Action, you can create an action associated with the initial state. This doesn't require a trigger. See Workflow for Creating Actions for States and Rules.\n\nCreate an EnableStateModel Trigger in Custom Settings.\nCreate a Trigger for the Base Object.\nCreate the Email Template for the On Creation Action.\nCreate the Vlocity Action for the On Creation Action.\nAdd the On Creation Action.\nTest the On Creation Action.\nCreate an EnableStateModel Trigger in Custom Settings\nTo create an EnableStateModel trigger for the Report_Card__c object:\nCreate a Trigger for the Base Object\nThe ReportCard trigger ensures that the Report_Card.EnableStateModel setting exists and is set to On, then invokes the processOnCreateActions method. You can rewrite it to work with a different base object.\nCreate the Email Template for the On Creation Action\nThe On Creation Action uses its own Email Template.\nCreate the Vlocity Action for the On Creation Action\nThe Vlocity Action connects the trigger and the Email Template.\nAdd the On Creation Action\nThe On Creation Action connects the Vlocity Action to the Report Card State Model.\nTest the On Creation Action\nAfter you have created the On Creation Action, the final task is to test it.\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\nÂ ",
    "title": "Configuring Triggers and Actions for Salesforce State Models",
    "keywords": [
        "salesforce state models",
        "trigger configuration",
        "on creation action",
        "state model transitions",
        "vlocity actions"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_Administration_and_Develop_Help.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_develop_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_custom_processes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_async_engine_process_tracking_debug.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_developer_documentation_651797.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_interfacesimplementationsand_services_651813.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_interfaces_651849.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_availability_and_eligibility_interface_implementations_652003.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_interfaces_reference_652256.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_implementations_658020.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_implementations_reference_658161.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_working_with_services_662921.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_omnichannel_web_apis_663585.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_omnichannel_web_apis_663626.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_platform_apis_663903.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_attribute_objects_apis_664135.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_campaign_apis_664528.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_customer_stories_and_story_quick_actions_apis_665508.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_dev_t_vlocity_dataraptor_apis_666121.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_system_administration_and_set_up_25005.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_assign_vlocity_licenses_to_users_automatically_25013.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_overview_of_attributes_25315.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_product_attributes_in_epc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_upgrading_the_attribute_schema_25922.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_profile_attributes_26254.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_overview_of_profiles_and_security_for_vlocity_26839.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_guest_user_enhancements_overview_27751.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_guest_user_enhancements_with_vlocity_products_27917.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_vlocity_encryption_solution_28346.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_when_to_use_salesforce_person_accounts_with_vlocity_28493.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_vlocity_triggers_28627.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_relationships_between_objects_29470.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_any_object_relationship_graphs_29494.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_creating_a_relationship_graph_29605.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_define_relationships_using_the_party_model_29649.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_creating_a_relationship_graph_template_30232.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_editing_a_relationship_graph_31095.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_use_the_relationship_graph_admin_config_tool_31150.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_use_the_vlocity_graph_component_editor_31676.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_party_bound_relationship_graphs_32055.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_create_a_new_party_relationship_type_32427.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_households_32715.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_premises_32879.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_call_list_33072.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_workflow_for_installing_and_configuring_the_campaign_record_pagecomponents_33094.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_call_list_record_page_features_33281.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_campaign_actions_33347.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_member_actions_33519.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_admin_t_eventnoteand_task_actions_33639.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_overview_of_state_modelstransitionsrulesand_actions_179897.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_preparing_the_base_object_for_a_state_model_179958.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_a_state_modelstatesand_transitions_180716.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_state_transition_rules_181039.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_creating_actions_for_states_and_rules_181325.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_testing_a_state_model_181837.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_using_a_trigger_and_an_on_creation_action_182167.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_workflow_for_setting_up_caching_for_state_models_182577.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_vlocity_data_model_666727.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_t_vlocity_communications_data_model_666929.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.v_data_models_tsalesforce_industries_communicationsmediaand_energyparty_model_666985.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_the_apex_class_that_sends_emails_181395.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_an_enablestatemodel_trigger_in_custom_settings_182224.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_a_trigger_for_the_base_object_182263.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_the_email_template_for_the_on_creation_action_182318.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_create_the_vlocity_action_for_the_on_creation_action_182377.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_add_the_on_creation_action_182456.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=ind.os_test_the_on_creation_action_182485.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.27899491786956787,
        0.2129383683204651,
        0.16303175687789917,
        -0.6186425089836121,
        0.2816421091556549,
        0.2920330762863159,
        0.5155816078186035,
        -0.296248197555542,
        -0.5921457409858704,
        0.38412123918533325,
        -0.18159349262714386,
        -0.35947492718696594,
        -0.9980159997940063,
        0.307996928691864,
        -0.487142950296402,
        0.2307320535182953,
        0.41238147020339966,
        -0.0883130207657814,
        -0.5346879363059998,
        0.21611034870147705,
        0.584134042263031,
        0.4803864359855652,
        0.701157808303833,
        0.1770068258047104,
        0.18948116898536682,
        0.2769271433353424,
        1.0159859657287598,
        -1.4816243648529053,
        0.3468199074268341,
        0.2463628053665161,
        -0.595717191696167,
        -0.5799092650413513,
        0.5521770119667053,
        -0.778118371963501,
        -0.5881485939025879,
        -0.45442062616348267,
        -0.03696177154779434,
        0.3541508615016937,
        0.296623557806015,
        0.22050480544567108,
        -0.717529833316803,
        -0.2362893521785736,
        0.09497752040624619,
        -0.5263619422912598,
        -0.3765357732772827,
        0.3998550772666931,
        0.021736249327659607,
        -0.19598627090454102,
        -0.04615846276283264,
        -0.38085827231407166,
        0.06976693868637085,
        -0.12620848417282104,
        -0.9217728972434998,
        -0.05219265818595886,
        0.5892892479896545,
        -0.4952932894229889,
        -0.3154650628566742,
        -0.25590747594833374,
        0.050993598997592926,
        -0.20471802353858948,
        -0.1926843523979187,
        -0.0734298825263977,
        0.0012008324265480042,
        0.20213443040847778,
        0.5781679153442383,
        0.41345494985580444,
        -0.17047107219696045,
        -0.3105834722518921,
        0.4534286856651306,
        0.9350406527519226,
        0.0895647183060646,
        0.4500616788864136,
        0.4224080741405487,
        -0.10646405816078186,
        -0.0849352478981018,
        0.03998923301696777,
        0.24664762616157532,
        -0.5753822922706604,
        0.1425962746143341,
        -0.012864476069808006,
        0.25387436151504517,
        0.1872519552707672,
        -0.9082003235816956,
        -0.7732201218605042,
        -0.34360864758491516,
        -0.30017516016960144,
        0.30797889828681946,
        0.0023272112011909485,
        0.3161272704601288,
        -0.8269620537757874,
        -0.46609947085380554,
        -0.5018514394760132,
        -0.03205499053001404,
        -0.34890732169151306,
        0.26691722869873047,
        0.8701052069664001,
        -0.1211007833480835,
        4.25823974609375,
        0.48504456877708435,
        0.4374942183494568,
        -0.09018975496292114,
        1.534658432006836,
        1.2812267541885376,
        0.08579973876476288,
        -0.2973159849643707,
        0.02314620092511177,
        -0.6472970843315125,
        -0.28290247917175293,
        0.3263554871082306,
        -0.2248016595840454,
        0.1333652287721634,
        -0.2544466257095337,
        0.2949904799461365,
        -0.7331600785255432,
        -0.35845017433166504,
        0.08283644169569016,
        -0.8865395784378052,
        -1.2798383235931396,
        0.3261210322380066,
        -0.7826703786849976,
        1.5541459321975708,
        -0.7866917252540588,
        0.5081219673156738,
        -0.4029950201511383,
        -0.22992998361587524,
        0.10073336958885193,
        -0.7432307004928589,
        0.1972658932209015,
        0.07004354894161224,
        0.40014126896858215,
        -0.45822301506996155,
        -0.4497547447681427,
        0.6613544225692749,
        0.13960577547550201,
        -0.007720140740275383,
        -0.38789457082748413,
        -0.376004695892334,
        0.3344428539276123,
        0.04990951716899872,
        -0.33574631810188293,
        0.03994838520884514,
        0.055780887603759766,
        0.13786497712135315,
        -0.07838789373636246,
        0.6385686993598938,
        0.782564103603363,
        -0.7076262831687927,
        0.6938567161560059,
        -0.12329201400279999,
        1.261775016784668,
        0.5105677247047424,
        -0.8901107907295227,
        0.36702215671539307,
        0.003072574269026518,
        -0.3045216202735901,
        -0.27786222100257874,
        0.326724112033844,
        0.5208665728569031,
        -0.5472549200057983,
        -0.013425171375274658,
        0.5725018382072449,
        -0.4051205515861511,
        0.44899073243141174,
        -0.1356395184993744,
        0.1725188046693802,
        -0.6176912188529968,
        -0.023328296840190887,
        0.26651331782341003,
        0.3990213871002197,
        -0.4182322323322296,
        -1.3292944431304932,
        0.4106696546077728,
        0.1423751413822174,
        -0.5399874448776245,
        -0.013408894650638103,
        0.561291515827179,
        -0.5553812980651855,
        0.5701785087585449,
        0.27765873074531555,
        0.11254327744245529,
        0.038128577172756195,
        0.6462637186050415,
        0.11228229850530624,
        -0.5862241983413696,
        0.1051388829946518,
        -0.12763316929340363,
        -0.10425049066543579,
        -0.3917193114757538,
        0.3140806555747986,
        -0.5394995212554932,
        0.03724931180477142,
        0.5439828634262085
    ]
}