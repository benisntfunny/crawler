{
    "id": "0979c017787ee85cabb1b31af9def02fcf918310f9bdfb04e3e6dea441ff733d-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.om_manually_configure_payment_gateway_exchanges_rma.htm&language=en_US&type=5",
    "content": "nullSalesforce Order Management\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce Order Management\n Order Management Resources\n Salesforce Order Management Licenses and Allocations\n Preconfigured Permission Sets for Salesforce Order Management\n Salesforce Payments and Order Management\n Order Management Lifecycle\n Order Management Objects\n Order Management Shopper and Buyer Records\n Configure Order Management Flows\n Einstein Generative AI for Order Management\n High-Scale Orders\n Deleting Order Management Records\n Order Management Console\n Order Summary\n Order Fulfillment\n Distributed Order Management\n Payments and Invoices\n Process Exceptions\n Order Service Tasks\n Order Management and Service Cloud\n View Order History\n Cancel an Order Item\n Reship an Order Item\n Discount an Order Item\n Process an Exchange (Simple)\n Return an Order Item\n Exchanges with RMA Returns Overview\n Exchanges with RMA Setup\n Users and Permissions Configuration for Exchanges RMA\n Activate the Exchanges with RMA Flow Template\n Configure Flow for Exchanges with RMA\n Add the Exchanges with RMA Flow to an Object Page\n Add Country and State Picklists for Exchanges with RMA\n Connect B2C Commerce and Salesforce for Exchanges RMA\n Add a Web Store Inventory Source for Exchanges with RMA\n Payments for Exchanges with RMA\n Salesforce Payments for Exchanges with RMA\n Configure a Payment Gateway for Exchanges RMA (B2C Only)\n Process an Exchange with an RMA Return\n Order on Behalf Of Overview\n Store Fulfillment Application Overview\n Reports for Order Management\n B2C Commerce Connections\n Troubleshoot the B2C Commerce Integration\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE ORDER MANAGEMENT\nConfigure a Payment Gateway for Exchanges RMA (B2C Only)\n\nIf you don’t use Salesforce Payments, you can configure a payment gateway to manage payments. Payment packages for some vendors are available on AppExchange.\n\nIMPORTANT If you’re using exchanges with B2B or D2C Commerce, steps 1-4 are already configured during the Order Management implementation. Go straight to step 5.\nCreate a payment gateway adapter class using the Salesforce Apex connector framework.\nTo help you get started, see these reference classes.\nCreate a payment gateway provider record that points to the adapter class that you created.\nIn Setup, define a named credential that contains the gateway provider’s authentication and login information. The adapter class callout definition calls the named credential.\nLink the payment gateway provider record and the named credential by creating a payment gateway record.\nAssociate the payment gateway to the webstore record.\nEXAMPLE\n\nTo associate the payment gateway to the web store record, use a script like this\n\n// Script to add a connection between the web store and the payment gateway for B2C Commerce stores\nString webStoreName = 'SiteGenesis';\nString paymentGatewayName = 'SalesforceAdapter';\n\n// obtain webstoreid\nList<WebStore> webstores = [SELECT Id, Name FROM WebStore WHERE Name = :webStoreName];\nSystem.debug('Webstores: ' + webstores);\nif(webstores.isEmpty()){\n    System.debug('Error obtaining webstore with name ' + webStoreName);\n}\nString webStoreId = webstores[0].Id;\nSystem.debug('WebStoreId: ' + webStoreId);\n\n// obtain payment gateway id from the payment gateway name\nList<PaymentGateway> paymentGateways = [SELECT Id, PaymentGatewayName FROM PaymentGateway WHERE PaymentGatewayName = :paymentGatewayName];\nSystem.debug('paymentGateways: ' + paymentGateways);\nif(paymentGateways.isEmpty()){\n    System.debug('Error obtaining payment gateway with name ' + paymentGatewayName);\n}\nString paymentGatewayId = paymentGateways[0].Id;\nSystem.debug('paymentGatewayId: ' + paymentGatewayId);\n\n// If a StoreIntegratedService already exists for Payment on the WebStore then update the Integration field with the paymentGatewayId\nList<StoreIntegratedService> storeServices = [SELECT Id FROM StoreIntegratedService WHERE StoreId = :webStoreId AND ServiceProviderType ='Payment' ];\nSystem.debug('storeServices: ' + storeServices);\nif(storeServices.isEmpty()){\n    StoreIntegratedService storeService = new StoreIntegratedService(\n        StoreId = webStoreId,\n        Integration = paymentGatewayId,\n        ServiceProviderType ='Payment');\n    insert storeService;\n} else {\n    StoreIntegratedService existingStoreService = storeServices[0];\n    existingStoreService.Integration = paymentGatewayId;\n    update existingStoreService;\n}\nSEE ALSO\nExchanges with RMA Setup\nExchanges with RMA Returns Overview\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Configure Payment Gateway for Salesforce Order Management",
    "keywords": [
        "payment gateway",
        "salesforce order management",
        "configure payment gateway",
        "exchange with rma",
        "apex connector framework"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_lifecycle_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shopper_records.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_configure_om_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_einstein_gen_ai_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_high_scale_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_editable_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_summary.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_fulfillment.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_distributed_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_service.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_order_items_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_return_merchandise_authorization.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_charge_return_fees.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_exchanges_rma.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_overview_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_setup_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_application.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_reports.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_objects_and_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_account_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_billing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_fulfillment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_inventory_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_transaction_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_routing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shipment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_b2c_commerce_connections.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        0.006885763257741928,
        0.29844915866851807,
        0.7849595546722412,
        -0.7068398594856262,
        3.786849021911621,
        0.7191463112831116,
        0.9240115284919739,
        0.23840157687664032,
        0.7524545788764954,
        1.3645548820495605,
        -0.19991013407707214,
        0.100673146545887,
        0.26947444677352905,
        -1.3070787191390991,
        -0.4820975363254547,
        -0.1892586648464203,
        0.7976605892181396,
        0.5603505373001099,
        -1.065098524093628,
        0.10524356365203857,
        -0.765789806842804,
        -0.03546614199876785,
        0.36716794967651367,
        -0.45706191658973694,
        -0.7996063828468323,
        -0.14567701518535614,
        -0.4218904674053192,
        0.5941081643104553,
        -0.19218426942825317,
        -0.43492257595062256,
        -0.21865203976631165,
        -0.7737071514129639,
        -0.6964917182922363,
        -0.8566362261772156,
        0.37154486775398254,
        0.15622064471244812,
        1.0937269926071167,
        -0.8133913278579712,
        -0.6001420617103577,
        0.28537246584892273,
        1.3808807134628296,
        0.8353292346000671,
        -0.030997954308986664,
        -0.5921804308891296,
        1.1208057403564453,
        -0.09919582307338715,
        -0.8478727340698242,
        0.24399904906749725,
        -0.05232945829629898,
        0.20933547616004944,
        -0.3144417405128479,
        -0.09901449084281921,
        0.2147841453552246,
        0.40664392709732056,
        1.1437559127807617,
        -0.7746495008468628,
        0.6737833619117737,
        -0.495819091796875,
        0.0442049577832222,
        0.02791677415370941,
        0.1208154708147049,
        -0.015425113961100578,
        0.2220616340637207,
        -0.3634166419506073,
        0.48975300788879395,
        0.1619493067264557,
        -0.8225812911987305,
        0.06434719264507294,
        -0.3866231441497803,
        0.5653290748596191,
        0.4478974938392639,
        0.8539407253265381,
        0.3085307776927948,
        -0.39457979798316956,
        -0.6406028270721436,
        -0.3836499750614166,
        -0.488125205039978,
        -0.39450645446777344,
        -0.7462224364280701,
        -0.3321543335914612,
        -0.24789190292358398,
        0.042511824518442154,
        1.0025458335876465,
        -0.6270273923873901,
        0.5272033214569092,
        0.25751909613609314,
        -0.38179174065589905,
        0.24221807718276978,
        0.6998949646949768,
        -0.07413546741008759,
        -0.5222460031509399,
        -0.39653149247169495,
        -0.22844450175762177,
        -0.15244078636169434,
        0.4105609357357025,
        1.1313798427581787,
        -0.4820220172405243,
        0.08935795724391937,
        0.09020480513572693
    ]
}