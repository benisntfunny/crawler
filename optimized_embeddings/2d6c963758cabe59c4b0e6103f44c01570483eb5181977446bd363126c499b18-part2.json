{
    "id": "2d6c963758cabe59c4b0e6103f44c01570483eb5181977446bd363126c499b18-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account_cart.htm&language=en_US&type=5",
    "content": "nullSalesforce B2B Commerce for Visualforce\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce B2B Commerce for Visualforce\n Get Started with B2B Commerce for Visualforce\n Manage Storefront Details and Metadata\n Set Up Product Data for B2B Commerce for Visualforce\n Help Buyers Discover Products on Your Storefront\n Price and Sell Products for B2B Commerce for Visualforce\n Support Buyer Accounts for B2B Commerce for Visualforce\n Account, Contact, and User Information for B2B Commerce for...\n Allow a B2B Commerce for Visualforce Guest Buyer to Browse Your...\n Account Address Books and Contact Addresses for B2B Commerce for...\n Enable Buyer Entitlements with Account Groups\n Change Your Storefront's Portal Account Group\n Allow a Customer Service Representative to Log In to a Storefront on...\n Allow a Buyer to Purchase for Multiple Effective Accounts\n Set Up the Parent-Child Hierarchy Strategy for Effective Accounts\n Set Up the Account Group Strategy for Effective Accounts\n Set Up the Entitled Strategy for Effective Accounts\n Manage Carts for Effective Accounts\n Provide a Smooth Path to Purchase for Storefront Buyers\n Customize the Storefront User Experience\n Strategize for Storefront Success\n Deliver Storefront Performance and Security\n Market Templates for B2B Commerce for Visualforce\n Solution Resources for B2B Commerce for Visualforce\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE\nManage Carts for Effective Accounts\n\nWhen you allow a buyer to purchase on behalf of an effective account, you can specify how a buyer accesses the account's active cart. If your storefront allows buyers to select delivery dates during checkout, you can also specify whether the available dates change based on the selected effective account.\n\nREQUIRED EDITIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13)\nB2B Commerce for Visualforce Spring ’20 (version 4.12)\nB2B Commerce for Visualforce Summer ’19 (version 4.11)\nB2B Commerce for Visualforce Spring ’19 (version 4.10)\nB2B Commerce for Visualforce Summer ’18 (version 4.9)\n\nThe CC Cart object provides an Effective Account ID field, which references the ID of the account record that corresponds to a selected effective account. The cart mode that you select determines which CC Cart records have this field set. You can select the following cart modes:\n\nCart per account (default)\nMaintain a separate cart record for each effective account:\nEach cart record's Effective Account ID references the ID of the account record that corresponds to the effective account.\nWhen a buyer selects a different effective account, the cart record with the corresponding Effective Account ID becomes the active cart.\nSingle cart\nMaintain one cart record during the buyer's storefront session:\nThe cart record's Effective Account ID references the ID of the account record that corresponds to whichever effective account is selected.\nWhen a buyer selects a different effective account, the cart record's Effective Account ID updates to reference the selected account.\nWARNING If the single cart already has products added to it, the cart can change in the following ways after a buyer switches effective accounts. The specific changes depend on the selected account's entitlements.\nThe products can show different prices for different accounts.\nThe products can be available for only some accounts, and entirely unavailable for other accounts.\n\nNo matter the cart mode that you select, the selected effective account affects general cart behavior in the following ways:\n\nSITUATION\tBEHAVIOR\nA cart record doesn't exist for a particular effective account when a buyer selects that account.\tB2B Commerce creates the corresponding cart record and populates the Effective Account ID field.\nA buyer checks out with an effective account's cart.\t\nThe Contact Information section of the Checkout page autopopulates.\nThe Requested Delivery Date picklist in the Shipping section of the Checkout page can show available dates specific to the effective account.\n\nAn effective account's active cart becomes inactive, such as after the buyer completes checkout.\t\n\nB2B Commerce makes another cart record active. You can specify whether B2B Commerce persists the effective account when activating another cart record:\n\nWhen you persist the effective account, B2B Commerce activates another cart record with the same Effective Account ID.\nWhen you don't persist the effective account, B2B Commerce activates the next eligible cart record for the storefront, regardless of Effective Account ID.\nTIP The ccrz.ccLogicCartSetActive logic service provider class defines the default business logic for determining which cart record becomes active. To customize this default business logic, you can extend or override this class with subscriber code.\n\nTo configure cart behavior for effective accounts, update your storefront configuration settings.\n\nOn the CC Admin tab in your org, select your storefront (1).\nIn the Storefront Settings menu, select Configuration Settings (2).\nFrom the Module picklist, select Effective Account (3).\nFind the Cart Mode configuration (4), and check its value (5).\nTIP\nThe default value, CartperAccount, specifies that each effective account has its own cart record. If you're satisfied with this behavior, continue to the next step.\nTo specify a different value, click Override in the Action column, enter SingleCart for Value, and click Create.\nIf the configuration doesn't exist, click New , enter the following values in the New Page Setting window, and click Create.\nFIELD\tVALUE\nModule\tEffective Account\nConfiguration\tCart Mode\nPage\tall\nValue\tCartperAccount or SingleCart\nFind the Persist Effective Account configuration (6), and check its value (7).\nTIP\nThe default value, FALSE, specifies that B2B Commerce activates the next eligible cart record for the storefront, regardless of the cart's Effective Account ID. If you're satisfied with this behavior, continue to the next step.\nTo activate another cart record with the same Effective Account ID, click Override in the Action column, enter TRUE for Value, and click Create.\nIf the configuration doesn't exist, click New , enter the following values in the New Page Setting window, and click Create.\nFIELD\tVALUE\nModule\tEffective Account\nConfiguration\tPersist Effective Account\nPage\tall\nValue\tTRUE or FALSE\nTo evaluate available delivery dates for the effective account during checkout, find the Process Delivery Date configuration (8). Make sure that its value is TRUE (9).\nTIP\nIf the value is FALSE, click Override in the Action column. Enter TRUE for Value, and click Create.\nIf the configuration doesn't exist, click New , enter the following values in the New Page Setting window, and click Create.\nFIELD\tVALUE\nModule\tEffective Account\nConfiguration\tProcess Delivery Date\nPage\tall\nValue\tTRUE\nNOTE To implement the available dates for an effective account, override the default ccrz.cc_hk_EffectiveAccount.processDeliveryDates() extension point method in the B2B Commerce API.\nBuild and activate a new configuration cache.\nSEE ALSO\nSpecify the Source for Contact Information on the Checkout Page\nSet Up the Requested Delivery Date Picker on the Checkout Page\n(Salesforce Developers) ccrz.ccLogicCartSetActive\n(Salesforce Developers) ccrz.cc_hk_EffectiveAccount.processDeliveryDates\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Configuring Cart Behavior for Effective Accounts",
    "keywords": [
        "effective account cart behavior",
        "cart mode configuration",
        "persist effective account",
        "process delivery date",
        "ccLogicCartSetActive",
        "cc_hk_EffectiveAccount.processDeliveryDates"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_visualforce.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_start.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_community_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_self_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_setup_sharing_rules.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_global.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_data.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_settings_loader.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_admin_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_settings.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_types.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_dynamic_kit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_image.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_discovery.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_category_media.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_spec.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_product_index.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_sell.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_price_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_promotion.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_coupon.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_buyer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_account_group.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_effective_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_purchase.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_cart_scale.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront_ux.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_home.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_my_account.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_compare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_detail.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_product_list.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_scaled_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_shopping_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_login.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_site_register.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_effective_account_selector.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_feature_filtering.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_components_spotlight_featured_products.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_labels.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_menu.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_theme.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_extension.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_localize.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_friendly_urls.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_seo_bot_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_shield.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_configuration_cache.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout_contact.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_page_checkout_delivery_date.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.772627592086792,
        -0.237857386469841,
        -0.15546202659606934,
        -0.7493040561676025,
        -0.41891664266586304,
        0.20078909397125244,
        -0.3718418478965759,
        -0.09382101893424988,
        -0.219939723610878,
        0.14179378747940063,
        0.0035950839519500732,
        -0.15870815515518188,
        0.6543846726417542,
        0.5505051016807556,
        -0.4562022387981415,
        -0.40486860275268555,
        0.4076273739337921,
        0.43715909123420715,
        0.3330320119857788,
        0.7194452285766602,
        0.815150260925293,
        0.24594974517822266,
        0.11032664775848389,
        0.6716660857200623,
        -0.10358983278274536,
        -0.6181053519248962,
        -0.06648924946784973,
        -0.08463380485773087,
        -0.33343255519866943,
        0.3164615035057068,
        -0.11603675782680511,
        -0.24988335371017456,
        0.2058658003807068,
        -0.5604298114776611,
        -0.3001270294189453,
        -0.09806345403194427,
        0.21129992604255676,
        -0.8195406198501587,
        -0.09338384866714478,
        0.6362829804420471,
        -0.7396212816238403,
        -0.09902539104223251,
        0.481223464012146,
        0.3071292042732239,
        0.6071140766143799,
        0.3013031780719757,
        0.4157990515232086,
        -0.1396825611591339,
        0.133930504322052,
        0.049668267369270325,
        -0.5358028411865234,
        -0.3060334622859955,
        0.23207101225852966,
        -0.9461617469787598,
        -0.3819858729839325,
        0.40365147590637207,
        0.050471022725105286,
        -0.328586220741272,
        -0.06428157538175583,
        -0.08551982045173645,
        0.43293675780296326,
        0.27176129817962646,
        0.003612130880355835,
        -0.524295449256897,
        -0.4393313527107239,
        -0.08523711562156677,
        -0.47647416591644287,
        0.039328739047050476,
        0.2250969111919403,
        -0.08571837842464447,
        -0.2864571511745453,
        -0.5238634347915649,
        0.25246378779411316,
        0.4481268525123596,
        0.3120116889476776,
        -0.6353352069854736,
        -0.6679263114929199,
        0.2462882697582245,
        -0.7725127935409546,
        -0.09226450324058533,
        -0.2605206370353699,
        -0.5565623044967651,
        0.0765857845544815,
        -0.5298885703086853,
        -0.07398271560668945,
        0.3805237114429474,
        0.035412151366472244,
        0.3158363103866577,
        0.6834164261817932,
        -0.4611562490463257,
        -0.32627347111701965,
        0.08191339671611786,
        0.8017638325691223,
        0.06903485208749771,
        0.5189051628112793,
        0.29673323035240173,
        0.17403191328048706,
        0.09653134644031525,
        0.26876169443130493,
        -0.25452885031700134,
        -0.6115807890892029,
        0.5693055391311646,
        -0.01590735837817192,
        -0.1439448893070221,
        -0.38803964853286743,
        -0.5262144207954407,
        -0.728093147277832,
        0.9053566455841064,
        -0.5506751537322998,
        0.30360668897628784,
        -0.6730319857597351,
        0.1375177502632141,
        -1.1322933435440063,
        0.4028265178203583,
        -0.8497620820999146,
        0.7632485032081604,
        -0.14770251512527466,
        0.2126730978488922,
        0.3162519037723541,
        -0.524215817451477,
        4.167827129364014,
        0.3967715799808502,
        0.11139421164989471,
        0.20588138699531555,
        0.5338076949119568,
        0.801307201385498,
        0.3055219054222107,
        -0.4490430951118469,
        0.4588395059108734,
        -0.5358861684799194,
        -0.17574414610862732,
        -0.27136388421058655,
        0.4535946547985077,
        0.5469452738761902,
        -0.790986955165863,
        0.09977251291275024,
        -0.5270800590515137,
        -0.13304142653942108,
        0.12233595550060272,
        -0.16892829537391663,
        -0.8472204208374023,
        -0.033981192857027054,
        0.40405428409576416,
        1.520231008529663,
        -0.47514843940734863,
        0.2660192847251892,
        -0.023882269859313965,
        -0.1108800396323204,
        -0.49619853496551514,
        -0.971591591835022,
        0.4922696053981781,
        0.08660192787647247,
        0.940218985080719,
        -0.695294201374054,
        0.0625583827495575,
        0.3640288710594177,
        0.6284703016281128,
        0.18308959901332855,
        -0.22860026359558105,
        -0.704623818397522,
        0.4864487648010254,
        0.08990687131881714,
        -1.1113632917404175,
        -0.17443326115608215,
        -0.027971740812063217,
        0.32740920782089233,
        -0.5242855548858643,
        0.4178324043750763,
        0.5127109289169312,
        -0.06872674822807312,
        0.8975760340690613,
        -0.9337882995605469,
        0.5391209125518799,
        0.20061005651950836,
        -0.2971761226654053,
        0.4139055609703064,
        0.20436321198940277,
        -0.21099478006362915,
        0.17920631170272827,
        0.40254920721054077,
        0.21314001083374023,
        -0.27100372314453125,
        -0.374137282371521,
        -0.13462859392166138,
        -0.07013839483261108,
        -0.052253976464271545,
        0.2595056891441345,
        1.1785295009613037,
        -0.1993391513824463,
        -0.35582247376441956,
        0.0693424865603447,
        -0.37767088413238525,
        -1.0418970584869385,
        -0.22712260484695435,
        -0.12218837440013885,
        0.3677752912044525,
        -0.6232073903083801,
        0.4708583950996399,
        0.8052814602851868,
        -1.0560519695281982,
        0.06978868693113327,
        0.27956634759902954,
        0.5239595174789429,
        -0.41904401779174805,
        0.7641086578369141,
        0.40024951100349426,
        -0.7394620180130005,
        -0.22810472548007965,
        0.7965312600135803,
        0.2585366368293762,
        0.19439220428466797,
        0.10831579566001892,
        -0.7708799839019775,
        -0.37097790837287903,
        0.444499671459198
    ]
}