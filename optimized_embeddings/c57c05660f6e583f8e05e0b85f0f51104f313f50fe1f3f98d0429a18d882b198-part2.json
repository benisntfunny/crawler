{
    "id": "c57c05660f6e583f8e05e0b85f0f51104f313f50fe1f3f98d0429a18d882b198-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_profile.htm&language=en_US&type=5",
    "content": "nullB2B Commerce for Visualforce Release Notes and Upgrade Guide\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n B2B Commerce for Visualforce Release Notes and Upgrade Guide\n B2B Commerce for Visualforce Winter ’21 (Version 4.13) Release Notes\n B2B Commerce for Visualforce Spring ’20 (Version 4.12) Release Notes\n B2B Commerce for Visualforce Summer ’19 (Version 4.11) Release Notes\n B2B Commerce for Visualforce Spring ’19 (Version 4.10) Release Notes\n B2B Commerce for Visualforce Summer ’18 (Version 4.9) Release Notes\n Upgrade B2B Commerce for Visualforce to a New Release or Patch\n Resolve Guest User Security Alerts to Keep Your Storefronts Secure...\n Install the B2B Commerce for Visualforce Release or Patch for Guest...\n Remove View All Users Permission from Guest User Profiles for B2B...\n Assign Records Created by Guest Users to a Default Owner for B2B...\n Secure Guest Users' Org-Wide Defaults and Sharing Model for B2B...\n Remove Sharing Rules for Carts, Orders, and Addresses\n Maintain Established CloudCraze Solutions\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nVISUALFORCE B2B COMMERCE RELEASE NOTES AND UPGRADE GUIDE\nRemove View All Users Permission from Guest User Profiles for B2B Commerce for Visualforce\n\nThe security alert View All Users and Other Permissions Disabled in Guest User Profiles disables the View All Users permission on all guest user profiles. This alert affects the profile assigned to your storefront guest users. To complete this security alert, verify that this permission is deselected on your Experience Cloud site's guest user profile. While you're at it, make a couple of other updates to ensure that guest users can continue to receive order confirmation emails.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\n\nSalesforce Compatibility\n\nSalesforce Classic (not available in all orgs) and Lightning Experience for Enterprise, Performance, Unlimited, and Developer editions.\n\n\n\n\nB2B Commerce Compatibility\n\nB2B Commerce for Visualforce Winter ’21 (version 4.13) release build 3.149 or later\nB2B Commerce for Visualforce Spring ’20 (version 4.12) release build 3.147 or later\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.9 or later\nB2B Commerce for Visualforce Spring ’19 (version 4.10) patch 3.142.20 or later\nB2B Commerce for Visualforce Summer ’18 (version 4.9) patch 3.136.36 or later\nCloudCraze 4.8 patch 3.133.24 or later\nCloudCraze 4.7 patch 3.124.36 or later\n\n\nUSER PERMISSIONS NEEDED\nTo create, customize, or publish an Experience Cloud site:\t\n\nCreate and Set Up Experiences\n\nAND\n\nView Setup and Configuration\n\n\nTo edit Apex class access settings:\tManage Profiles and Permission Sets\nNOTE B2B Commerce for Visualforce previously required having the View All Users permission enabled, but the following patch releases remove this requirement.\nB2B Commerce for Visualforce Summer ’19 (version 4.11) patch 3.145.3\nB2B Commerce for Visualforce Spring ’19 (version 4.10) patch 3.142.18\nB2B Commerce for Visualforce Summer ’18 (version 4.9) patch 3.136.33\nCloudCraze 4.8 patch 3.133.23\nCloudCraze 4.7 patch 3.124.35\nFind the settings for your Experience Cloud site's guest user profile.\nFrom Setup, enter Sites in the Quick Find box, and then select All Sites under Digital Experiences.\nClick Workspaces next to your site, and then click the Administration workspace tile.\nIn the Administration workspace, select Pages (1) from the Administration menu and click Go to Force.com (2).\nIn the site details, click Public Access Settings.\nVerify that the View All Users permission is removed from the site's guest user profile.\nIMPORTANT The View All Users permission is removed from all orgs with the Salesforce Winter ’21 release. If you complete these steps and notice that the permission remains available in your org, make sure that the permission is disabled.\nNOTE This step helps you resolve the security alert, View All Users and Other Permissions Disabled in Guest User Profiles. This security alert is automatically enabled with the Salesforce Summer ’20 release and becomes mandatory with the Salesforce Winter ’21 release.\nOn the guest user profile page, click Edit.\nScroll to the Administrative Permissions section, and verify that View All Users is removed. If View All Users remains available, make sure that it's disabled and save your changes.\nUpdate your site's guest user profile with access to Apex classes needed for guest users to receive order confirmation emails.\nTIP\nIf you previously upgraded to B2B Commerce for Visualforce Spring ‘19 (version 4.10), you probably already completed this step.\nIf your storefront doesn't allow guest users to check out and create orders, you can skip this step.\nOn your site's guest user profile, scroll to the Enabled Apex Class Access section, and click Edit.\nFrom the Available Apex Classes list, select ccrz.cc_ctrl_Formatter and ccrz.cc_util_Order, and move them to the Enabled Apex Classes list.\nSave your changes.\nIf you're using B2B Commerce for Visualforce Summer ’18 (version 4.9) or earlier—including CloudCraze 4.8 or 4.7—complete the steps in Update Order Confirmation Email Permissions.\nNOTE These steps ensure that:\nRegistered storefront users also continue to receive order confirmation emails.\nOrder confirmation emails continue to send when customer service representative (CSR) users place orders.\nComplete the Remove View All Users Permission from Guest User Profiles security alert.\nFrom Setup, enter Security Alerts in the Quick Find box, and then select Security Alerts.\nFind the Remove View All Users Permission from Guest User Profiles security alert, and click Get Started.\nFor the step named Disable the View All Users Permission on All Guest User Profiles, click Mark as complete. You satisfied this requirement by completing the steps in this topic.\nFor the step named Grant Guest User Visibility for Specific Use Cases, no action is required. Your storefront doesn't allow guest users to see other members of the Experience Cloud site. Click Mark as complete.\nFor the step named Review Alert, click Done.\nSEE ALSO\nAllow a B2B Commerce for Visualforce Guest Buyer to Browse Your Storefront\nPREVIOUS\n\nInstall the B2B Commerce for Visualforce Release or Patch for Guest User Security\n\nNEXT\n\nAssign Records Created by Guest Users to a Default Owner for B2B Commerce for Visualforce\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Resolving Guest User Security Alerts in B2B Commerce for Visualforce",
    "keywords": [
        "Security Alert Resolutions",
        "Visualforce B2B Commerce",
        "Guest Users Permissions",
        "Experience Cloud Site Setup",
        "Apex Class Access Settings"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_release_notes.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_checkout.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_lwc.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2021_winter_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2020_spring_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_trust.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_seo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_cart.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_storefront.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_performance.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_admin.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_plp.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_developer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_upgrade_prepare.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_patches.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.overview_edition_lex_only.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_summer_patches.htm&language=en_US&type=5#4_11_patch_3_145_3",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2019_spring_patches.htm&language=en_US&type=5#4_10_patch_3_142_18",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_patches.htm&language=en_US&type=5#4_9_patch_3_136_33",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_4_8_patches.htm&language=en_US&type=5#4_8_patch_3_133_23",
        "https://help.salesforce.com/s/articleView?id=sf.cloudcraze_4_7_patches.htm&language=en_US&type=5#4_7_patch_3_124_35",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_rn_2018_summer_guest_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_patch.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.b2b_commerce_guest_security_record_owner.htm&language=en_US&type=5"
    ],
    "embedding": [
        0.1914423108100891,
        0.34445786476135254,
        -1.122876763343811,
        -0.15425604581832886,
        -1.3534706830978394,
        -0.19938087463378906,
        0.12857301533222198,
        -0.001184266060590744,
        -0.6532821655273438,
        0.16373403370380402,
        0.617042601108551,
        -0.3486515283584595,
        -0.04781542345881462,
        -0.5806653499603271,
        -0.2922975718975067,
        -0.43388068675994873,
        -0.6228065490722656,
        -0.41274502873420715,
        -0.23123180866241455,
        0.1576024442911148,
        0.8174770474433899,
        0.48956483602523804,
        0.24680401384830475,
        0.5975475311279297,
        0.7700655460357666,
        0.45179659128189087,
        0.30256056785583496,
        0.4641072750091553,
        -0.35024213790893555,
        0.16514483094215393,
        0.1762075573205948,
        0.6335029006004333,
        -0.1779233068227768,
        -0.20687706768512726,
        0.20196205377578735,
        0.11262017488479614,
        -0.47843658924102783,
        -0.604138970375061,
        -0.20602314174175262,
        0.3698354959487915,
        1.0396361351013184,
        -0.405361533164978,
        -0.2728281617164612,
        0.05423489212989807,
        -0.17116893827915192,
        -0.5576321482658386,
        -0.12227288633584976,
        -0.768169105052948,
        -0.09364505112171173,
        0.7242587208747864,
        0.10353846848011017,
        0.13876381516456604,
        -0.03841133788228035,
        4.325221538543701,
        1.3190457820892334,
        0.4297761023044586,
        0.5547159910202026,
        0.050051428377628326,
        0.8552526235580444,
        -0.12154927849769592,
        -0.3183090090751648,
        -0.054859548807144165,
        -0.3400750458240509,
        -0.2111496478319168,
        -0.18873628973960876,
        0.6877560019493103,
        -0.0023947618901729584,
        -0.899341881275177,
        0.21251650154590607,
        -0.06822674721479416,
        0.025228500366210938,
        0.4295561909675598,
        -0.6687320470809937,
        -0.5446716547012329,
        -0.25977441668510437,
        0.1419226974248886,
        -0.006717190146446228,
        -0.3894302248954773,
        0.10929641872644424,
        0.3933448791503906,
        -0.17191143333911896,
        -0.530364990234375,
        -1.139202356338501,
        0.12755799293518066,
        -0.45014381408691406,
        0.6581239104270935,
        -0.41116413474082947,
        -0.5632935762405396,
        0.2863089442253113,
        0.9256886839866638,
        0.011799145489931107,
        -0.01208474487066269,
        -0.1422431468963623,
        0.5102005004882812,
        0.5456808805465698,
        -0.34781011939048767,
        -0.059690751135349274,
        0.11595168709754944,
        -0.1734863519668579,
        0.005262464284896851,
        -0.02903679758310318,
        0.522179901599884,
        -0.02471029758453369,
        0.7452064156532288,
        -0.6631007790565491,
        0.46829959750175476,
        0.2541639506816864,
        -0.2642422020435333,
        -0.0722309947013855,
        0.5848020315170288,
        0.3101935386657715,
        0.3093455135822296,
        0.38498401641845703,
        -0.2396935522556305,
        0.5424988269805908,
        -0.2680678963661194,
        -0.42146551609039307,
        -0.6769307255744934,
        -0.07165639102458954,
        0.6188784837722778,
        0.7667868733406067,
        0.18113353848457336,
        -0.6142691969871521,
        0.12352465838193893,
        -0.13195939362049103,
        -0.8599485158920288,
        -0.9922808408737183,
        -0.29448848962783813,
        0.1428617238998413,
        -0.031413428485393524,
        -0.47135210037231445,
        0.5434000492095947,
        -0.2500082850456238,
        0.007641687989234924,
        0.21792086958885193,
        -0.4332304298877716,
        0.2048744112253189,
        0.9410445094108582,
        0.1834944188594818,
        -0.6535904407501221,
        -0.325935035943985,
        -0.35935208201408386,
        0.09695734083652496,
        -0.1943473517894745,
        0.23368427157402039,
        -0.3348592519760132,
        -0.2180471420288086,
        0.3315468430519104
    ]
}