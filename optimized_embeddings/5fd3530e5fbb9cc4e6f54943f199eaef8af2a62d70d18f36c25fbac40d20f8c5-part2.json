{
    "id": "5fd3530e5fbb9cc4e6f54943f199eaef8af2a62d70d18f36c25fbac40d20f8c5-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.security_apex_sharing_recalc.htm&language=en_US&type=5",
    "content": "nullEnhance Salesforce with Code\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Enhance Salesforce with Code\n Salesforce Development Tools\n Replacement Tools for Workbench\n Work With APIs\n Write Code\n Developer Console\n Work with Code\n The Editor for Visualforce or Apex\n Source Code Editor\n Object Inspector\n Global Variables\n Valid Values for the $Action Global Variable\n Apex Code Overview\n Visualforce\n Lightning Component Framework\n Secure Your Code\n How Does Apex Class Security Work?\n Set Apex Class Access from the Class List Page\n Set Apex Class Access from the Class Detail Page\n Set Apex Class Access from Permission Sets\n Set Apex Class Access from Profiles\n Create Apex Sharing Reasons\n Recalculate Apex Managed Sharing\n Visualforce Page Security\n Security Guidelines for Apex and Visualforce Development\n Email Services\n Custom Labels\n Defining Custom S-Controls\n Custom Metadata Types\n Canvas App Previewer\n Remote Access Application\n Secure Identity for the Internet of Things\n Debug Your Code\n Test Your Changes\n Manage Scratch Orgs\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nENHANCE SALESFORCE WITH CODE\nRecalculate Apex Managed Sharing\n\nDevelopers can write batch Apex classes that recalculate the Apex managed sharing for a specific custom object.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nAvailable in: Salesforce Classic\nAvailable in: Professional, Enterprise, Performance, Unlimited, Developer, and Database.com Editions\n\n\nUSER PERMISSIONS NEEDED\nTo associate an Apex managed sharing recalculation class:\tAuthor Apex\nTo run an Apex managed sharing recalculation:\t\n\nAuthor Apex\n\nOR\n\nManage Sharing\n\nIMPORTANT When packaging custom objects, be aware that associated Apex sharing recalculations are also included and may prevent the package from installing.\n\nDevelopers can write batch Apex classes that recalculate the Apex managed sharing for a specific custom object. You can associate these classes with a custom object on its detail page, and execute them if a locking issue prevents Apex from granting access to a user as defined by the application’s logic. Apex sharing recalculations are also useful for resolving visibility issues due to coding errors. For example, if a developer corrects a coding error that prevented users from accessing records they should see, the correction might only affect records created after the code update. To ensure the correction applies to existing records as well, the developer can run an Apex sharing recalculation to validate sharing on all records.\n\nYou can run Apex sharing recalculations from a custom object's detail page. You can also run them programmatically using the Database.executeBatch method. In addition, Salesforce automatically runs Apex recalculation classes defined for a custom object every time a custom object's organization wide sharing default access level is updated.\n\nNOTE\n\nSalesforce automatically recalculates sharing for all records on an object when its organization-wide sharing default access level changes. The recalculation includes access granted by sharing rules. In addition, all types of sharing are removed if the access they grant is redundant. For example, the manual sharing which grants Read Only access to a user is deleted when the object’s sharing model is changed from Private to Public Read Only.\n\nFrom the management settings for the custom object, go to Apex Sharing Recalculations.\nChoose the Apex class that recalculates the Apex sharing for this object. The class you choose must implement the Database.Batchable interface. You cannot associate the same Apex class multiple times with the same custom object.\nClick Save.\n\nFor information on creating Apex managed sharing and recalculation classes, see the Apex Developer Guide.\n\nTo associate an Apex managed sharing recalculation class with a custom object:\n\nTo run an Apex sharing recalculation, from the management settings for a custom object, go to Apex Sharing Recalculation, and then click New.\n\nWhen working with Apex sharing recalculations, note the following.\n\nThe Apex code that extends the sharing recalculation can process a maximum of five million records. If this Apex code affects more than five million records, the job fails immediately.\nYou can monitor the status of Apex sharing recalculations in the Apex job queue.\nYou can associate a maximum of five Apex sharing recalculations per custom object.\nYou cannot associate Apex sharing recalculations with standard objects.\nSEE ALSO\nCreate Apex Sharing Reasons\nFind Object Management Settings\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Enhancing Salesforce with Code",
    "keywords": [
        "salesforce development tools",
        "apex code",
        "visualforce",
        "lightning component framework",
        "security guidelines for apex and visualforce development",
        "recalculate apex managed sharing"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.extend_code_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.work_with_apis.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.monitor_rate_limit.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.writing_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_tab_query_editor.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_menubar.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_navigating_logs_panel.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.working_with_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_pages.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_custom_components.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_static_resources.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.aura_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.securing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_package_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.pages_page_level_security.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_email_services.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.cl_about.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.dev_scontrol.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_metadata_api.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_relationships.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatype_validation.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custommetadatatypes_package_install.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.canvas_app_previewer.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.action_link_group_template.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_request.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.custom_perms_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.remoteaccess_identity_iot.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.debugging_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_view_system_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_dev_console_perspectives.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_debug_log.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.testing_your_code.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.code_test_execution.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.security_apex_sharing_reasons.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.extend_click_find_objectmgmt_parent.htm&language=en_US&type=5"
    ],
    "embedding": [
        0.1973540335893631,
        0.833686888217926,
        -0.18228299915790558,
        0.2776441276073456,
        1.3780906200408936,
        -0.1376582235097885,
        0.3399181663990021,
        0.15458664298057556,
        -0.6833037734031677,
        0.2913435101509094,
        0.20679035782814026,
        -0.32503584027290344,
        0.27899810671806335,
        0.2189260572195053,
        0.12771618366241455,
        -0.6368390321731567,
        0.3163301944732666,
        0.7278363704681396,
        -1.424350619316101,
        -0.8546530604362488,
        0.06712635606527328,
        0.3566904067993164,
        1.5961356163024902,
        -0.21360830962657928,
        -0.23672714829444885,
        -0.23333591222763062,
        -0.5936118960380554,
        -0.283297061920166,
        -0.36616215109825134,
        0.5598596930503845,
        0.20108503103256226,
        0.5111114978790283,
        -0.3875647187232971,
        0.4488893747329712,
        0.2533268928527832,
        0.5790673494338989,
        -0.3743586540222168,
        0.49382805824279785,
        -0.7033601403236389,
        0.37999987602233887,
        0.39603278040885925,
        -1.172195553779602,
        -0.129185751080513,
        0.35009676218032837,
        0.15467768907546997,
        0.16377589106559753,
        0.44977882504463196,
        -0.0736052617430687,
        -0.5535942912101746,
        0.4640473425388336,
        -0.6263394951820374,
        0.6389797925949097,
        0.02931591123342514,
        -0.6959455609321594,
        -0.03837132081389427,
        -0.2646094262599945,
        -0.41363123059272766,
        -0.2769690155982971,
        0.2488681524991989,
        0.6030517816543579,
        -0.21665126085281372,
        -0.15724971890449524,
        1.2996209859848022,
        -0.02542463317513466,
        0.3490891456604004,
        0.18996471166610718,
        0.5127596259117126,
        -0.7217992544174194,
        0.3211239278316498,
        0.3251752555370331,
        -0.27209341526031494,
        -0.1748364418745041,
        -0.5349030494689941,
        0.02929605543613434,
        -0.6037554144859314,
        -0.8827527761459351,
        0.6700590252876282,
        0.5878328084945679,
        -1.0759508609771729,
        0.4646243751049042,
        -0.3998313844203949,
        0.5700309872627258,
        -0.6266063451766968,
        0.2682555913925171,
        -0.18639594316482544,
        -0.5386897921562195,
        -0.6686398386955261,
        0.46454691886901855,
        -0.373519629240036,
        -0.12462285161018372,
        0.8368129134178162,
        -0.027475818991661072,
        0.03323450684547424,
        0.30634698271751404
    ]
}