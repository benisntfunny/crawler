{
    "id": "19d93289f2cbacd45b315647b65ae67abcddb29abf3cadfb99e3e982f21133ab-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.om_salesforce_payments_oobo.htm&language=en_US&type=5",
    "content": "nullSalesforce Order Management\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Salesforce Order Management\n Order Management Resources\n Salesforce Order Management Licenses and Allocations\n Preconfigured Permission Sets for Salesforce Order Management\n Salesforce Payments and Order Management\n Order Management Lifecycle\n Order Management Objects\n Order Management Shopper and Buyer Records\n Configure Order Management Flows\n Einstein Generative AI for Order Management\n High-Scale Orders\n Deleting Order Management Records\n Order Management Console\n Order Summary\n Order Fulfillment\n Distributed Order Management\n Payments and Invoices\n Process Exceptions\n Order Service Tasks\n Order Management and Service Cloud\n View Order History\n Cancel an Order Item\n Reship an Order Item\n Discount an Order Item\n Process an Exchange (Simple)\n Return an Order Item\n Exchanges with RMA Returns Overview\n Order on Behalf Of Overview\n Unmanaged Orders (Order Entry Only)\n Order on Behalf Of Setup\n Users and Permissions Configuration for Order on Behalf Of\n Configure a Delivery Method for Order on Behalf Of\n Webstores for Order on Behalf Of (Optional, B2C OOBO Only)\n Activate the Order on Behalf Of Flow Template\n Add the Order on Behalf Of Flow to an Object Page\n Add Country and State Picklists for Order on Behalf Of (Optional)\n Connect B2C Commerce and Salesforce (B2C OOBO Only)\n Add a Web Store Inventory Source for Order on Behalf Of\n Payments for Order on Behalf Of\n Salesforce Payments for Order on Behalf Of\n Configure a Payment Gateway for Order on Behalf Of (B2C Only)\n Place an Order on Behalf of a Customer\n Store Fulfillment Application Overview\n Reports for Order Management\n B2C Commerce Connections\n Troubleshoot the B2C Commerce Integration\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSALESFORCE ORDER MANAGEMENT\nSalesforce Payments for Order on Behalf Of\n\nPlace orders on behalf of customers seamlessly with Salesforce Payments.\n\nREQUIRED EDITIONS\nAvailable in: Lightning Experience\nAvailable in: Enterprise, Unlimited, and Developer Editions\n\nSalesforce Payments can work with both Order Entry and OOBO, using B2C, B2B, or D2C Commerce.\n\nBecause Salesforce Payment Gateways don’t automatically appear as available integrations, there’s an extra step for Order on Behalf Of B2B and D2C stores to work with Salesforce Payments.\n\nSet up an alternative provider on the Payments page. This alternative provider must be a credit card gateway that’s created by Salesforce Payments. To configure the StoreIntegratedService for Salesforce payments, run this script. Use your own web store name and merchant account name for the payment gateway.\n\nEXAMPLE\n// Script to add a connection between the webstore and the payment gateway for stores using\n// Salesforce Payments (SFP) as the payment gateway for SFP does not show in the the Payment \n// Alternate Integration.\n\nString merchantAccountName = 'DemoTest';\nString webStoreName = 'B2B Store';\n\n// obtain webstoreid\nList<WebStore> webstores = [SELECT Id, Name FROM WebStore WHERE Name = :webStoreName];\nSystem.debug('Webstores: ' + webstores);\nif(webstores.isEmpty()){\n    System.debug('Error obtaining webstore with name ' + webStoreName);\n}\nString webStoreId = webstores[0].Id;\nSystem.debug('WebStoreId: ' + webStoreId);\n\n// obtain merchant account \nList<MerchAccPaymentMethodSet> merchAccPaymentMethodSet = [SELECT Id, MerchantAccountId, DeveloperName FROM MerchAccPaymentMethodSet WHERE MerchantAccount.Name = :merchantAccountName];\nSystem.debug('Details: ' + merchAccPaymentMethodSet);\nif(merchAccPaymentMethodSet.isEmpty()){\n    System.debug('Error obtaining MerchAccPaymentMethodSet with name ' + merchantAccountName);\n}\nString merchantAccountId = merchAccPaymentMethodSet[0].MerchantAccountId;\nSystem.debug('merchantAccountId: ' + merchantAccountId);\n\n// obtain payment gateway id from the merchant account\nList<PaymentGateway> paymentGateways = [SELECT Id, PaymentGatewayName FROM PaymentGateway WHERE MerchantAccountId = :merchantAccountId];\nSystem.debug('paymentGateways: ' + paymentGateways);\nif(paymentGateways.isEmpty()){\n    System.debug('Error obtaining payment gateway with merchant account id ' + merchantAccountId);\n}\nString paymentGatewayId = paymentGateways[0].Id;\nSystem.debug('paymentGatewayId: ' + paymentGatewayId);\n\n// If a StoreIntegratedService already exists for Payment on the WebStore then update the Integration field with the paymentGatewayId\nList<StoreIntegratedService> storeServices = [SELECT Id FROM StoreIntegratedService WHERE StoreId = :webStoreId AND ServiceProviderType ='Payment' ];\nSystem.debug('storeServices: ' + storeServices);\nif(storeServices.isEmpty()){\n    StoreIntegratedService storeService = new StoreIntegratedService(\n        StoreId = webStoreId,\n        Integration = paymentGatewayId,\n        ServiceProviderType ='Payment');\n    insert storeService;\n} else {\n    StoreIntegratedService existingStoreService = storeServices[0];\n    existingStoreService.Integration = paymentGatewayId;\n    update existingStoreService;\n}\n\nSEE ALSO\nSalesforce Payments\nOrder on Behalf Of Setup\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Configuring Salesforce Payments for Order Management",
    "keywords": [
        "order management",
        "salesforce payments",
        "payment gateway",
        "B2C",
        "B2B",
        "D2C",
        "webstore",
        "merchant account",
        "credit card",
        "alternative provider"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_lifecycle_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shopper_records.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_configure_om_flows.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_einstein_gen_ai_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_insights_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_high_scale_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_editable_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_console.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_summary.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_fulfillment.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_distributed_order_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_management.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_service.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_order_items_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_return_merchandise_authorization.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_charge_return_fees.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_exchanges_rma_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_exchanges_rma.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_overview_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_on_behalf_of_setup_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payments_oobo.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_app.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_store_fulfillment_application.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_reports.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_management_objects_and_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_account_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_billing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_fulfillment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_inventory_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_objects_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_order_transaction_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_payment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_process_exception_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_return_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_routing_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_shipment_objects.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.om_b2c_commerce_connections.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US",
        "https://help.salesforce.com/s/articleView?id=sf.payments_product_intro.htm&language=en_US&type=5"
    ],
    "embedding": [
        -0.28105437755584717,
        0.40383872389793396,
        0.22264838218688965,
        -0.49790138006210327,
        -0.7881165146827698,
        -0.39758405089378357,
        -0.18477097153663635,
        1.3509360551834106,
        0.05454140529036522,
        -0.3716963231563568,
        -0.2686753273010254,
        0.5209234952926636,
        -0.7821129560470581,
        -0.501242995262146,
        -0.7673085927963257,
        -0.10274282097816467,
        -0.21244195103645325,
        0.2503805160522461,
        1.087576985359192,
        -0.7371999621391296,
        3.847707748413086,
        0.49780896306037903,
        0.8273568749427795,
        0.13912543654441833,
        0.7348818778991699,
        1.2201482057571411,
        -0.12663550674915314,
        0.09369543194770813,
        0.8759577870368958,
        -1.4019768238067627,
        -0.7002679705619812,
        -0.14633116126060486,
        0.6304497122764587,
        0.6184911131858826,
        -0.6092981100082397,
        -0.16038677096366882,
        -0.35037359595298767,
        -0.4248354434967041,
        0.28135260939598083,
        -0.5922040939331055,
        -0.8383910655975342,
        -0.34753182530403137,
        -0.19595131278038025,
        0.7415551543235779,
        -0.43340858817100525,
        -0.41325992345809937,
        -0.11049650609493256,
        -0.8545679450035095,
        -0.8808348178863525,
        -0.903301477432251,
        0.3451476991176605,
        0.10459859669208527,
        1.181799054145813,
        -0.9280786514282227,
        -0.5160778760910034,
        0.2227221429347992,
        1.1209670305252075,
        0.8036787509918213,
        -0.2163793444633484,
        -0.7392742037773132,
        1.4112075567245483,
        -0.04368293285369873,
        -0.8705386519432068,
        0.2257852852344513,
        -0.08685468882322311,
        0.1288648545742035,
        -0.45679575204849243,
        0.02001894637942314,
        0.17161011695861816,
        0.1073089987039566,
        0.8204020261764526,
        -0.9195865392684937,
        0.8982333540916443,
        -0.5119316577911377,
        -0.11731180548667908,
        -0.14278677105903625,
        0.14440569281578064,
        -0.2173035442829132,
        0.350035160779953,
        -0.1849600374698639,
        0.4140537679195404,
        0.17472630739212036,
        -0.566096305847168,
        -0.03307339549064636,
        -0.6430138349533081,
        0.3756512999534607,
        0.5718700289726257,
        0.9779763221740723,
        0.29133638739585876,
        -0.45119795203208923,
        -0.1939006745815277,
        -0.49824440479278564,
        -0.3014281392097473,
        -0.3870909512042999,
        -0.5635192394256592,
        -0.2566550374031067,
        -0.2607983350753784,
        0.09717313945293427,
        1.062399983406067,
        -1.03802490234375,
        0.19808433949947357,
        0.1959555298089981,
        -0.486005961894989,
        -0.16649438440799713,
        0.5384843349456787,
        0.005370959639549255,
        -0.5615691542625427,
        -0.4566200077533722,
        0.10805261135101318,
        -0.4957203269004822,
        0.20032095909118652,
        0.7545221447944641,
        -0.4594547152519226,
        -0.25698649883270264,
        0.19466400146484375
    ]
}