{
    "id": "16f89971a32ce0c9733fee31dccb67f496b307d1b79a906f15a9ec1f5836ddd2-part2",
    "url": "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_configure_triggers.htm&language=en_US&type=5",
    "content": "nullSafety Cloud\nTABLE OF CONTENTS\nClose\nClose\nSearch\nSearch\n Safety Cloud\n Manage Event Access with Safety Cloud\n Monitor Vaccination Verification and COVID-19 Testing Status\n Considerations for the Safety Cloud Packages\n Install the Safety Cloud Package\n Configure Safety Cloud\n Customizations and Integrations\n Custom Triggers\n Configure Safety Cloud Triggers\n Email Templates and Notifications\n QR Code Generation\n Configure Safety Cloud to Generate QR Codes Automatically\n Safety Cloud Integrations\n Person Accounts\n Vaccine Management Blueprint\n\nYou are here:\n\nSALESFORCE HELP\nDOCS\nSAFETY CLOUD\nConfigure Safety Cloud Triggers\n\nThe Safety Cloud package comes with its own list of functionality managed by a trigger framework. You can extend the Safety Cloud triggers with additional functionality, as described here.\n\nREQUIRED EDITIONS AND USER PERMISSIONS\nAvailable in: Enterprise and Unlimited Editions\n\n\nUSER PERMISSIONS NEEDED\nTo modify trigger settings:\tModify All Data\n\nSafety Cloud trigger functionality exists in a custom metadata type called Trigger Settings. These custom metadata records point to units of custom Apex logic.\n\nAll Safety Cloud trigger settings are enabled by default except for the Send Marketing Cloud Emails setting. When you’re ready to send communications to event attendees, you can pair this setting with the Marketing Cloud Engagement email setup.\n\nWe don’t advise turning off any of the other trigger settings unless there’s a specific reason.\n\nTo access and modify Safety Cloud triggers, and to create your own triggers, complete these steps.\n\nAccess and work with Safety Cloud triggers.\nFrom Setup, in the Quick Find box, enter Custom Metadata Types, and then select Trigger Setting.\nNext to the custom field that you want to edit and update, click Edit .\nSave your changes.\nActivate a Trigger Setting.\nAccess the trigger setting that you want to activate.\nSet the Active checkbox to True.\nSave your changes.\n\nTo block users from changing the status of a Health Verification record, you must activate the Block Status Change trigger.\n\nNOTE The Block Status Change is set to Active by default.\nCreate your own Trigger Module Class.\nTo create your own Trigger Module Class and deploy a new Trigger Setting, create a class that inherits the Safety Cloud TriggerModule interface.\nAfter you create the class, create a trigger setting record with the name of your class, and then set it to Active.\nYou can use Table-Driven Trigger Management (TDTM) to create and deploy a new Trigger for Safety Cloud.\n\nFor information about TDTM, see Table-Driven Trigger Management (TDTM) Overview.\n\nImplementation example for creating the class:\n\n\npublic with sharing class MyTriggerClass implements safetycloud.TriggerModule {\n  \n public void run(List<Health_Verification__c> healthVerifications, Map<Id, Health_Verification__c> oldHealthVerificationsById) {\n     if (Trigger.isBefore && Trigger.isUpdate) {\n         runCustomLogic(healthVerifications, oldHealthVerificationsById);\n     }\n }\n private void runCustomLogic(List<safetycloud__Health_Verification__c> healthVerifications, Map<Id, safetycloud__Health_Verification__c> oldHealthVerificationsById) {\n     //TODO: custom logic\n }\n}\n\n\nAccompanying Trigger Setting example:\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<CustomMetadata xmlns=\"http://soap.sforce.com/2006/04/metadata\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\n  <label>My Custom Trigger</label>\n  <protected>false</protected>\n  <values>\n      <field>Active__c</field>\n      <value xsi:type=\"xsd:boolean\">false</value>\n  </values>\n  <values>\n      <field>Class__c</field>\n      <value xsi:type=\"xsd:string\">MyTriggerClass</value>\n  </values>\n  <values>\n      <field>Order__c</field>\n      <value xsi:type=\"xsd:double\">1.0</value>\n  </values>\n</CustomMetadata>\nEXAMPLE\n\nAdditional Key Trigger Settings\n\nPerson Accounts: Each person account has its own external Id. All Health Verifications are linked to a person account.\n\nSet QR Code Logic:This setting sets the QR Code checkbox and date logic. You can disable this trigger setting and create your own QR code logic to suit your needs.\n\nDID THIS ARTICLE SOLVE YOUR ISSUE?\nLet us know so we can improve!\nYes\nNo\n ",
    "title": "Configuring Safety Cloud Triggers in Salesforce",
    "keywords": [
        "safety cloud triggers",
        "custom metadata type",
        "trigger settings",
        "apex logic",
        "marketing cloud emails",
        "health verification",
        "qr code generation",
        "table-driven trigger management",
        "tddm"
    ],
    "links": [
        "https://help.salesforce.com/sfsites/c/resource/HTCommunityCustomJS/HC_TbidAuth.js",
        "https://help.salesforce.com/s/support\",\"target\":\"_self\",\"label\":\"Contact",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_mgt_overview.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_config.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_occasions_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_occasion_settings_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_wellness_questionnaire_intro.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_health_card_qrcode_hv.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_and_marketing_cloud.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_mc_setup_hv.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_setup_email_templates_hv.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_customizations_integrations.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_custom_fields.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.safety_cloud_integrations.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_hv_person_accounts.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_mgt_blueprint.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_mgt_users.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_mgt_capabilities.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_setup_ve.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_updates_setup.htm&language=en_US&type=5",
        "https://help.salesforce.com/s/articleView?id=sf.vaccine_packages_send_updates.htm&language=en_US&type=5",
        "https://help.salesforce.com/s?language=en_US"
    ],
    "embedding": [
        -0.06771345436573029,
        0.19206830859184265,
        -0.44916313886642456,
        0.19406749308109283,
        -0.6934990286827087,
        0.48773565888404846,
        0.16519826650619507,
        0.8522868156433105,
        -0.4052232801914215,
        -0.0904177874326706,
        0.18931512534618378,
        -0.4196571111679077,
        -0.29338186979293823,
        -0.23555529117584229,
        -0.18664759397506714,
        -0.12223691493272781,
        -0.3095870316028595,
        0.34202855825424194,
        0.8332926630973816,
        -0.44636771082878113,
        0.18323880434036255,
        0.3488200902938843,
        -0.09033544361591339,
        -0.4212663471698761,
        0.3858412802219391,
        0.6008690595626831,
        -0.3786880373954773,
        0.015941627323627472,
        -0.3958854079246521,
        0.4208426773548126,
        -0.24383991956710815,
        -0.1144954115152359,
        -0.047304220497608185,
        0.3870066702365875,
        0.14985361695289612
    ]
}